2025-11-20 22:37:01 - root - INFO - <module>:26 - Logging configured successfully
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:30 -   ✓ Logging configuration setup successfully
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:33 - 
Test 2: Get Logger for Module
2025-11-20 22:37:14 - test_module - INFO - test_logging_configuration:36 - Test log message from module logger
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:37 -   ✓ Module logger created and working
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:40 - 
Test 3: Request Logger
2025-11-20 22:37:14 - utils.logging_config - INFO - log_request:115 - REQUEST: GET /api/test | IP: 127.0.0.1 | Params: {'test': 'value'} | Query: {}
2025-11-20 22:37:14 - utils.logging_config - INFO - log_response:123 - RESPONSE: GET /api/test | Status: 200 | Duration: 45.50ms
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:45 -   ✓ Request logger working correctly
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:48 - 
Test 4: Performance Logger
2025-11-20 22:37:14 - utils.logging_config - WARNING - log_slow_query:149 - SLOW QUERY: Duration: 1500.00ms | Threshold: 1000ms | Query: SELECT * FROM companies...
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:55 -   ✓ Performance logger working correctly
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:58 - 
Test 5: Check Log Files
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:63 -   ✓ Log directory exists: logs
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:64 -   ✓ Found 2 log files:
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:67 -     - marketpulse.log: 0.00 MB
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:67 -     - marketpulse_errors.log: 0.00 MB
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:72 - 
Test 6: Verify Logging Levels
2025-11-20 22:37:14 - root - INFO - test_logging_configuration:75 - Info message (should appear)
2025-11-20 22:37:14 - root - WARNING - test_logging_configuration:76 - Warning message (should appear)
2025-11-20 22:37:14 - root - ERROR - test_logging_configuration:77 - Error message (should appear)
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:78 -   ✓ Logging levels working correctly
2025-11-20 22:37:14 - __main__ - INFO - test_logging_configuration:80 - 
  ✓ Logging configuration is working correctly
2025-11-20 22:37:14 - __main__ - INFO - test_monitoring_endpoints:94 - 
============================================================
2025-11-20 22:37:14 - __main__ - INFO - test_monitoring_endpoints:95 - TEST: Monitoring Endpoints (Task 50)
2025-11-20 22:37:14 - __main__ - INFO - test_monitoring_endpoints:96 - ============================================================
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:104 - 
Test 1: Health Check Endpoint
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:111 -   ✓ Health check returned: degraded
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:112 -     - Services checked: 3
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:116 -     - database: unhealthy
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:116 -     - system: healthy
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:116 -     - logging: healthy
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:123 - 
Test 2: Metrics Endpoint
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:130 -   ✓ Metrics endpoint working
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:131 -     - System metrics: True
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:132 -     - Database metrics: True
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:133 -     - Application metrics: True
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:140 - 
Test 3: Log Info Endpoint
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:145 -   ✓ Log info endpoint working
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:146 -     - Log directory: C:\Users\corva\Downloads\INF2003-MarketPulse-Analytics-1\api_python\logs
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:147 -     - Log files count: 2
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:152 - 
Test 4: Verify Monitoring Benefits
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:153 -   Note: Monitoring provides:
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:154 -     - System health checks
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:155 -     - Performance metrics
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:156 -     - Resource monitoring
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:157 -     - Log file management
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:158 -     - Better observability
2025-11-20 22:37:15 - __main__ - INFO - test_monitoring_endpoints:159 -   ✓ Monitoring is implemented
2025-11-20 22:37:15 - __main__ - INFO - test_api_documentation:174 - 
============================================================
2025-11-20 22:37:15 - __main__ - INFO - test_api_documentation:175 - TEST: API Documentation (Task 51)
2025-11-20 22:37:15 - __main__ - INFO - test_api_documentation:176 - ============================================================
2025-11-20 22:37:15 - __main__ - INFO - test_api_documentation:182 - 
Test 1: FastAPI App Configuration
2025-11-20 22:37:17 - utils.live_stock_service - INFO - <module>:586 - Live Stock Service initialized. yfinance available: True
2025-11-20 22:37:21 - utils.news_service - INFO - init_news_service:49 - NewsAPI client initialized and verified successfully
2025-11-20 22:37:22 - utils.cache_utils - WARNING - <module>:38 - Redis package not installed, using in-memory cache only
2025-11-20 22:37:23 - root - INFO - <module>:26 - Logging configured successfully
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:187 -   ✓ API title: MarketPulse Analytics API
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:192 -   ✓ API description: 1111 characters
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:197 -   ✓ API version: 1.0.0
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:202 - 
Test 2: OpenAPI Endpoints
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:212 -   ✓ Swagger UI endpoint configured: /docs
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:212 -   ✓ ReDoc endpoint configured: /redoc
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:212 -   ✓ OpenAPI JSON endpoint configured: /openapi.json
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:217 - 
Test 3: API Metadata
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:220 -   ✓ Contact information configured
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:225 -   ✓ License information configured
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:230 -   ✓ API servers configured: 2 servers
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:232 -     - http://localhost:8000: Development server
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:232 -     - https://api.marketpulse.com: Production server
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:237 - 
Test 4: Router Tags
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:246 -   ✓ Found 20 unique API tags:
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - advanced-analytics
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - alerts
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - cache-monitoring
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - companies
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - correlation
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - dashboard
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - data-warehouse
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - firestore-test
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - indices
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:248 -     - monitoring
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:251 - 
Test 5: Verify Documentation Benefits
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:252 -   Note: API documentation provides:
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:253 -     - Interactive API explorer (Swagger UI)
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:254 -     - Alternative documentation (ReDoc)
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:255 -     - OpenAPI schema for code generation
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:256 -     - Better developer experience
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:257 -     - API versioning and metadata
2025-11-20 22:37:24 - __main__ - INFO - test_api_documentation:258 -   ✓ API documentation is enhanced
2025-11-20 22:37:24 - __main__ - INFO - main:302 - 
============================================================
2025-11-20 22:37:24 - __main__ - INFO - main:303 - TEST SUMMARY
2025-11-20 22:37:24 - __main__ - INFO - main:304 - ============================================================
2025-11-20 22:37:24 - __main__ - INFO - main:309 - Logging Configuration (Task 50): ✓ PASSED
2025-11-20 22:37:24 - __main__ - INFO - main:309 - Monitoring Endpoints (Task 50): ✓ PASSED
2025-11-20 22:37:24 - __main__ - INFO - main:309 - API Documentation (Task 51): ✓ PASSED
2025-11-20 22:37:24 - __main__ - INFO - main:313 - ============================================================
2025-11-20 22:37:24 - __main__ - INFO - main:315 - ✓ All tests passed!
2025-11-20 22:37:24 - config.database - INFO - close_database:133 - MySQL primary connection closed
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:30 -   ✓ Logging configuration setup successfully
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:33 - 
Test 2: Get Logger for Module
2025-11-20 22:37:55 - test_module - INFO - test_logging_configuration:36 - Test log message from module logger
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:37 -   ✓ Module logger created and working
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:40 - 
Test 3: Request Logger
2025-11-20 22:37:55 - utils.logging_config - INFO - log_request:115 - REQUEST: GET /api/test | IP: 127.0.0.1 | Params: {'test': 'value'} | Query: {}
2025-11-20 22:37:55 - utils.logging_config - INFO - log_response:123 - RESPONSE: GET /api/test | Status: 200 | Duration: 45.50ms
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:45 -   ✓ Request logger working correctly
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:48 - 
Test 4: Performance Logger
2025-11-20 22:37:55 - utils.logging_config - WARNING - log_slow_query:149 - SLOW QUERY: Duration: 1500.00ms | Threshold: 1000ms | Query: SELECT * FROM companies...
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:55 -   ✓ Performance logger working correctly
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:58 - 
Test 5: Check Log Files
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:63 -   ✓ Log directory exists: logs
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:64 -   ✓ Found 2 log files:
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:67 -     - marketpulse.log: 0.01 MB
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:67 -     - marketpulse_errors.log: 0.00 MB
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:72 - 
Test 6: Verify Logging Levels
2025-11-20 22:37:55 - root - INFO - test_logging_configuration:75 - Info message (should appear)
2025-11-20 22:37:55 - root - WARNING - test_logging_configuration:76 - Warning message (should appear)
2025-11-20 22:37:55 - root - ERROR - test_logging_configuration:77 - Error message (should appear)
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:78 -   ✓ Logging levels working correctly
2025-11-20 22:37:55 - __main__ - INFO - test_logging_configuration:80 - 
  ✓ Logging configuration is working correctly
2025-11-20 22:37:55 - __main__ - INFO - test_monitoring_endpoints:94 - 
============================================================
2025-11-20 22:37:55 - __main__ - INFO - test_monitoring_endpoints:95 - TEST: Monitoring Endpoints (Task 50)
2025-11-20 22:37:55 - __main__ - INFO - test_monitoring_endpoints:96 - ============================================================
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:104 - 
Test 1: Health Check Endpoint
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:111 -   ✓ Health check returned: degraded
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:112 -     - Services checked: 3
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:116 -     - database: unhealthy
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:116 -     - system: healthy
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:116 -     - logging: healthy
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:123 - 
Test 2: Metrics Endpoint
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:130 -   ✓ Metrics endpoint working
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:131 -     - System metrics: True
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:132 -     - Database metrics: True
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:133 -     - Application metrics: True
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:140 - 
Test 3: Log Info Endpoint
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:145 -   ✓ Log info endpoint working
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:146 -     - Log directory: C:\Users\corva\Downloads\INF2003-MarketPulse-Analytics-1\api_python\logs
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:147 -     - Log files count: 2
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:152 - 
Test 4: Verify Monitoring Benefits
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:153 -   Note: Monitoring provides:
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:154 -     - System health checks
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:155 -     - Performance metrics
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:156 -     - Resource monitoring
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:157 -     - Log file management
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:158 -     - Better observability
2025-11-20 22:37:56 - __main__ - INFO - test_monitoring_endpoints:159 -   ✓ Monitoring is implemented
2025-11-20 22:37:56 - __main__ - INFO - test_api_documentation:174 - 
============================================================
2025-11-20 22:37:56 - __main__ - INFO - test_api_documentation:175 - TEST: API Documentation (Task 51)
2025-11-20 22:37:56 - __main__ - INFO - test_api_documentation:176 - ============================================================
2025-11-20 22:37:56 - __main__ - INFO - test_api_documentation:182 - 
Test 1: FastAPI App Configuration
2025-11-20 22:37:58 - utils.live_stock_service - INFO - <module>:586 - Live Stock Service initialized. yfinance available: True
2025-11-20 22:38:02 - utils.news_service - INFO - init_news_service:49 - NewsAPI client initialized and verified successfully
2025-11-20 22:38:03 - utils.cache_utils - WARNING - <module>:38 - Redis package not installed, using in-memory cache only
2025-11-20 22:38:03 - root - INFO - <module>:26 - Logging configured successfully
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:187 -   ✓ API title: MarketPulse Analytics API
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:192 -   ✓ API description: 1111 characters
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:197 -   ✓ API version: 1.0.0
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:202 - 
Test 2: OpenAPI Endpoints
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:212 -   ✓ Swagger UI endpoint configured: /docs
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:212 -   ✓ ReDoc endpoint configured: /redoc
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:212 -   ✓ OpenAPI JSON endpoint configured: /openapi.json
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:217 - 
Test 3: API Metadata
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:220 -   ✓ Contact information configured
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:225 -   ✓ License information configured
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:230 -   ✓ API servers configured: 2 servers
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:232 -     - http://localhost:8000: Development server
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:232 -     - https://api.marketpulse.com: Production server
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:237 - 
Test 4: Router Tags
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:246 -   ✓ Found 20 unique API tags:
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - advanced-analytics
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - alerts
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - cache-monitoring
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - companies
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - correlation
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - dashboard
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - data-warehouse
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - firestore-test
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - indices
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:248 -     - monitoring
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:251 - 
Test 5: Verify Documentation Benefits
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:252 -   Note: API documentation provides:
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:253 -     - Interactive API explorer (Swagger UI)
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:254 -     - Alternative documentation (ReDoc)
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:255 -     - OpenAPI schema for code generation
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:256 -     - Better developer experience
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:257 -     - API versioning and metadata
2025-11-20 22:38:03 - __main__ - INFO - test_api_documentation:258 -   ✓ API documentation is enhanced
2025-11-20 22:38:03 - __main__ - INFO - main:302 - 
============================================================
2025-11-20 22:38:03 - __main__ - INFO - main:303 - TEST SUMMARY
2025-11-20 22:38:03 - __main__ - INFO - main:304 - ============================================================
2025-11-20 22:38:03 - __main__ - INFO - main:309 - Logging Configuration (Task 50): PASSED
2025-11-20 22:38:03 - __main__ - INFO - main:309 - Monitoring Endpoints (Task 50): PASSED
2025-11-20 22:38:03 - __main__ - INFO - main:309 - API Documentation (Task 51): PASSED
2025-11-20 22:38:03 - __main__ - INFO - main:313 - ============================================================
2025-11-20 22:38:03 - __main__ - INFO - main:315 - All tests passed!
2025-11-20 22:38:03 - config.database - INFO - close_database:133 - MySQL primary connection closed
2025-11-20 22:38:59 - root - INFO - <module>:26 - Logging configured successfully
2025-11-20 22:39:00 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-20 22:39:00 - config.database - INFO - init_database:57 - Initializing MySQL primary (write) connection...
2025-11-20 22:39:03 - config.database - INFO - init_database:77 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-20 22:39:03 - config.database - INFO - init_database:117 - Read replica not configured, using primary for reads
2025-11-20 22:39:03 - utils.startup_sync - INFO - sync_all_data:991 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-20 22:39:03 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-20 22:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-ticker | IP: 127.0.0.1 | Params: {'ticker': 'AAPL'} | Query: {}
2025-11-20 22:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-ticker | Status: 200 | Duration: 7.12ms
2025-11-20 22:40:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-ticker | IP: 127.0.0.1 | Params: {'ticker': 'MSFT'} | Query: {}
2025-11-20 22:40:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-ticker | Status: 200 | Duration: 6.10ms
2025-11-20 22:40:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-ticker | IP: 127.0.0.1 | Params: {'ticker': 'aapl'} | Query: {}
2025-11-20 22:40:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-ticker | Status: 200 | Duration: 4.05ms
2025-11-20 22:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-ticker | IP: 127.0.0.1 | Params: {'ticker': 'INVALID-TICKER'} | Query: {}
2025-11-20 22:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-ticker | Status: 200 | Duration: 4.05ms
2025-11-20 22:40:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-ticker | IP: 127.0.0.1 | Params: {'ticker': 'AAPL123'} | Query: {}
2025-11-20 22:40:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-ticker | Status: 200 | Duration: 4.07ms
2025-11-20 22:40:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-ticker | IP: 127.0.0.1 | Params: {'ticker': ''} | Query: {}
2025-11-20 22:40:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-ticker | Status: 200 | Duration: 3.56ms
2025-11-20 22:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-ticker | IP: 127.0.0.1 | Params: {'ticker': "'; DROP TABLE companies; --"} | Query: {}
2025-11-20 22:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-ticker | Status: 200 | Duration: 6.20ms
2025-11-20 22:40:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-email | IP: 127.0.0.1 | Params: {'email': 'user@example.com'} | Query: {}
2025-11-20 22:40:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-email | Status: 200 | Duration: 5.67ms
2025-11-20 22:40:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-email | IP: 127.0.0.1 | Params: {'email': 'test.email@domain.co.uk'} | Query: {}
2025-11-20 22:40:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-email | Status: 200 | Duration: 3.04ms
2025-11-20 22:41:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-email | IP: 127.0.0.1 | Params: {'email': 'invalid-email'} | Query: {}
2025-11-20 22:41:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-email | Status: 200 | Duration: 10.17ms
2025-11-20 22:41:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-email | IP: 127.0.0.1 | Params: {'email': '@domain.com'} | Query: {}
2025-11-20 22:41:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-email | Status: 200 | Duration: 3.07ms
2025-11-20 22:41:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-email | IP: 127.0.0.1 | Params: {'email': 'user@'} | Query: {}
2025-11-20 22:41:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-email | Status: 200 | Duration: 4.46ms
2025-11-20 22:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-email | IP: 127.0.0.1 | Params: {'email': 'user@domain'} | Query: {}
2025-11-20 22:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-email | Status: 200 | Duration: 4.57ms
2025-11-20 22:41:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-password | IP: 127.0.0.1 | Params: {'password': 'StrongPass123!'} | Query: {}
2025-11-20 22:41:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-password | Status: 200 | Duration: 8.40ms
2025-11-20 22:41:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-password | IP: 127.0.0.1 | Params: {'password': 'weak'} | Query: {}
2025-11-20 22:41:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-password | Status: 200 | Duration: 4.51ms
2025-11-20 22:41:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-password | IP: 127.0.0.1 | Params: {'password': 'NoSpecialChar123'} | Query: {}
2025-11-20 22:41:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-password | Status: 200 | Duration: 4.08ms
2025-11-20 22:41:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-password | IP: 127.0.0.1 | Params: {'password': 'NoNumber!'} | Query: {}
2025-11-20 22:41:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-password | Status: 200 | Duration: 4.06ms
2025-11-20 22:41:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-password | IP: 127.0.0.1 | Params: {'password': 'nouppercase123!'} | Query: {}
2025-11-20 22:41:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-password | Status: 200 | Duration: 3.57ms
2025-11-20 22:41:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-password | IP: 127.0.0.1 | Params: {'password': 'NOLOWERCASE123!'} | Query: {}
2025-11-20 22:41:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-password | Status: 200 | Duration: 3.09ms
2025-11-20 22:41:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-username | IP: 127.0.0.1 | Params: {'username': 'validuser'} | Query: {}
2025-11-20 22:41:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-username | Status: 200 | Duration: 3.55ms
2025-11-20 22:41:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-username | IP: 127.0.0.1 | Params: {'username': 'user123'} | Query: {}
2025-11-20 22:41:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-username | Status: 200 | Duration: 4.57ms
2025-11-20 22:41:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-username | IP: 127.0.0.1 | Params: {'username': 'user_name'} | Query: {}
2025-11-20 22:41:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-username | Status: 200 | Duration: 3.63ms
2025-11-20 22:41:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-username | IP: 127.0.0.1 | Params: {'username': 'ab'} | Query: {}
2025-11-20 22:41:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-username | Status: 200 | Duration: 3.56ms
2025-11-20 22:41:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-username | IP: 127.0.0.1 | Params: {'username': 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'} | Query: {}
2025-11-20 22:41:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-username | Status: 200 | Duration: 4.57ms
2025-11-20 22:41:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-username | IP: 127.0.0.1 | Params: {'username': 'invalid user'} | Query: {}
2025-11-20 22:41:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-username | Status: 200 | Duration: 3.58ms
2025-11-20 22:41:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/security/validate-username | IP: 127.0.0.1 | Params: {'username': 'user@name'} | Query: {}
2025-11-20 22:41:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/security/validate-username | Status: 200 | Duration: 4.05ms
2025-11-20 22:41:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/security/headers | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-20 22:41:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/security/headers | Status: 200 | Duration: 5.12ms
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:30 -   [OK] Logging configuration setup successfully
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:33 - 
Test 2: Get Logger for Module
2025-11-20 22:47:07 - test_module - INFO - test_logging_configuration:36 - Test log message from module logger
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:37 -   ✓ Module logger created and working
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:40 - 
Test 3: Request Logger
2025-11-20 22:47:07 - utils.logging_config - INFO - log_request:115 - REQUEST: GET /api/test | IP: 127.0.0.1 | Params: {'test': 'value'} | Query: {}
2025-11-20 22:47:07 - utils.logging_config - INFO - log_response:123 - RESPONSE: GET /api/test | Status: 200 | Duration: 45.50ms
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:45 -   ✓ Request logger working correctly
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:48 - 
Test 4: Performance Logger
2025-11-20 22:47:07 - utils.logging_config - WARNING - log_slow_query:149 - SLOW QUERY: Duration: 1500.00ms | Threshold: 1000ms | Query: SELECT * FROM companies...
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:55 -   ✓ Performance logger working correctly
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:58 - 
Test 5: Check Log Files
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:63 -   ✓ Log directory exists: logs
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:64 -   ✓ Found 2 log files:
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:67 -     - marketpulse.log: 0.03 MB
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:67 -     - marketpulse_errors.log: 0.00 MB
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:72 - 
Test 6: Verify Logging Levels
2025-11-20 22:47:07 - root - INFO - test_logging_configuration:75 - Info message (should appear)
2025-11-20 22:47:07 - root - WARNING - test_logging_configuration:76 - Warning message (should appear)
2025-11-20 22:47:07 - root - ERROR - test_logging_configuration:77 - Error message (should appear)
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:78 -   ✓ Logging levels working correctly
2025-11-20 22:47:07 - __main__ - INFO - test_logging_configuration:80 - 
  ✓ Logging configuration is working correctly
2025-11-20 22:47:07 - __main__ - INFO - test_monitoring_endpoints:94 - 
============================================================
2025-11-20 22:47:07 - __main__ - INFO - test_monitoring_endpoints:95 - TEST: Monitoring Endpoints (Task 50)
2025-11-20 22:47:07 - __main__ - INFO - test_monitoring_endpoints:96 - ============================================================
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:104 - 
Test 1: Health Check Endpoint
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:111 -   ✓ Health check returned: degraded
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:112 -     - Services checked: 3
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:116 -     - database: unhealthy
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:116 -     - system: healthy
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:116 -     - logging: healthy
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:123 - 
Test 2: Metrics Endpoint
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:130 -   ✓ Metrics endpoint working
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:131 -     - System metrics: True
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:132 -     - Database metrics: True
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:133 -     - Application metrics: True
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:140 - 
Test 3: Log Info Endpoint
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:145 -   ✓ Log info endpoint working
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:146 -     - Log directory: C:\Users\corva\Downloads\INF2003-MarketPulse-Analytics-1\api_python\logs
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:147 -     - Log files count: 2
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:152 - 
Test 4: Verify Monitoring Benefits
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:153 -   Note: Monitoring provides:
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:154 -     - System health checks
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:155 -     - Performance metrics
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:156 -     - Resource monitoring
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:157 -     - Log file management
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:158 -     - Better observability
2025-11-20 22:47:09 - __main__ - INFO - test_monitoring_endpoints:159 -   ✓ Monitoring is implemented
2025-11-20 22:47:09 - __main__ - INFO - test_api_documentation:174 - 
============================================================
2025-11-20 22:47:09 - __main__ - INFO - test_api_documentation:175 - TEST: API Documentation (Task 51)
2025-11-20 22:47:09 - __main__ - INFO - test_api_documentation:176 - ============================================================
2025-11-20 22:47:09 - __main__ - INFO - test_api_documentation:182 - 
Test 1: FastAPI App Configuration
2025-11-20 22:47:12 - utils.live_stock_service - INFO - <module>:586 - Live Stock Service initialized. yfinance available: True
2025-11-20 22:47:17 - utils.news_service - INFO - init_news_service:49 - NewsAPI client initialized and verified successfully
2025-11-20 22:47:17 - utils.cache_utils - WARNING - <module>:38 - Redis package not installed, using in-memory cache only
2025-11-20 22:47:17 - root - INFO - <module>:26 - Logging configured successfully
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:187 -   ✓ API title: MarketPulse Analytics API
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:192 -   ✓ API description: 1111 characters
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:197 -   ✓ API version: 1.0.0
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:202 - 
Test 2: OpenAPI Endpoints
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:212 -   ✓ Swagger UI endpoint configured: /docs
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:212 -   ✓ ReDoc endpoint configured: /redoc
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:212 -   ✓ OpenAPI JSON endpoint configured: /openapi.json
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:217 - 
Test 3: API Metadata
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:220 -   ✓ Contact information configured
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:225 -   ✓ License information configured
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:230 -   ✓ API servers configured: 2 servers
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:232 -     - http://localhost:8000: Development server
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:232 -     - https://api.marketpulse.com: Production server
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:237 - 
Test 4: Router Tags
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:246 -   ✓ Found 20 unique API tags:
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - advanced-analytics
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - alerts
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - cache-monitoring
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - companies
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - correlation
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - dashboard
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - data-warehouse
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - firestore-test
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - indices
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:248 -     - monitoring
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:251 - 
Test 5: Verify Documentation Benefits
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:252 -   Note: API documentation provides:
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:253 -     - Interactive API explorer (Swagger UI)
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:254 -     - Alternative documentation (ReDoc)
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:255 -     - OpenAPI schema for code generation
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:256 -     - Better developer experience
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:257 -     - API versioning and metadata
2025-11-20 22:47:18 - __main__ - INFO - test_api_documentation:258 -   ✓ API documentation is enhanced
2025-11-20 22:47:18 - __main__ - INFO - main:302 - 
============================================================
2025-11-20 22:47:18 - __main__ - INFO - main:303 - TEST SUMMARY
2025-11-20 22:47:18 - __main__ - INFO - main:304 - ============================================================
2025-11-20 22:47:18 - __main__ - INFO - main:309 - Logging Configuration (Task 50): PASSED
2025-11-20 22:47:18 - __main__ - INFO - main:309 - Monitoring Endpoints (Task 50): PASSED
2025-11-20 22:47:18 - __main__ - INFO - main:309 - API Documentation (Task 51): PASSED
2025-11-20 22:47:18 - __main__ - INFO - main:313 - ============================================================
2025-11-20 22:47:18 - __main__ - INFO - main:315 - All tests passed!
2025-11-20 22:47:18 - config.database - INFO - close_database:133 - MySQL primary connection closed
2025-11-20 22:47:23 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-20 22:47:23 - config.database - INFO - close_database:133 - MySQL primary connection closed
2025-11-21 00:37:20 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 00:38:11 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 00:38:12 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 00:38:12 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 00:38:15 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 00:38:15 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 00:38:15 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 00:38:15 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.00ms
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 6.52ms
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.00ms
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.00ms
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.00ms
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.00ms
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:38:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 10.01ms
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:38:38 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 00:38:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:38:38 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 00:38:42 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 00:38:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:38:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 00:38:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:38:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:38:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:38:43 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 00:38:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:38:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 00:38:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 00:38:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 00:38:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 00:38:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 00:38:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:38:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5783.30ms
2025-11-21 00:38:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:38:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:38:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:38:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.245
2025-11-21 00:38:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 00:38:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:45 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 00:38:45 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 00:38:45 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 00:38:45 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 00:38:45 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 00:38:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6616.04ms
2025-11-21 00:38:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1876.95ms
2025-11-21 00:38:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 1879.84ms
2025-11-21 00:38:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 6777.24ms
2025-11-21 00:38:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:38:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.36ms
2025-11-21 00:38:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:38:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 00:38:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:38:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:38:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1783.95ms
2025-11-21 00:38:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 14 articles for query: ("AAPL") AND (financial)
2025-11-21 00:38:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 00:38:46 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:38:46 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 00:38:46 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 00:38:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:38:46 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 00:38:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 3279.38ms
2025-11-21 00:38:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1984.95ms
2025-11-21 00:38:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:38:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 00:38:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:38:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 00:38:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 00:38:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.24ms
2025-11-21 00:38:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:38:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 00:38:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:38:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 00:38:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 00:38:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.49ms
2025-11-21 00:38:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:38:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 00:38:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:38:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 00:38:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 00:38:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.14ms
2025-11-21 00:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 5.00ms
2025-11-21 00:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1313.27ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.54ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 9.01ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 9.00ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 9.00ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:39:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 13.01ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 12.89ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 13.00ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:39:09 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 00:39:09 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 00:39:09 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:39:09 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 00:39:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:09 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:39:09 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 00:39:09 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:39:09 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.245
2025-11-21 00:39:09 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:09 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 00:39:09 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 00:39:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:09 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:39:09 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 122.91ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 125.92ms
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:39:09 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 00:39:09 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 00:39:09 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 00:39:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:09 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 00:39:09 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 00:39:09 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:39:09 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:09 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 00:39:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 197.70ms
2025-11-21 00:39:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 201.84ms
2025-11-21 00:39:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:39:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:39:10 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 00:39:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:39:10 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 00:39:10 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 00:39:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:39:10 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 00:39:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1008.44ms
2025-11-21 00:39:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1367.00ms
2025-11-21 00:39:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:39:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:39:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:39:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 132.52ms
2025-11-21 00:39:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:39:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 00:39:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:39:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 00:39:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1095.45ms
2025-11-21 00:39:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1308.23ms
2025-11-21 00:39:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:39:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 00:39:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:39:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 00:39:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 00:39:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1247.28ms
2025-11-21 00:39:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:39:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 00:39:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:39:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 00:39:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 00:39:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1331.98ms
2025-11-21 00:39:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:39:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.00ms
2025-11-21 00:39:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:39:15 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 00:39:15 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 00:39:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.48ms
2025-11-21 00:39:40 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 00:39:40 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 00:40:00 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 00:40:01 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 00:40:01 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 00:40:04 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 00:40:04 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 00:40:04 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 00:40:04 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 00:40:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:40:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 5.99ms
2025-11-21 00:40:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2235.56ms
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.00ms
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 7.00ms
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.00ms
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.02ms
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 2.00ms
2025-11-21 00:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:40:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:40:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:40:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:40:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:40:13 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 00:40:13 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 00:40:15 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 00:40:16 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:16 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:16 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:40:16 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 00:40:16 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 00:40:16 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:16 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:16 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:40:16 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 00:40:16 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 00:40:16 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 00:40:16 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:40:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:40:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:40:16 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 00:40:16 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 00:40:16 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 00:40:16 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 00:40:16 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:16 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 00:40:16 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 00:40:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3885.62ms
2025-11-21 00:40:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 122.53ms
2025-11-21 00:40:17 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:40:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4698.95ms
2025-11-21 00:40:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:40:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:40:18 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:40:18 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.245
2025-11-21 00:40:18 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 00:40:18 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 00:40:18 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 14 articles for query: ("AAPL") AND (financial)
2025-11-21 00:40:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:40:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5270.97ms
2025-11-21 00:40:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1510.89ms
2025-11-21 00:40:18 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:40:18 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 00:40:18 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 00:40:18 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:18 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 00:40:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5729.06ms
2025-11-21 00:40:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1498.81ms
2025-11-21 00:40:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:40:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.01ms
2025-11-21 00:40:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1330.58ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 8.00ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 11.00ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 12.99ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 13.01ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 13.00ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.00ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.00ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:40:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:40:22 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 00:40:22 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 00:40:22 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 10.01ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:40:22 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 00:40:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:40:22 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 00:40:22 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:40:22 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.245
2025-11-21 00:40:22 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 87.76ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:40:22 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 00:40:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:40:22 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:40:22 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 00:40:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 00:40:22 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 00:40:22 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:22 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 00:40:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:40:22 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 00:40:22 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 239.60ms
2025-11-21 00:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 9.99ms
2025-11-21 00:40:23 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:40:23 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 00:40:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1157.72ms
2025-11-21 00:40:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:40:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:40:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:40:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 00:40:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:40:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 00:40:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:40:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 00:40:24 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:40:24 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 00:40:24 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 00:40:24 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:40:24 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 00:40:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1940.41ms
2025-11-21 00:40:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1079.79ms
2025-11-21 00:40:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.96ms
2025-11-21 00:40:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:40:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 00:40:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:40:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 00:40:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 00:40:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.21ms
2025-11-21 00:40:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:40:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 00:40:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:40:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 00:40:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 00:40:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.16ms
2025-11-21 00:40:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:40:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.01ms
2025-11-21 00:40:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:40:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 00:40:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 00:40:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1091.90ms
2025-11-21 00:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 1.99ms
2025-11-21 00:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1307.47ms
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 142.85ms
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 144.34ms
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.01ms
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.01ms
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:43:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.17ms
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:43:40 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 00:43:40 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 00:43:40 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:43:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 00:43:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:40 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:43:40 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 00:43:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:43:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.245
2025-11-21 00:43:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 00:43:40 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 00:43:40 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 00:43:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 00:43:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:40 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:43:40 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 00:43:40 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 00:43:41 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 00:43:41 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 00:43:41 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 00:43:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 591.35ms
2025-11-21 00:43:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 391.08ms
2025-11-21 00:43:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 390.08ms
2025-11-21 00:43:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 393.60ms
2025-11-21 00:43:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:43:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:43:41 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 00:43:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:43:41 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 00:43:41 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 00:43:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:43:41 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 00:43:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1072.01ms
2025-11-21 00:43:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1499.34ms
2025-11-21 00:43:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:43:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:43:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:43:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 00:43:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:43:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 00:43:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:43:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 00:43:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1088.47ms
2025-11-21 00:43:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.53ms
2025-11-21 00:43:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:43:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 00:43:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:43:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 00:43:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 00:43:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1086.99ms
2025-11-21 00:43:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:43:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 00:43:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:43:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 00:43:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 00:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.78ms
2025-11-21 00:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.52ms
2025-11-21 00:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 00:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 00:43:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.45ms
2025-11-21 00:45:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:45:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.01ms
2025-11-21 00:45:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1297.09ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.03ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.00ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.27ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.75ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.36ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.28ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:45:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 5.02ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:45:23 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 00:45:23 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 00:45:23 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5.00ms
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:45:23 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 00:45:23 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:23 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:23 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:45:23 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 00:45:23 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 00:45:23 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:23 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:23 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 00:45:23 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 00:45:23 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 00:45:23 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:23 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 00:45:23 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 00:45:23 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 00:45:23 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 00:45:23 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 00:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 80.56ms
2025-11-21 00:45:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:45:24 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:45:24 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:45:24 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.245
2025-11-21 00:45:24 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:24 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 00:45:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1050.58ms
2025-11-21 00:45:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1093.36ms
2025-11-21 00:45:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 00:45:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 00:45:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:45:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 00:45:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 00:45:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 00:45:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 00:45:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 00:45:25 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 14 articles for query: ("AAPL") AND (financial)
2025-11-21 00:45:25 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 00:45:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1604.79ms
2025-11-21 00:45:25 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 00:45:25 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 00:45:25 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 00:45:25 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 00:45:25 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 00:45:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1851.09ms
2025-11-21 00:45:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1214.03ms
2025-11-21 00:45:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1216.94ms
2025-11-21 00:45:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:45:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 00:45:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 00:45:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 00:45:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 00:45:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1081.95ms
2025-11-21 00:45:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:45:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 00:45:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 00:45:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 00:45:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 00:45:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1093.84ms
2025-11-21 00:45:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:45:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 00:45:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 00:45:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 00:45:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 00:45:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.66ms
2025-11-21 00:45:30 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 00:45:30 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 01:36:30 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 01:36:30 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 01:36:30 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 01:36:34 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 01:36:34 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 01:36:34 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 01:36:34 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 01:39:01 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 01:39:02 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 01:39:02 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 01:39:06 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 01:39:06 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 01:39:06 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 01:39:06 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 01:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 01:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.14ms
2025-11-21 01:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 01:39:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 01:39:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 01:39:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1681.71ms
2025-11-21 01:39:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 01:39:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 01:39:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 01:39:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 01:39:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 01:39:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1674.34ms
2025-11-21 01:39:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 01:39:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.00ms
2025-11-21 01:39:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 01:39:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 01:39:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 01:39:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1716.80ms
2025-11-21 01:39:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 01:39:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 01:39:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 01:39:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 01:39:15 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 01:39:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1525.31ms
2025-11-21 01:39:52 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 01:39:53 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 01:39:53 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 01:39:56 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 01:39:56 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 01:39:56 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 01:39:56 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 01:39:56 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 01:39:56 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 01:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 01:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:42:55 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 01:42:55 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 01:42:55 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 01:42:58 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 01:42:58 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 01:42:58 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 01:42:58 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 01:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 01:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1523.61ms
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.01ms
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.01ms
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.69ms
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.80ms
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.05ms
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 7.30ms
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 01:43:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 10.65ms
2025-11-21 01:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 01:43:40 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 01:43:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 01:43:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 01:43:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 01:43:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 01:43:41 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 01:43:43 - google.auth._default - WARNING - default:677 - No project ID could be determined. Consider running `gcloud config set project` or setting the GOOGLE_CLOUD_PROJECT environment variable
2025-11-21 01:43:43 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 01:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:43:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 01:43:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 01:43:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 01:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:43:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 01:43:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 01:43:44 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 01:43:44 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 01:43:44 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 01:43:44 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 01:43:44 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 01:43:44 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 01:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:43:44 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 01:43:44 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 01:43:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 01:43:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3526.47ms
2025-11-21 01:43:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3268.10ms
2025-11-21 01:44:37 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 01:44:37 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 01:44:37 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 01:44:41 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 01:44:41 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 01:44:41 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 01:44:41 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 01:45:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.43ms
2025-11-21 01:45:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1530.20ms
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.01ms
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.00ms
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.01ms
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.01ms
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.99ms
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 01:45:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.04ms
2025-11-21 01:45:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 01:45:23 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 01:45:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 01:45:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 01:45:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 01:45:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 01:45:24 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 01:45:26 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 01:45:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:27 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 01:45:27 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 01:45:27 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 01:45:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:27 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 01:45:27 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 01:45:27 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 01:45:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:27 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 01:45:27 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 01:45:27 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 01:45:27 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 01:45:27 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 01:45:27 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 01:45:27 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 01:45:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3378.20ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3112.55ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api | Status: 200 | Duration: 18.00ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 17.00ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 17.00ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 16.00ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /dashboard | Status: 200 | Duration: 18.00ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:27 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 21.58ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 13.56ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:27 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 5.52ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4028.09ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 01:45:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.93ms
2025-11-21 01:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 01:45:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 01:45:28 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 01:45:28 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 01:45:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.217
2025-11-21 01:45:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 01:45:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 7 rows for AAPL from MySQL
2025-11-21 01:45:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 01:45:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 01:45:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 4555.69ms
2025-11-21 01:45:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4559.68ms
2025-11-21 01:45:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 10.21ms
2025-11-21 01:45:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 01:45:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1467.91ms
2025-11-21 01:45:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 01:45:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2309.57ms
2025-11-21 01:45:29 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 14 articles for query: ("AAPL") AND (financial)
2025-11-21 01:45:30 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 01:45:30 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 01:45:30 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 01:45:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 01:45:30 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 01:45:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6122.44ms
2025-11-21 01:45:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2356.86ms
2025-11-21 01:45:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 01:45:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 01:45:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 01:45:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 01:45:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 01:45:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1111.84ms
2025-11-21 01:45:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 01:45:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.03ms
2025-11-21 01:45:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 01:45:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 01:45:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 4525.55ms
2025-11-21 01:45:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 01:45:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1366.72ms
2025-11-21 01:45:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 01:45:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 01:45:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 01:45:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 01:45:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 01:45:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1340.93ms
2025-11-21 01:45:57 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 01:45:57 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 10:56:45 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 10:56:46 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 10:56:46 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 10:56:50 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 10:56:50 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 10:56:50 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 10:56:50 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api | Status: 200 | Duration: 10.31ms
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /dashboard | Status: 200 | Duration: 10.32ms
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.01ms
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 9.00ms
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 11.00ms
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:55 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:55 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 11.00ms
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 11.00ms
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.01ms
2025-11-21 10:56:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 10:56:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:56 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 6.01ms
2025-11-21 10:56:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1099.71ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 4.00ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 200 | Duration: 8.60ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /indices | Status: 200 | Duration: 9.05ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /sentiment | Status: 200 | Duration: 9.54ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 200 | Duration: 8.53ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /sentiment | Status: 200 | Duration: 8.53ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:56:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /news | Status: 200 | Duration: 10.01ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /timeline | Status: 200 | Duration: 8.00ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 8.00ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:56:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:56:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 7.71ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 7.25ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:56:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:56:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 12.54ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 11.51ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 8.01ms
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:56:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.63ms
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 4025.93ms
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.02ms
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:56:59 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:59 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:59 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 14.07ms
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 16.40ms
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 17.40ms
2025-11-21 10:56:59 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:59 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:56:59 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:59 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 27.47ms
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 27.12ms
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 17.52ms
2025-11-21 10:56:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 18.01ms
2025-11-21 10:57:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 945.60ms
2025-11-21 10:57:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-trends | Status: 200 | Duration: 2.01ms
2025-11-21 10:57:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 912.23ms
2025-11-21 10:57:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 3.00ms
2025-11-21 10:57:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 16.62ms
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 17.13ms
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 17.14ms
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 18.14ms
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 19.14ms
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:57:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 15.98ms
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 13.99ms
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 200 | Duration: 14.00ms
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:57:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 4.99ms
2025-11-21 10:57:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:57:04 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 4.25ms
2025-11-21 10:57:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:57:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.00ms
2025-11-21 10:57:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 10:57:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 10:57:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 10:57:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.01ms
2025-11-21 10:57:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 10:57:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:07 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:07 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 16.98ms
2025-11-21 10:57:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 18.48ms
2025-11-21 10:57:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 23.00ms
2025-11-21 10:57:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 5.00ms
2025-11-21 10:57:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1939.81ms
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:10 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 5.02ms
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:10 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:57:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 429 | Duration: 7.00ms
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 7.00ms
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 10.00ms
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 429 | Duration: 6.02ms
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 25.01ms
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 429 | Duration: 6.01ms
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 429 | Duration: 1.98ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 10.00ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 9.22ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 429 | Duration: 10.22ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 10.18ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 429 | Duration: 7.23ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 4399.48ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:11 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 12090.23ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 8.72ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 429 | Duration: 8.69ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 429 | Duration: 7.09ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 7.01ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.01ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 3.00ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 3.00ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 429 | Duration: 9.01ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 429 | Duration: 8.01ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 429 | Duration: 8.01ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 8.01ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 429 | Duration: 9.00ms
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.99ms
2025-11-21 10:57:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:14 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:16 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:16 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:16 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:16 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:16 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:16 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 7.98ms
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 8.12ms
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 429 | Duration: 8.12ms
2025-11-21 10:57:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 429 | Duration: 7.66ms
2025-11-21 10:57:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 9.21ms
2025-11-21 10:57:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:17 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:17 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 429 | Duration: 5.00ms
2025-11-21 10:57:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 10:57:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:17 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.02ms
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:18 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:18 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:18 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 6.00ms
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 6.00ms
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 429 | Duration: 7.00ms
2025-11-21 10:57:18 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:18 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 429 | Duration: 6.53ms
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 7.53ms
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:18 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:18 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 10:57:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 429 | Duration: 4.01ms
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:19 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:19 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 429 | Duration: 6.01ms
2025-11-21 10:57:19 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:19 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:19 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 429 | Duration: 10.00ms
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 429 | Duration: 10.00ms
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 10.00ms
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 429 | Duration: 8.00ms
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:19 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:20 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 429 | Duration: 3.00ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 429 | Duration: 2.32ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 8.00ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 6.99ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 429 | Duration: 7.99ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 8.01ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 429 | Duration: 8.01ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 429 | Duration: 8.01ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.97ms
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:23 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 9.00ms
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 429 | Duration: 8.00ms
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 8.00ms
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 429 | Duration: 6.99ms
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 8.51ms
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 429 | Duration: 9.52ms
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 13.00ms
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 429 | Duration: 13.71ms
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 12.79ms
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 429 | Duration: 12.47ms
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 429 | Duration: 12.99ms
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 429 | Duration: 12.66ms
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 5.53ms
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 3.02ms
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:57:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.97ms
2025-11-21 10:57:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:57:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 1.63ms
2025-11-21 10:57:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:57:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 10:57:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 10:57:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 10:57:35 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 10:57:37 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 2.11ms
2025-11-21 10:57:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 10:57:37 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 10:57:39 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 10:57:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 10:57:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 429 | Duration: 3.14ms
2025-11-21 10:57:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 10:57:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 429 | Duration: 2.19ms
2025-11-21 10:57:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 10:57:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 429 | Duration: 2.02ms
2025-11-21 10:57:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 10:57:46 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 429 | Duration: 2.04ms
2025-11-21 10:57:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:57:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:57:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 429 | Duration: 2.02ms
2025-11-21 10:58:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 3.00ms
2025-11-21 10:58:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 882.83ms
2025-11-21 10:58:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 6.62ms
2025-11-21 10:58:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 6.00ms
2025-11-21 10:58:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 10:58:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.98ms
2025-11-21 10:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:37 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 6.57ms
2025-11-21 10:58:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 868.52ms
2025-11-21 10:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.69ms
2025-11-21 10:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2283.17ms
2025-11-21 10:58:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1326.40ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.12ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 7.99ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.55ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.09ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.15ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.65ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.13ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 8.24ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 20.66ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 22.56ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 22.02ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 21.96ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 21.52ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 21.53ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 21.53ms
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 10:58:52 - google.auth._default - WARNING - default:677 - No project ID could be determined. Consider running `gcloud config set project` or setting the GOOGLE_CLOUD_PROJECT environment variable
2025-11-21 10:58:52 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 10:58:53 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 10:58:53 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 10:58:53 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 10:58:53 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 10:58:53 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 10:58:53 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 10:58:53 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 13907.03ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 13647.39ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 60.29ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 56.29ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 14499.24ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 58.30ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 56.28ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 48.52ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 49.70ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 49.01ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 49.56ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 48.57ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 49.58ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 49.62ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 48.62ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 49.14ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 194.24ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 194.35ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 194.90ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 10:58:53 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 10:58:53 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 10:58:53 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 71.40ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 71.40ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 67.40ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 67.41ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 73.40ms
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 10:58:53 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 10:58:53 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 10:58:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:53 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 10:58:53 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 10:58:53 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 10:58:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 14531.09ms
2025-11-21 10:58:54 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 10:58:54 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.258
2025-11-21 10:58:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 10:58:54 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 10:58:54 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 10:58:54 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.258
2025-11-21 10:58:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 10:58:54 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:54 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 10:58:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:58:54 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 15265.24ms
2025-11-21 10:58:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 15265.24ms
2025-11-21 10:58:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1429.75ms
2025-11-21 10:58:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1291.24ms
2025-11-21 10:58:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 15.02ms
2025-11-21 10:58:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 1438.76ms
2025-11-21 10:58:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 10:58:54 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 15 articles for query: ("AAPL") AND (financial)
2025-11-21 10:58:55 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 10:58:55 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 10:58:55 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 10:58:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:55 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 10:58:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 15770.12ms
2025-11-21 10:58:55 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 10:58:55 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 10:58:55 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 10:58:55 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 10:58:55 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 10:58:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 10:58:55 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 10:58:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2451.06ms
2025-11-21 10:58:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 10:58:57 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 10:58:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 4.00ms
2025-11-21 10:58:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 10:58:57 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 10:58:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 11:01:40 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 11:01:41 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 11:01:41 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 11:01:44 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 11:01:44 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 11:01:44 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 11:01:44 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 11:01:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:44 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 5.02ms
2025-11-21 11:01:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:44 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 5.02ms
2025-11-21 11:01:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:01:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.04ms
2025-11-21 11:01:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:45 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 4.00ms
2025-11-21 11:01:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:01:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 12.67ms
2025-11-21 11:01:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 12.67ms
2025-11-21 11:01:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 16.69ms
2025-11-21 11:01:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2035.06ms
2025-11-21 11:01:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2356.36ms
2025-11-21 11:01:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:47 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 5.52ms
2025-11-21 11:01:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1768.58ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:49 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 4.36ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:01:49 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:49 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:49 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:49 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 18.28ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 18.27ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 19.00ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 19.00ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:01:49 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:49 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:49 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 15.01ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 15.01ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 15.01ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3189.57ms
2025-11-21 11:01:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 887.94ms
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:01:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 17.40ms
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 17.97ms
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 17.51ms
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 19.07ms
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 19.07ms
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:01:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 12.01ms
2025-11-21 11:01:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 10.53ms
2025-11-21 11:01:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 926.56ms
2025-11-21 11:01:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:01:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 22.84ms
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 22.96ms
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 22.47ms
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 22.87ms
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 25.47ms
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:01:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 15.79ms
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 15.55ms
2025-11-21 11:01:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 14.55ms
2025-11-21 11:01:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:01:55 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 4.00ms
2025-11-21 11:01:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:01:57 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 6.54ms
2025-11-21 11:01:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:01:57 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:01:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.00ms
2025-11-21 11:02:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10776.58ms
2025-11-21 11:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:03:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 11:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1327.81ms
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 3.99ms
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.00ms
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.01ms
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.52ms
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.01ms
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:03:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:03:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 11:03:41 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 11:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 11:03:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 11:03:42 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 11:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 11:03:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 11:03:42 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 11:03:42 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 11:03:42 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 11:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:42 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 11:03:42 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 11:03:42 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 11:03:42 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 11:03:42 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 11:03:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 11:03:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3238.81ms
2025-11-21 11:03:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 2970.60ms
2025-11-21 11:03:42 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 11:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 3908.68ms
2025-11-21 11:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 11:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 11:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 11:03:43 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 11:03:43 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.258
2025-11-21 11:03:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 11:03:43 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:43 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 11:03:43 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 15 articles for query: ("AAPL") AND (financial)
2025-11-21 11:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4367.09ms
2025-11-21 11:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 4366.08ms
2025-11-21 11:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 11:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:146 - DB insufficient; fetching live stock analysis for MSFT, days: 7
2025-11-21 11:03:44 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 11:03:44 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 11:03:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 11:03:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:03:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 11:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4851.85ms
2025-11-21 11:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1641.44ms
2025-11-21 11:03:45 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for MSFT
2025-11-21 11:03:45 - utils.live_stock_service - INFO - get_stock_analysis:308 - Cached live stock analysis for MSFT
2025-11-21 11:03:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:150 - Live service returned 7 data points for MSFT
2025-11-21 11:03:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 7163.55ms
2025-11-21 11:03:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:03:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.02ms
2025-11-21 11:03:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:03:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 11:03:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:146 - DB insufficient; fetching live stock analysis for GOOGL, days: 7
2025-11-21 11:03:52 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for GOOGL
2025-11-21 11:03:52 - utils.live_stock_service - INFO - get_stock_analysis:308 - Cached live stock analysis for GOOGL
2025-11-21 11:03:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:150 - Live service returned 7 data points for GOOGL
2025-11-21 11:03:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5796.33ms
2025-11-21 11:03:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:03:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.52ms
2025-11-21 11:03:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:03:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 11:03:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:03:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.00ms
2025-11-21 11:03:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:03:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:146 - DB insufficient; fetching live stock analysis for AMZN, days: 7
2025-11-21 11:03:58 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for AMZN
2025-11-21 11:03:58 - utils.live_stock_service - INFO - get_stock_analysis:308 - Cached live stock analysis for AMZN
2025-11-21 11:03:58 - routers.stock_analysis - INFO - get_stock_analysis_internal:150 - Live service returned 7 data points for AMZN
2025-11-21 11:03:58 - routers.users - INFO - create_user:134 - Created new user: corvan123 (ID: 19, Role: user)
2025-11-21 11:03:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/users | Status: 201 | Duration: 2581.20ms
2025-11-21 11:03:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:03:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 2.00ms
2025-11-21 11:03:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:03:59 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 11:04:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1262.27ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:04:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 7.01ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 8.00ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.88ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 11.86ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 3.20ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 3.82ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 6327.00ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.52ms
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 11:04:02 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 11:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 876.83ms
2025-11-21 11:04:03 - routers.stock_analysis - INFO - get_stock_analysis_internal:146 - DB insufficient; fetching live stock analysis for TSLA, days: 7
2025-11-21 11:04:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:03 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 4.67ms
2025-11-21 11:04:04 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for TSLA
2025-11-21 11:04:04 - utils.live_stock_service - INFO - get_stock_analysis:308 - Cached live stock analysis for TSLA
2025-11-21 11:04:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:150 - Live service returned 7 data points for TSLA
2025-11-21 11:04:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2331.87ms
2025-11-21 11:04:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 11:04:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:05 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 5.45ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:04:05 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:05 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:05 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:05 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:05 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 25.37ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 26.42ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 27.35ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 27.26ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 28.25ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:05 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:05 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 12.63ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 12.58ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 894.17ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-trends | Status: 200 | Duration: 2.02ms
2025-11-21 11:04:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.01ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 25.17ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 25.31ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 25.84ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 26.37ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 16.95ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 7.24ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 930.00ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 2.26ms
2025-11-21 11:04:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5680.95ms
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 20.82ms
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 22.93ms
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 23.17ms
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 23.37ms
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 23.93ms
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:04:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 20.16ms
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 19.63ms
2025-11-21 11:04:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 15.71ms
2025-11-21 11:04:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:04:10 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.00ms
2025-11-21 11:04:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:04:13 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.33ms
2025-11-21 11:04:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:04:13 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 7.02ms
2025-11-21 11:04:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:04:15 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 4.04ms
2025-11-21 11:04:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9932.56ms
2025-11-21 11:04:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 3.00ms
2025-11-21 11:04:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 905.42ms
2025-11-21 11:04:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2.00ms
2025-11-21 11:04:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1101.53ms
2025-11-21 11:04:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:04:18 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.00ms
2025-11-21 11:04:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:04:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 11:04:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:04:18 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 5.91ms
2025-11-21 11:04:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:04:20 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 6.00ms
2025-11-21 11:04:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:22 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 5.00ms
2025-11-21 11:04:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:22 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 5.04ms
2025-11-21 11:04:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:04:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.00ms
2025-11-21 11:04:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:23 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:23 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 12.05ms
2025-11-21 11:04:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 14.47ms
2025-11-21 11:04:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 16.67ms
2025-11-21 11:04:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 892.19ms
2025-11-21 11:04:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:24 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:24 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 14.01ms
2025-11-21 11:04:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 14.00ms
2025-11-21 11:04:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 16.00ms
2025-11-21 11:04:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1103.78ms
2025-11-21 11:04:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2512.64ms
2025-11-21 11:04:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:04:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:25 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 4.00ms
2025-11-21 11:04:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 876.74ms
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:27 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:27 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api | Status: 404 | Duration: 16.00ms
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 16.00ms
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 20.00ms
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2321.20ms
2025-11-21 11:04:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:04:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 883.24ms
2025-11-21 11:04:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 7.00ms
2025-11-21 11:04:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2336.31ms
2025-11-21 11:04:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 900.38ms
2025-11-21 11:04:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 916.92ms
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /dashboard | Status: 404 | Duration: 4.52ms
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 15.02ms
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 14.99ms
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 15.01ms
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 15.02ms
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 12.52ms
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 12.54ms
2025-11-21 11:04:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 12.52ms
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:04:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 18.00ms
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 18.01ms
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 19.01ms
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 19.02ms
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 21.03ms
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 11.52ms
2025-11-21 11:04:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 12.52ms
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:04:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 17.05ms
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 16.05ms
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /indices | Status: 404 | Duration: 17.05ms
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /sentiment | Status: 404 | Duration: 18.05ms
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /news | Status: 404 | Duration: 18.05ms
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:04:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /timeline | Status: 404 | Duration: 15.00ms
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 14.01ms
2025-11-21 11:04:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 14.00ms
2025-11-21 11:04:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:04:38 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 4.00ms
2025-11-21 11:04:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:04:41 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 6.00ms
2025-11-21 11:04:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:04:41 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 6.00ms
2025-11-21 11:04:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10102.10ms
2025-11-21 11:04:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 926.80ms
2025-11-21 11:04:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:04:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 898.23ms
2025-11-21 11:04:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:04:43 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 3.88ms
2025-11-21 11:04:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:04:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 8.56ms
2025-11-21 11:04:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:04:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 4.00ms
2025-11-21 11:04:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:04:48 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:04:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /stock_analysis | Status: 404 | Duration: 6.09ms
2025-11-21 11:04:49 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 11:04:49 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 11:10:33 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 11:10:34 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 11:10:34 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 11:10:37 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 11:10:37 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 11:10:37 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 11:10:37 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 11:10:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:10:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.00ms
2025-11-21 11:10:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:10:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 864.58ms
2025-11-21 11:11:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:11:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 865.18ms
2025-11-21 11:12:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 877.16ms
2025-11-21 11:13:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1215.09ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 200 | Duration: 2.00ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/auto-refresh-config | Status: 200 | Duration: 3.00ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 200 | Duration: 2.72ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:19 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:13:19 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:13:19 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 15.00ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/auto-refresh-config | Status: 404 | Duration: 16.00ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/last-updates | Status: 404 | Duration: 15.00ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2.00ms
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:19 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 11:13:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 4.00ms
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2930.12ms
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 13.01ms
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 14.01ms
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 14.01ms
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 13.00ms
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 14.23ms
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 16.22ms
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:13:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:13:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 11:13:22 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 11:13:24 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 11:13:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:25 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 11:13:25 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 11:13:25 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 11:13:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:13:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:13:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 3385.71ms
2025-11-21 11:13:25 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 11:13:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:25 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 11:13:25 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 11:13:25 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 11:13:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:25 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 11:13:25 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 11:13:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:13:25 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 11:13:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 11:13:26 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 11:13:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4341.87ms
2025-11-21 11:13:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:13:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 11:13:26 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 11:13:26 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.258
2025-11-21 11:13:26 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:26 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:26 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 11:13:27 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:27 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 11:13:27 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 15 articles for query: ("AAPL") AND (financial)
2025-11-21 11:13:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5193.83ms
2025-11-21 11:13:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1821.08ms
2025-11-21 11:13:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:13:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.51ms
2025-11-21 11:13:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:13:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 11:13:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 11:13:27 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 11:13:27 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 11:13:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5586.24ms
2025-11-21 11:13:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 11:13:27 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 11:13:27 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 11:13:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 11:13:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2278.66ms
2025-11-21 11:13:28 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 11:13:28 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 11:13:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 2547.52ms
2025-11-21 11:13:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1739.53ms
2025-11-21 11:13:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 11:13:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1975.64ms
2025-11-21 11:13:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:13:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.08ms
2025-11-21 11:13:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:13:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 11:13:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 11:13:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1398.60ms
2025-11-21 11:13:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:13:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 11:13:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:13:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 11:13:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 11:13:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1364.06ms
2025-11-21 11:13:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 11:13:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.02ms
2025-11-21 11:13:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 11:13:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 11:13:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 11:13:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1576.86ms
2025-11-21 11:13:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.41ms
2025-11-21 11:13:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1860.14ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.88ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.62ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.45ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.32ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.00ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:13:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.00ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:13:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 11:13:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 11:13:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5.01ms
2025-11-21 11:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:13:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 11:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 11:13:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 11:13:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 11:13:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.258
2025-11-21 11:13:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 11:13:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 141.62ms
2025-11-21 11:13:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 11:13:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 11:13:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 11:13:40 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 11:13:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 11:13:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 11:13:40 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 11:13:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 11:13:40 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 11:13:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:40 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 11:13:40 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 11:13:40 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 11:13:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 11:13:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 240.77ms
2025-11-21 11:13:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 241.77ms
2025-11-21 11:13:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 11:13:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 11:13:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 11:13:41 - utils.news_service - INFO - get_financial_news:389 - Filtered 2 relevant articles for AAPL
2025-11-21 11:13:41 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 2 articles, avg sentiment: 0.043
2025-11-21 11:13:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 11:13:41 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 2 articles
2025-11-21 11:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1370.01ms
2025-11-21 11:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1534.65ms
2025-11-21 11:13:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 11:13:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 11:13:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 11:13:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 11:13:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 11:13:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 11:13:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 11:13:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.52ms
2025-11-21 11:13:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.53ms
2025-11-21 11:13:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:13:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 11:13:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 11:13:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 11:13:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 11:13:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1243.39ms
2025-11-21 11:13:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:13:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.03ms
2025-11-21 11:13:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 11:13:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 11:13:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 11:13:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1659.89ms
2025-11-21 11:13:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 11:13:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 11:13:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 11:13:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 11:13:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 11:13:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1426.13ms
2025-11-21 11:13:46 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 11:13:46 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 13:40:14 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 13:40:15 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 13:40:15 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 13:40:19 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 13:40:19 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 13:40:19 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 13:40:19 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.62ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 200 | Duration: 8.52ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 8.52ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.01ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 8.01ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 11.52ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 10.52ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 10.52ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 10.52ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.00ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.99ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.25ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.00ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.00ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 3.99ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.99ms
2025-11-21 13:40:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:40:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.01ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.51ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 3.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/status | Status: 200 | Duration: 3.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2.52ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 2.01ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.03ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.31ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 4.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 1.98ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.01ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 200 | Duration: 3.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/auto-refresh-config | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 200 | Duration: 1.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/auto-refresh-config | Status: 200 | Duration: 2.01ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 200 | Duration: 1.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 200 | Duration: 1.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/auto-refresh-config | Status: 200 | Duration: 1.70ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 200 | Duration: 2.01ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.01ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 13:40:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 200 | Duration: 3.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/auto-refresh-config | Status: 200 | Duration: 1.99ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 200 | Duration: 3.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:40:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 429 | Duration: 1.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/auto-refresh-config | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 429 | Duration: 1.33ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:40:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/auto-refresh-config | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 429 | Duration: 1.01ms
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1118.85ms
2025-11-21 13:40:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:40:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:40:46 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.61ms
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:48 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 26.52ms
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:48 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 5.00ms
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:48 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:48 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:48 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:48 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 4.52ms
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:48 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:48 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 4.22ms
2025-11-21 13:40:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 4.00ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 3.01ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 7.00ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 4.00ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:49 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 4.00ms
2025-11-21 13:40:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 2.99ms
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:51 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:51 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:51 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/auto-refresh-config | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:51 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/last-updates | Status: 429 | Duration: 3.01ms
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:51 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.01ms
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:40:51 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:52 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 4.00ms
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:40:52 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:52 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/auto-refresh-config | Status: 429 | Duration: 4.01ms
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:52 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/last-updates | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:52 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.53ms
2025-11-21 13:40:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:53 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.15ms
2025-11-21 13:40:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:40:54 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 13:40:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:40:54 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 1.57ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 6.01ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 4.00ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 5.00ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 6.00ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 5.00ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 5.00ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.52ms
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:56 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:56 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:56 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 7.00ms
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 6.00ms
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 6.00ms
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:56 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:56 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:56 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 7.00ms
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 6.00ms
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 7.01ms
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:56 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.41ms
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:40:56 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:58 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:58 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:58 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 6.01ms
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 5.01ms
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 5.01ms
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:40:58 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:40:58 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:58 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 7.01ms
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 7.00ms
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 7.04ms
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:40:58 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:40:58 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 3.02ms
2025-11-21 13:40:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 3.00ms
2025-11-21 13:40:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:40:59 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 1.51ms
2025-11-21 13:40:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:40:59 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:40:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:41:01 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:41:01 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:41:02 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:41:03 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:41:03 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 3.26ms
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 429 | Duration: 2.01ms
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:41:03 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/auto-refresh-config | Status: 429 | Duration: 2.99ms
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:41:03 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/last-updates | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:41:03 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 429 | Duration: 4.00ms
2025-11-21 13:41:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:41:04 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 1.00ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 3.00ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 5.17ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 5.01ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 6.01ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 5.51ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 4.52ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 4.52ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:41:06 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:41:07 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:41:07 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:07 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 6.00ms
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 5.00ms
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 7.04ms
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:41:07 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 7.67ms
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:41:07 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:07 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 9.59ms
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 8.02ms
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:41:07 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 4.00ms
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 3.00ms
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 6.79ms
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 9.00ms
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 7.00ms
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.51ms
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 3.73ms
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:41:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.76ms
2025-11-21 13:41:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:41:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:41:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:41:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:41:17 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.13ms
2025-11-21 13:41:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:41:20 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:41:20 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 13:41:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:41:22 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 5.00ms
2025-11-21 13:41:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:41:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 2.16ms
2025-11-21 13:41:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:41:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 1.08ms
2025-11-21 13:41:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:41:26 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 1.61ms
2025-11-21 13:41:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:41:29 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 13:41:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:41:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 13:41:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 429 | Duration: 3.01ms
2025-11-21 13:42:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:42:03 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:42:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 5.00ms
2025-11-21 13:42:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:42:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:42:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 5.01ms
2025-11-21 13:43:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:43:03 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:43:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 4.00ms
2025-11-21 13:43:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:43:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:43:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 4.00ms
2025-11-21 13:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:43:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 12.59ms
2025-11-21 13:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1336.42ms
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.52ms
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 7.52ms
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.51ms
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.52ms
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.52ms
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:43:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 15.32ms
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:43:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:43:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 13:43:44 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 13:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 13:43:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 13:43:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 13:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 13:43:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 13:43:45 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 13:43:45 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 13:43:45 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 13:43:45 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 13:43:45 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 13:43:45 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 13:43:45 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:45 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 13:43:45 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 13:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 13:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5725.35ms
2025-11-21 13:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 5447.48ms
2025-11-21 13:43:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 13:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 6372.62ms
2025-11-21 13:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 13:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 13:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 13:43:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 13:43:46 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.286
2025-11-21 13:43:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 13:43:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:46 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 13:43:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 13:43:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6985.62ms
2025-11-21 13:43:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 6986.59ms
2025-11-21 13:43:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 13:43:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 13:43:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 13:43:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 13:43:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:43:47 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 13:43:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 7470.42ms
2025-11-21 13:43:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1724.15ms
2025-11-21 13:43:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 13:43:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2462.41ms
2025-11-21 13:43:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:43:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 13:43:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:43:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 13:43:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 13:43:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.94ms
2025-11-21 13:43:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:43:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.45ms
2025-11-21 13:43:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:43:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 13:43:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 13:43:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1110.02ms
2025-11-21 13:43:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:43:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 13:43:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:43:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 13:43:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 13:43:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1111.78ms
2025-11-21 13:44:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:44:03 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:44:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 6.01ms
2025-11-21 13:44:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:44:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:44:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 4.12ms
2025-11-21 13:45:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:45:03 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:45:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 4.00ms
2025-11-21 13:45:32 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 13:45:32 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 13:49:55 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 13:49:56 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 13:49:56 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 13:49:59 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 13:49:59 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 13:49:59 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 13:49:59 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 13:50:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:50:17 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 9.72ms
2025-11-21 13:50:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:50:17 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/auto-refresh-config | Status: 404 | Duration: 9.00ms
2025-11-21 13:50:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:50:17 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/last-updates | Status: 404 | Duration: 9.00ms
2025-11-21 13:50:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:50:17 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 4.52ms
2025-11-21 13:50:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:50:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:50:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:50:18 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:18 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:18 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 15.00ms
2025-11-21 13:50:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/last-updates | Status: 404 | Duration: 15.00ms
2025-11-21 13:50:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/auto-refresh-config | Status: 404 | Duration: 16.01ms
2025-11-21 13:50:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:50:18 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 5.00ms
2025-11-21 13:50:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:50:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/status | Status: 200 | Duration: 2.00ms
2025-11-21 13:50:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:50:48 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:50:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 5.63ms
2025-11-21 13:51:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:51:18 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:51:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 4.00ms
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 200 | Duration: 7.00ms
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/last-updates | Status: 200 | Duration: 8.01ms
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//realtime/auto-refresh-config | Status: 200 | Duration: 8.00ms
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:51:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 4.00ms
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:51:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/last-updates | Status: 404 | Duration: 4.00ms
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:51:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/auto-refresh-config | Status: 404 | Duration: 4.00ms
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1.99ms
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:51:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:51:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 4.01ms
2025-11-21 13:52:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:52:01 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:52:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 5.01ms
2025-11-21 13:52:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:52:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:52:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 6.51ms
2025-11-21 13:53:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:01 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 4.99ms
2025-11-21 13:53:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//realtime/status | Status: 404 | Duration: 5.53ms
2025-11-21 13:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.00ms
2025-11-21 13:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1356.00ms
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.00ms
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.99ms
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.52ms
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.79ms
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 7.78ms
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:53:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 9.00ms
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:53:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 13:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 13:53:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 13:53:42 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 13:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 13:53:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 13:53:43 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 13:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 13:53:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 13:53:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 13:53:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 13:53:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 13:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 13:53:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 13:53:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 13:53:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 13:53:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 13:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 13:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3929.56ms
2025-11-21 13:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3653.63ms
2025-11-21 13:53:43 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 13:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4589.73ms
2025-11-21 13:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 13:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 13:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 13:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 13:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 13:53:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 13:53:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.316
2025-11-21 13:53:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 13:53:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:44 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 13:53:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 13:53:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5142.90ms
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 5141.90ms
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:44 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 11.01ms
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 11.00ms
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.67ms
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:44 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 172.32ms
2025-11-21 13:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 175.33ms
2025-11-21 13:53:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 13:53:45 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 13:53:45 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 13:53:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 13:53:45 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 13:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5697.75ms
2025-11-21 13:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1554.59ms
2025-11-21 13:53:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2414.15ms
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 13:53:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1747.29ms
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:53:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 7.01ms
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.00ms
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 7.00ms
2025-11-21 13:53:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:53:47 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 5.00ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.00ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:47 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 8.00ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.61ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.01ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 13:53:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:53:47 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 6.90ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 878.24ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.00ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:47 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 7.10ms
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 883.59ms
2025-11-21 13:53:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:48 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 11.01ms
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.01ms
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 13:53:48 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 4.65ms
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.28ms
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 13:53:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 13:53:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 872.04ms
2025-11-21 13:53:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 13:53:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1752.86ms
2025-11-21 13:53:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1082.09ms
2025-11-21 13:53:55 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 13:53:55 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 14:42:51 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 14:42:51 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 14:42:51 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 14:42:55 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 14:42:55 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 14:42:55 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 14:42:55 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 14:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.01ms
2025-11-21 14:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1332.23ms
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.00ms
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.99ms
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.99ms
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.00ms
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:43:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.99ms
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:43:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:43:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 14:43:43 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 14:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:43:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 14:43:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 14:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:43:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 14:43:44 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 14:43:44 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 14:43:44 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 14:43:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:44 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 14:43:44 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 14:43:44 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 14:43:44 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 14:43:44 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 14:43:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:43:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5179.76ms
2025-11-21 14:43:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 4910.18ms
2025-11-21 14:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5838.88ms
2025-11-21 14:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.43ms
2025-11-21 14:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 14:43:45 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:43:45 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 14:43:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 14:43:45 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:45 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 14:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6176.64ms
2025-11-21 14:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 6175.64ms
2025-11-21 14:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:43:46 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:43:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1480.51ms
2025-11-21 14:43:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 14:43:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 3.00ms
2025-11-21 14:43:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:47 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 14:43:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2166.71ms
2025-11-21 14:43:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:43:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 14:43:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:43:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 14:43:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:43:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 14:43:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 14:43:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:48 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 14:43:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 8397.04ms
2025-11-21 14:43:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 14:43:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1083.47ms
2025-11-21 14:43:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1484.26ms
2025-11-21 14:43:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:43:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 14:43:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:43:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 14:43:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 14:43:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:43:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 14:43:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:43:49 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 14:43:49 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:49 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:49 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:43:49 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//analytics/window-functions | Status: 200 | Duration: 5.01ms
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:43:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 7.00ms
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api//warehouse/materialized-view/sector-performance | Status: 200 | Duration: 4.00ms
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:50 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 6.00ms
2025-11-21 14:43:50 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:43:50 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1723.90ms
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 14:43:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:43:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 14:43:51 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:43:51 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 14:43:51 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 14:43:51 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:51 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:43:51 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 14:43:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 14:43:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1517.03ms
2025-11-21 14:43:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1206.38ms
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.00ms
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:43:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 14.01ms
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 13.52ms
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.88ms
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:43:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:43:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 5.00ms
2025-11-21 14:43:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 882.63ms
2025-11-21 14:44:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:44:01 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:44:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 6.00ms
2025-11-21 14:44:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.01ms
2025-11-21 14:44:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:01 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:44:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 17.02ms
2025-11-21 14:44:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:44:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:44:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 4.51ms
2025-11-21 14:44:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.63ms
2025-11-21 14:44:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:44:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 153.22ms
2025-11-21 14:44:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1220.57ms
2025-11-21 14:44:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2190.46ms
2025-11-21 14:44:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:44:13 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:44:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 5.00ms
2025-11-21 14:44:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 3.00ms
2025-11-21 14:44:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:13 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:44:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 4.00ms
2025-11-21 14:44:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 883.47ms
2025-11-21 14:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:44:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:44:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 6.00ms
2025-11-21 14:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.19ms
2025-11-21 14:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:44:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:44:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 5.00ms
2025-11-21 14:44:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1041.38ms
2025-11-21 14:44:58 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 14:44:58 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 14:49:58 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 14:49:58 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 14:49:58 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 14:50:03 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 14:50:03 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 14:50:03 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 14:50:03 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 14:50:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:50:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1113.26ms
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:50:37 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 16.82ms
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 19.74ms
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:50:37 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:50:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 6.00ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1742.74ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2216.73ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 18.54ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 22.06ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 22.05ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 19.05ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 19.05ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 24.07ms
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:50:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:50:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.51ms
2025-11-21 14:50:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:50:40 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 14:50:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:50:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 14:50:42 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 14:50:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:50:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 14:50:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 14:50:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 14:50:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:50:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:50:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:50:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:50:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 14:50:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 14:50:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 14:50:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 14:50:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 14:50:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 14:50:43 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 14:50:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:50:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 14:50:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4014.50ms
2025-11-21 14:50:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 250.79ms
2025-11-21 14:50:44 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:50:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4617.21ms
2025-11-21 14:50:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:50:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:50:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:50:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.01ms
2025-11-21 14:50:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:50:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 14:50:45 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:50:45 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 14:50:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 14:50:45 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:45 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 14:50:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:50:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 14:50:45 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 14:50:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5399.14ms
2025-11-21 14:50:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1904.05ms
2025-11-21 14:50:46 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:50:46 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 14:50:46 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 14:50:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:50:46 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 14:50:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2377.06ms
2025-11-21 14:50:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1540.42ms
2025-11-21 14:50:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1563.43ms
2025-11-21 14:50:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:50:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 14:50:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:50:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 14:50:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 14:50:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.98ms
2025-11-21 14:50:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:50:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.73ms
2025-11-21 14:50:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:50:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 14:50:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 14:50:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1113.31ms
2025-11-21 14:50:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:50:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 14:50:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:50:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 14:50:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 14:50:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1102.71ms
2025-11-21 14:51:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:51:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 871.07ms
2025-11-21 14:51:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:51:09 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:51:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 4.62ms
2025-11-21 14:51:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:51:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:51:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:51:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:51:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:51:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//analytics/window-functions | Status: 404 | Duration: 8.52ms
2025-11-21 14:51:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.52ms
2025-11-21 14:51:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api//warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:51:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 14:51:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api//warehouse/materialized-view/sector-performance | Status: 404 | Duration: 3.99ms
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 888.80ms
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1311.53ms
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:51:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:51:34 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 14:51:34 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 14:51:34 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 14:51:34 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 14:51:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:51:34 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 14:51:34 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:51:34 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 14:51:34 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 14:51:34 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 14:51:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 14:51:34 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 14:51:34 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 14:51:34 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 14:51:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:34 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:51:34 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:51:34 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 14:51:34 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 404.63ms
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 404.12ms
2025-11-21 14:51:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 408.64ms
2025-11-21 14:51:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 15.62ms
2025-11-21 14:51:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:51:35 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:51:35 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 14:51:35 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:51:35 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 14:51:35 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 14:51:35 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:35 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:51:35 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 14:51:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1315.67ms
2025-11-21 14:51:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1325.19ms
2025-11-21 14:51:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:51:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:51:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:51:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 14:51:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:51:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 14:51:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.45ms
2025-11-21 14:51:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.45ms
2025-11-21 14:51:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:51:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 14:51:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 14:51:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.26ms
2025-11-21 14:51:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:51:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 14:51:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 14:51:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.52ms
2025-11-21 14:51:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:51:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 14:51:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 14:51:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1133.80ms
2025-11-21 14:52:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:52:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1059.85ms
2025-11-21 14:52:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:52:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 886.82ms
2025-11-21 14:53:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:53:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.93ms
2025-11-21 14:53:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:53:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 870.80ms
2025-11-21 14:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:53:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 14:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1338.68ms
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.04ms
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.52ms
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.00ms
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 4.00ms
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:53:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:53:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 14:53:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 14:53:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 14:53:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 14:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:53:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 14:53:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:53:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 14:53:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 14:53:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 14:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:53:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 14:53:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 14:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 14:53:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 14:53:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:40 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 14:53:40 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 14:53:40 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 14:53:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 439.33ms
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 439.33ms
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 446.32ms
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 442.33ms
2025-11-21 14:53:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:53:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 14:53:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:53:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 14:53:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 14:53:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:53:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1211.00ms
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1486.56ms
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:53:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 14:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:53:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 14:53:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:53:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 14:53:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1312.08ms
2025-11-21 14:53:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1296.20ms
2025-11-21 14:53:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:53:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 14:53:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:53:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 14:53:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 14:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1382.39ms
2025-11-21 14:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 14:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 14:53:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 14:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1273.29ms
2025-11-21 14:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 14:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:53:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 14:53:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 14:53:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1198.95ms
2025-11-21 14:54:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:54:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.00ms
2025-11-21 14:54:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:54:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 995.84ms
2025-11-21 14:54:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:54:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 870.64ms
2025-11-21 14:54:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1332.92ms
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 13.00ms
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 13.98ms
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 14:54:49 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 15.58ms
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 14:54:49 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 14:54:49 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 229.81ms
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.00ms
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 10.01ms
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 14:54:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 14:54:49 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 14:54:49 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:49 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:49 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:54:49 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 14:54:49 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 14:54:49 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:49 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 14:54:49 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 14:54:49 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:49 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 14:54:49 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 14:54:49 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days with ticker V
2025-11-21 14:54:49 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for V
2025-11-21 14:54:49 - utils.live_stock_service - INFO - get_stock_analysis:308 - Cached live stock analysis for V
2025-11-21 14:54:49 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 14:54:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 350.36ms
2025-11-21 14:54:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:146 - DB insufficient; fetching live stock analysis for V, days: 7
2025-11-21 14:54:49 - utils.live_stock_service - INFO - get_stock_analysis:224 - Returning cached stock analysis for V
2025-11-21 14:54:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:150 - Live service returned 7 data points for V
2025-11-21 14:54:49 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 14:54:50 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 14:54:51 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 14:54:51 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 14:54:51 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 14:54:51 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 14:54:51 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.271
2025-11-21 14:54:51 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 14:54:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2089.29ms
2025-11-21 14:54:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:54:51 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 14:54:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:54:51 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 14:54:51 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 14:54:51 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:51 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 14:54:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 2356.75ms
2025-11-21 14:54:52 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 14:54:52 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 14:54:53 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 14:54:53 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 14:54:53 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.271
2025-11-21 14:54:53 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:53 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:54:53 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 14:54:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1854.77ms
2025-11-21 14:54:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4645.82ms
2025-11-21 14:54:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 14:54:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 14:54:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 14:54:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1331.97ms
2025-11-21 14:55:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:55:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1260.98ms
2025-11-21 14:55:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:55:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 880.06ms
2025-11-21 14:55:39 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 14:55:39 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 14:57:16 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 14:57:16 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 14:57:16 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 14:57:20 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 14:57:20 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 14:57:20 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 14:57:20 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 3.97ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 4.01ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 7.99ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 9.51ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 6.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 6.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 5.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 7.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 6.01ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 5.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 5.99ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 5.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 3.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 2.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 1.99ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 2.01ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 2.99ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 2.00ms
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.01ms
2025-11-21 14:57:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1550.07ms
2025-11-21 14:57:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2016.84ms
2025-11-21 14:57:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.00ms
2025-11-21 14:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.05ms
2025-11-21 14:57:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1766.59ms
2025-11-21 14:57:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.01ms
2025-11-21 14:57:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 4171.14ms
2025-11-21 14:57:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1775.95ms
2025-11-21 14:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2120.10ms
2025-11-21 14:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1891.16ms
2025-11-21 14:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1516.65ms
2025-11-21 14:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.00ms
2025-11-21 14:57:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2474.60ms
2025-11-21 14:57:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1955.90ms
2025-11-21 14:57:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 876.47ms
2025-11-21 14:57:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1419.66ms
2025-11-21 14:57:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:57:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:57:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:57:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:57:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:57:27 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 14:57:29 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 14:57:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:30 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:57:30 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 14:57:30 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 14:57:30 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 14:57:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:30 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:57:30 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 14:57:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:57:30 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 14:57:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:30 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 14:57:30 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 14:57:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:57:31 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 8537.62ms
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 7682.33ms
2025-11-21 14:57:31 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 14:57:31 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4469.73ms
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 7131.38ms
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:57:31 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 14:57:31 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 14:57:31 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 12.69ms
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 5920.38ms
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.74ms
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4791.64ms
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:57:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:57:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:57:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 14:57:32 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:57:32 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 14:57:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 14:57:32 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:32 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 14:57:32 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 14:57:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5564.57ms
2025-11-21 14:57:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1705.28ms
2025-11-21 14:57:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:57:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 14:57:33 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:57:33 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 14:57:33 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 14:57:33 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:33 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:57:33 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 14:57:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6050.69ms
2025-11-21 14:57:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1501.15ms
2025-11-21 14:57:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-trends | Status: 200 | Duration: 2.00ms
2025-11-21 14:57:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1690.12ms
2025-11-21 14:57:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1691.17ms
2025-11-21 14:57:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:57:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 14:57:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 14:57:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 906.09ms
2025-11-21 14:57:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 4.00ms
2025-11-21 14:57:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1096.11ms
2025-11-21 14:57:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:57:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 14:57:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 14:57:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1093.10ms
2025-11-21 14:57:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:57:35 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:57:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.01ms
2025-11-21 14:57:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:57:36 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:57:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 14:57:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:57:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:57:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.99ms
2025-11-21 14:57:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10095.93ms
2025-11-21 14:57:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:57:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-sentiment-correlation | Status: 429 | Duration: 2.52ms
2025-11-21 14:57:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:57:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 14:57:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:57:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:57:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 429 | Duration: 2.00ms
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:09 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:58:09 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:09 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:09 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 8.32ms
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 429 | Duration: 7.01ms
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 8.00ms
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 429 | Duration: 9.00ms
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:09 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 14:58:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:10 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 1.02ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.52ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 12.00ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 13.00ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 13.00ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 13.00ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 12.00ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 12.00ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.01ms
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:12 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 3.00ms
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 8.01ms
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 8.01ms
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 8.09ms
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 8.09ms
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:13 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.52ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 12.26ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 14.52ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 17.52ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 17.52ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 16.11ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 16.12ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 13.61ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 8.01ms
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:15 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 3.00ms
2025-11-21 14:58:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:58:16 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 14:58:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:58:19 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.52ms
2025-11-21 14:58:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:58:19 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 14:58:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 14:58:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:58:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 14:58:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 14:58:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2649.90ms
2025-11-21 14:58:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:58:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 14:58:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 14:58:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1218.85ms
2025-11-21 14:58:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:58:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 14:58:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 14:58:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.74ms
2025-11-21 14:58:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 14:58:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.00ms
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 889.27ms
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1330.66ms
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:58:27 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 14:58:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:58:27 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 14:58:27 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 14:58:27 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 14:58:27 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 14:58:27 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 14:58:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:58:27 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 14:58:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:58:27 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 14:58:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 164.03ms
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 168.03ms
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:58:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:27 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 14:58:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 14:58:27 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 14:58:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:28 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 14:58:28 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 14:58:28 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 14:58:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 281.47ms
2025-11-21 14:58:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 283.38ms
2025-11-21 14:58:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:58:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 14:58:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:58:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2345.31ms
2025-11-21 14:58:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:58:28 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 14:58:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 14:58:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 14:58:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1153.81ms
2025-11-21 14:58:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1372.64ms
2025-11-21 14:58:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:58:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:58:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 14:58:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 14:58:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:58:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 880.56ms
2025-11-21 14:58:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1109.00ms
2025-11-21 14:58:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.70ms
2025-11-21 14:58:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:58:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 14:58:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 964.11ms
2025-11-21 14:58:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 14:58:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1123.76ms
2025-11-21 14:58:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:58:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 14:58:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 14:58:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.24ms
2025-11-21 14:58:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:58:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 14:58:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 14:58:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1109.15ms
2025-11-21 14:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 14:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1321.78ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 9.00ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.99ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.07ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.53ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 14:58:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 14:58:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 7.00ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 2.52ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 14:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:58:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 14:58:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:58:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 14:58:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 81.71ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 14:58:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 14:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 14:58:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 14:58:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 14:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 14:58:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 14:58:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 14:58:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 14:58:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 14:58:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 216.21ms
2025-11-21 14:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 218.21ms
2025-11-21 14:58:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:58:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 14:58:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 14:58:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 14:58:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 14:58:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 14:58:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1097.65ms
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1214.50ms
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:58:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.01ms
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 14:58:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10285.83ms
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 2.97ms
2025-11-21 14:58:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 14:58:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 1017.68ms
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1363.53ms
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1377.54ms
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.43ms
2025-11-21 14:58:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 14:58:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 14:58:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 14:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1228.92ms
2025-11-21 14:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1285.80ms
2025-11-21 14:58:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 14:58:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 14:58:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 14:58:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 14:58:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1397.19ms
2025-11-21 14:58:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:58:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 14:58:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 14:58:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 14:58:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 14:58:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1114.99ms
2025-11-21 14:58:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:58:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1093.63ms
2025-11-21 14:59:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:59:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 968.00ms
2025-11-21 14:59:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 14:59:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 882.25ms
2025-11-21 15:00:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:00:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 880.59ms
2025-11-21 15:00:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:00:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 879.82ms
2025-11-21 15:01:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:01:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 883.25ms
2025-11-21 15:01:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:01:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 881.34ms
2025-11-21 15:02:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:02:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.00ms
2025-11-21 15:02:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:02:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1318.65ms
2025-11-21 15:02:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:02:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:02:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 15:02:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 15.20ms
2025-11-21 15:02:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:02:12 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 15:02:12 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:12 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:12 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:02:12 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 15:02:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:02:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:02:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:02:12 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 15:02:12 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:12 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 15:02:12 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 15:02:12 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:12 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 15:02:12 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 15:02:12 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days with ticker V
2025-11-21 15:02:12 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:02:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 15:02:13 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:02:13 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:02:13 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:02:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 332.25ms
2025-11-21 15:02:13 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for V
2025-11-21 15:02:13 - utils.live_stock_service - INFO - get_stock_analysis:308 - Cached live stock analysis for V
2025-11-21 15:02:13 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:02:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 479.96ms
2025-11-21 15:02:13 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:02:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.96ms
2025-11-21 15:02:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:02:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 15:02:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 15:02:14 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 15:02:14 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 15:02:14 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:02:14 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:02:14 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.258
2025-11-21 15:02:14 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:14 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:14 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 15:02:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2263.40ms
2025-11-21 15:02:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1167.43ms
2025-11-21 15:02:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:02:14 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 15:02:14 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:14 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:14 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:02:14 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 15:02:14 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:02:14 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:02:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:02:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 2250.89ms
2025-11-21 15:02:15 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:02:15 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 15:02:15 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:02:15 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:02:15 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.258
2025-11-21 15:02:15 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:02:15 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 15:02:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1007.21ms
2025-11-21 15:02:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:02:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.18ms
2025-11-21 15:02:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:02:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 872.93ms
2025-11-21 15:03:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 886.49ms
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1325.58ms
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:03:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 15:03:27 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:03:27 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:03:27 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 12.02ms
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:03:27 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 15:03:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:27 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:03:27 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:03:27 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 15:03:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:27 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 15:03:27 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 15:03:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:27 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 15:03:27 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 15:03:27 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days with ticker V
2025-11-21 15:03:27 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:03:27 - utils.live_stock_service - INFO - get_stock_analysis:224 - Returning cached stock analysis for V
2025-11-21 15:03:27 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:03:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 69.71ms
2025-11-21 15:03:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 15:03:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:03:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 15:03:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:03:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 15:03:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:03:28 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:03:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.258
2025-11-21 15:03:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 15:03:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1077.00ms
2025-11-21 15:03:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:03:28 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 15:03:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:03:28 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 15:03:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1156.14ms
2025-11-21 15:03:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:03:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 15:03:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:03:28 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:28 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:03:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1156.41ms
2025-11-21 15:03:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 15:03:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:03:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 15:03:29 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:03:29 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:03:29 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.258
2025-11-21 15:03:29 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:29 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:29 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 15:03:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1084.90ms
2025-11-21 15:03:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1189.55ms
2025-11-21 15:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 11.00ms
2025-11-21 15:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1339.12ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.04ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 8.57ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.90ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.01ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.01ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.01ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.00ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:03:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:03:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:03:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 6.52ms
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:03:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:03:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:03:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:03:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:03:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:03:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:03:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:03:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 68.87ms
2025-11-21 15:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:03:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.99ms
2025-11-21 15:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:03:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:03:40 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:03:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 15:03:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1269.46ms
2025-11-21 15:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 15:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:03:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:03:40 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:40 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1313.34ms
2025-11-21 15:03:41 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 15:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:03:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:03:41 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:03:41 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:03:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:03:41 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1994.18ms
2025-11-21 15:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1371.91ms
2025-11-21 15:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1199.96ms
2025-11-21 15:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 15:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:03:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:03:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.88ms
2025-11-21 15:03:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:03:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 15:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1108.89ms
2025-11-21 15:03:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.52ms
2025-11-21 15:03:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:03:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.35ms
2025-11-21 15:03:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2430.23ms
2025-11-21 15:03:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 891.58ms
2025-11-21 15:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 900.76ms
2025-11-21 15:03:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10116.56ms
2025-11-21 15:03:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1022.74ms
2025-11-21 15:03:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 1087.36ms
2025-11-21 15:03:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:03:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1306.76ms
2025-11-21 15:04:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:04:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.00ms
2025-11-21 15:04:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:04:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 885.49ms
2025-11-21 15:04:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:04:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 877.21ms
2025-11-21 15:05:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:05:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1116.16ms
2025-11-21 15:05:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:05:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 927.00ms
2025-11-21 15:06:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:06:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 874.46ms
2025-11-21 15:06:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:06:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:06:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2.99ms
2025-11-21 15:06:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:06:56 - utils.etl_pipeline - INFO - refresh_materialized_view:427 - Refreshing materialized view...
2025-11-21 15:06:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 872.54ms
2025-11-21 15:06:58 - utils.etl_pipeline - INFO - refresh_materialized_view:461 - Materialized view refreshed: 5886 records
2025-11-21 15:06:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2356.71ms
2025-11-21 15:06:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:06:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1098.63ms
2025-11-21 15:07:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 882.62ms
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 5.99ms
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.00ms
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 5.00ms
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.99ms
2025-11-21 15:07:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1015.01ms
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1542.33ms
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:07:30 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 19.61ms
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 20.55ms
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 20.55ms
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 18.54ms
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:07:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:07:30 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:07:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:30 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:07:30 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:07:30 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:07:30 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 15:07:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:07:31 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:07:31 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 1068.95ms
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 1069.94ms
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1067.95ms
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 1101.68ms
2025-11-21 15:07:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:07:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:07:31 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:07:31 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:07:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:07:31 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:07:31 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:31 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:07:31 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:07:31 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:07:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 400.29ms
2025-11-21 15:07:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 401.34ms
2025-11-21 15:07:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:07:32 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3376.17ms
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:07:32 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:07:32 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:07:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:07:32 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1630.71ms
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2703.84ms
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:07:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:07:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:07:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:07:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1027.24ms
2025-11-21 15:07:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-trends | Status: 200 | Duration: 3.00ms
2025-11-21 15:07:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:07:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1229.71ms
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1246.23ms
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:07:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 907.68ms
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 3.00ms
2025-11-21 15:07:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:07:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1413.25ms
2025-11-21 15:07:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:07:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 15:07:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:07:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:07:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:07:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1288.85ms
2025-11-21 15:07:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:07:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.01ms
2025-11-21 15:07:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:07:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:07:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:07:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1184.98ms
2025-11-21 15:07:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10275.97ms
2025-11-21 15:07:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 922.19ms
2025-11-21 15:07:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 889.32ms
2025-11-21 15:07:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:07:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2460.53ms
2025-11-21 15:07:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1062.31ms
2025-11-21 15:07:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 1152.99ms
2025-11-21 15:07:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:07:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 877.82ms
2025-11-21 15:08:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10320.78ms
2025-11-21 15:08:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:08:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 897.27ms
2025-11-21 15:08:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:08:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.82ms
2025-11-21 15:08:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:08:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.03ms
2025-11-21 15:08:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1322.92ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.55ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.13ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.70ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.02ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.51ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:08:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.00ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:08:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:08:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:08:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 6.00ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:08:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:08:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:08:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:08:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 15:08:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 135.57ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:08:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:08:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:08:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:08:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:08:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:08:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:08:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:08:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:08:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 218.56ms
2025-11-21 15:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 218.97ms
2025-11-21 15:08:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:08:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:08:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1146.74ms
2025-11-21 15:08:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:08:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:08:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:08:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:08:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:08:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:08:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:08:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:08:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1058.14ms
2025-11-21 15:08:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 9.51ms
2025-11-21 15:08:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:08:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:08:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:08:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:08:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1163.63ms
2025-11-21 15:08:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1094.06ms
2025-11-21 15:08:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:08:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:08:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:08:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:08:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:08:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.59ms
2025-11-21 15:08:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:08:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 15:08:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:08:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:08:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.20ms
2025-11-21 15:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 15:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:08:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:08:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:08:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1095.00ms
2025-11-21 15:08:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:08:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 882.38ms
2025-11-21 15:09:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:09:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 877.23ms
2025-11-21 15:09:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:09:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 876.99ms
2025-11-21 15:10:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:10:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 877.08ms
2025-11-21 15:11:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:11:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 879.17ms
2025-11-21 15:11:43 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 15:11:43 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 15:11:59 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 15:11:59 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 15:11:59 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 15:12:02 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 15:12:02 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 15:12:02 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 15:12:02 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 15:12:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.21ms
2025-11-21 15:12:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1762.40ms
2025-11-21 15:12:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2212.13ms
2025-11-21 15:12:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:12:05 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:12:05 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:12:08 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 15:12:08 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:09 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:12:09 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:12:09 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:12:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:09 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:12:09 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:12:09 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:12:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:09 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:12:09 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:12:09 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:12:09 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:12:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4743.33ms
2025-11-21 15:12:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:09 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:12:09 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:12:09 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:12:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 7.52ms
2025-11-21 15:12:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:12:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:12:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 7703.76ms
2025-11-21 15:12:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:11 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:12:11 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 15:12:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:11 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:12:11 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:12:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:12 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:12:12 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 7290.07ms
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 7289.07ms
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 7290.07ms
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.02ms
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:12:12 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:12:12 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:12:12 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:12:12 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:12 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:12 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 7858.62ms
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.00ms
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.52ms
2025-11-21 15:12:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2464.56ms
2025-11-21 15:12:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 952.04ms
2025-11-21 15:12:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:12:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 869.03ms
2025-11-21 15:12:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2042.56ms
2025-11-21 15:12:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1464.40ms
2025-11-21 15:12:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2417.00ms
2025-11-21 15:12:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 877.51ms
2025-11-21 15:12:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1332.74ms
2025-11-21 15:12:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:15 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:12:15 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:12:15 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:15 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:15 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:12:15 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:12:15 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:12:15 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:15 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:12:15 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:12:15 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:12:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:12:16 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:12:16 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:12:16 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:12:16 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:12:16 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 15:12:16 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:12:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 372.19ms
2025-11-21 15:12:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 371.20ms
2025-11-21 15:12:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 370.19ms
2025-11-21 15:12:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:16 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:12:16 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:12:16 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:12:16 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:12:16 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:12:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 17.00ms
2025-11-21 15:12:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 17.00ms
2025-11-21 15:12:16 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:12:16 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:12:16 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:12:16 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:12:16 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:12:16 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:12:16 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:16 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:12:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1064.53ms
2025-11-21 15:12:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1245.71ms
2025-11-21 15:12:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:12:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:12:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:12:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2410.94ms
2025-11-21 15:12:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:12:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:12:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.99ms
2025-11-21 15:12:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.99ms
2025-11-21 15:12:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:12:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:12:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.55ms
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:12:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2358.74ms
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 9.67ms
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.52ms
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 889.11ms
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.00ms
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1112.27ms
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 873.25ms
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.00ms
2025-11-21 15:12:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1329.97ms
2025-11-21 15:12:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 883.86ms
2025-11-21 15:12:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 875.11ms
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2324.44ms
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1328.80ms
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:22 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:12:22 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:12:22 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:12:22 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:12:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:12:22 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:12:22 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:12:22 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 15:12:22 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:12:22 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:12:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:12:22 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:12:22 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:12:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:12:22 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:12:22 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:22 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 370.89ms
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 369.89ms
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 377.42ms
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:22 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:12:22 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:12:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 9.09ms
2025-11-21 15:12:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:12:22 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:12:22 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:12:23 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:12:23 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:12:23 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:12:23 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:23 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:12:23 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:12:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1066.28ms
2025-11-21 15:12:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1287.94ms
2025-11-21 15:12:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:12:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:12:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:12:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:12:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:12:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2363.50ms
2025-11-21 15:12:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.01ms
2025-11-21 15:12:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.91ms
2025-11-21 15:12:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.90ms
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.00ms
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 875.67ms
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1323.35ms
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 3.01ms
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:25 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 5.00ms
2025-11-21 15:12:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 429 | Duration: 4.00ms
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 879.84ms
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:26 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 429 | Duration: 4.00ms
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2348.13ms
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:26 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:26 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 3.00ms
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:26 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 1.66ms
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:26 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:26 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 1.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 14.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 13.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 14.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 11.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 11.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 11.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:28 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 9.00ms
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 9.00ms
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 9.51ms
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 9.52ms
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 9.52ms
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 10.52ms
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 5.00ms
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:30 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 17.55ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 16.04ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 15.03ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 17.03ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 14.50ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 16.00ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 7.00ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 7.53ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 7.52ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 429 | Duration: 7.52ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 429 | Duration: 8.02ms
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:33 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:34 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:35 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:35 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:35 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:35 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 15.15ms
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 429 | Duration: 15.16ms
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 18.16ms
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 429 | Duration: 18.16ms
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:35 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:36 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 3.00ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 11.01ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 9.00ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 10.00ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 8.99ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 8.00ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 4.00ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:38 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.99ms
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:39 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:39 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:39 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 5.00ms
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 5.00ms
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 5.00ms
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:39 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:39 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:39 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 7.00ms
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 7.00ms
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 6.00ms
2025-11-21 15:12:39 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.99ms
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:41 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:41 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:41 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 3.00ms
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:12:41 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 6.51ms
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 6.52ms
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:41 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:41 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:41 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:41 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 9.02ms
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 9.01ms
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 7.01ms
2025-11-21 15:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 7.01ms
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:12:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 8.01ms
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 8.48ms
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 429 | Duration: 8.48ms
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 429 | Duration: 8.47ms
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 4.01ms
2025-11-21 15:12:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:43 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 9.44ms
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 11.14ms
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 10.58ms
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 10.49ms
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 10.85ms
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 9.27ms
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.00ms
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:45 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.99ms
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:47 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:47 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:47 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 8.56ms
2025-11-21 15:12:47 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:47 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:47 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 14.21ms
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 15.70ms
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 15.18ms
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 13.17ms
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 11.52ms
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:47 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 7.01ms
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 8.00ms
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 7.00ms
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 429 | Duration: 8.00ms
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 429 | Duration: 8.00ms
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 429 | Duration: 10.55ms
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 429 | Duration: 11.07ms
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.52ms
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 4.82ms
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:12:50 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:12:52 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:12:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:12:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:12:55 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 15:12:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:12:57 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:12:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:13:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:13:00 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:13:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:13:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:13:00 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:13:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 2.00ms
2025-11-21 15:13:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:13:02 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:13:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 15:13:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:13:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:13:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:13:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.35ms
2025-11-21 15:13:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:13:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:13:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:13:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.96ms
2025-11-21 15:13:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1617.72ms
2025-11-21 15:13:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:13:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.00ms
2025-11-21 15:13:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1065.18ms
2025-11-21 15:13:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2041.34ms
2025-11-21 15:13:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:13:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:13:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:13:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:13:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:13:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:13:31 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:13:31 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:13:31 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:13:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:13:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:31 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:13:31 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:13:31 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:13:31 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 15:13:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:32 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:13:32 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:13:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:32 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:13:32 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:13:32 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:13:33 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:13:33 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:33 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:13:33 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:13:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2286.19ms
2025-11-21 15:13:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 2288.29ms
2025-11-21 15:13:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 2291.20ms
2025-11-21 15:13:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:13:33 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:13:33 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:13:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 19.00ms
2025-11-21 15:13:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:13:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 4557.80ms
2025-11-21 15:13:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:34 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:13:34 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:13:34 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:13:34 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:13:34 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:13:34 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:34 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:34 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:13:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 3212.21ms
2025-11-21 15:13:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 3221.80ms
2025-11-21 15:13:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:13:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:13:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:13:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:13:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 908.04ms
2025-11-21 15:13:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:13:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:13:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1094.75ms
2025-11-21 15:13:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.27ms
2025-11-21 15:13:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:13:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:13:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 913.82ms
2025-11-21 15:13:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:13:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1112.69ms
2025-11-21 15:13:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:13:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:13:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:13:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 15:13:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1303.99ms
2025-11-21 15:13:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:13:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:13:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1224.71ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1504.98ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 10.00ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.44ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.56ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.00ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 3.00ms
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:13:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:13:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:13:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:13:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:13:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:13:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:13:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:13:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.396
2025-11-21 15:13:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:13:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:13:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:13:40 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:13:40 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:13:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:13:40 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:13:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:41 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:13:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:13:41 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:13:41 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1524.62ms
2025-11-21 15:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1524.63ms
2025-11-21 15:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 1528.63ms
2025-11-21 15:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 14.21ms
2025-11-21 15:13:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:13:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:13:41 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:13:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:13:41 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:13:41 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:13:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:42 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:13:42 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:13:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2223.38ms
2025-11-21 15:13:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2688.55ms
2025-11-21 15:13:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:13:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:13:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:13:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 15:13:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:13:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:13:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:13:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:13:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.00ms
2025-11-21 15:13:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1094.99ms
2025-11-21 15:13:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:13:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 15:13:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:13:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:13:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:13:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.13ms
2025-11-21 15:13:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:13:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 15:13:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:13:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:13:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:13:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1113.98ms
2025-11-21 15:13:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:13:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:13:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:13:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:13:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10093.54ms
2025-11-21 15:13:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 2.00ms
2025-11-21 15:13:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:13:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.72ms
2025-11-21 15:13:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 899.83ms
2025-11-21 15:13:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2.00ms
2025-11-21 15:13:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:13:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1108.56ms
2025-11-21 15:13:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:14:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 882.99ms
2025-11-21 15:14:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:14:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.56ms
2025-11-21 15:14:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:14:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 894.93ms
2025-11-21 15:14:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:15:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 877.63ms
2025-11-21 15:15:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:15:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1179.82ms
2025-11-21 15:15:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1327.10ms
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.27ms
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.81ms
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.48ms
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:15:59 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 883.54ms
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.79ms
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 2.00ms
2025-11-21 15:15:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:15:59 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 15:16:00 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:16:00 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:16:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:16:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:16:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:16:00 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days with ticker V
2025-11-21 15:16:00 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 15:16:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:00 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 15:16:00 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 15:16:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:00 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 15:16:00 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 15:16:00 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 15:16:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:00 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:16:00 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 15:16:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 448.93ms
2025-11-21 15:16:00 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for V
2025-11-21 15:16:00 - utils.live_stock_service - INFO - get_stock_analysis:308 - Cached live stock analysis for V
2025-11-21 15:16:00 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:16:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 342.38ms
2025-11-21 15:16:00 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 15:16:00 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:16:00 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:16:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1250.49ms
2025-11-21 15:16:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 15:16:01 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 15:16:01 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 15:16:01 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 15:16:01 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 15:16:02 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:16:02 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:16:02 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:16:02 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:16:02 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.258
2025-11-21 15:16:02 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 15:16:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 2431.72ms
2025-11-21 15:16:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2433.72ms
2025-11-21 15:16:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1387.43ms
2025-11-21 15:16:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:16:02 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 15:16:02 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:02 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:16:02 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 15:16:03 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:16:03 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 15:16:03 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 15:16:03 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 15:16:03 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.258
2025-11-21 15:16:03 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:03 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:16:03 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 15:16:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 994.00ms
2025-11-21 15:16:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:16:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3293.23ms
2025-11-21 15:16:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:16:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 984.51ms
2025-11-21 15:16:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:16:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 964.09ms
2025-11-21 15:16:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:16:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10294.33ms
2025-11-21 15:16:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-sentiment-correlation | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:16:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-sentiment-correlation | Status: 200 | Duration: 917.48ms
2025-11-21 15:16:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:16:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.50ms
2025-11-21 15:16:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:17:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:17:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:17:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:17:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:17:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.00ms
2025-11-21 15:17:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 879.10ms
2025-11-21 15:17:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 885.86ms
2025-11-21 15:17:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1325.86ms
2025-11-21 15:33:48 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 15:33:49 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 15:33:49 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 15:33:52 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 15:33:52 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 15:33:52 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 15:33:52 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.51ms
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 3.00ms
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.00ms
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.00ms
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 2.01ms
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:33:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:33:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:33:52 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:33:52 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:33:55 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 15:33:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:55 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:33:55 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:33:55 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:33:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:55 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:33:55 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:33:55 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:33:55 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:33:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:55 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:33:55 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:33:55 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:33:55 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:33:55 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:33:55 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:33:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3044.57ms
2025-11-21 15:33:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3042.56ms
2025-11-21 15:33:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:33:56 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:56 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:33:57 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:33:57 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:33:57 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:57 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:57 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:33:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 4124.46ms
2025-11-21 15:33:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4125.12ms
2025-11-21 15:33:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4546.42ms
2025-11-21 15:33:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:33:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:33:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:33:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:33:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:33:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:33:57 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:33:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:33:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.11ms
2025-11-21 15:33:58 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 15:33:58 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:33:58 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:33:58 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:33:58 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:33:58 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:58 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:33:58 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:33:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5976.56ms
2025-11-21 15:33:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1974.78ms
2025-11-21 15:33:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:33:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 15:33:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:33:59 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:33:59 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:34:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1145.24ms
2025-11-21 15:34:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:34:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:34:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:34:00 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:34:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 3.00ms
2025-11-21 15:34:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:00 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:34:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1244.50ms
2025-11-21 15:34:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:34:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 15:34:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:34:01 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:34:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 965.10ms
2025-11-21 15:34:02 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:34:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1311.53ms
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 3.00ms
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 3.01ms
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 8.00ms
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.20ms
2025-11-21 15:34:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 958.54ms
2025-11-21 15:34:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2545.39ms
2025-11-21 15:34:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 2.01ms
2025-11-21 15:34:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1066.25ms
2025-11-21 15:34:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/price-trends | Status: 200 | Duration: 2.00ms
2025-11-21 15:34:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 1129.06ms
2025-11-21 15:34:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 3.00ms
2025-11-21 15:34:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10034.51ms
2025-11-21 15:34:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 15:34:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1193.00ms
2025-11-21 15:34:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:34:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.52ms
2025-11-21 15:34:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1353.55ms
2025-11-21 15:34:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3474.40ms
2025-11-21 15:34:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1057.15ms
2025-11-21 15:34:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/price-trends | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/price-trends | Status: 200 | Duration: 1116.38ms
2025-11-21 15:34:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10219.50ms
2025-11-21 15:34:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:34:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 896.34ms
2025-11-21 15:34:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:35:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 879.60ms
2025-11-21 15:35:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:35:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 2027.19ms
2025-11-21 15:35:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:36:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 885.06ms
2025-11-21 15:36:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:36:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1018.42ms
2025-11-21 15:36:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:37:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1467.94ms
2025-11-21 15:37:02 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 15:37:02 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 15:48:53 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 15:48:53 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 15:48:53 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 15:48:56 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 15:48:56 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 15:48:56 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 15:48:56 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 15:48:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:48:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 15:48:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:48:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:48:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 2.00ms
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.01ms
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:48:57 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:48:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:48:57 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:48:59 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 15:49:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:00 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:49:00 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:49:00 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:49:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:01 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:01 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:49:01 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:49:01 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:49:01 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:49:01 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:49:01 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:01 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:49:01 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3476.21ms
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4175.48ms
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.00ms
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:49:01 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:49:01 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 15:49:01 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:49:01 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 7.01ms
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:49:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:49:01 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:49:01 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:49:01 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:49:01 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:49:01 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:01 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:01 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:49:02 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:02 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:49:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4631.36ms
2025-11-21 15:49:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 4629.36ms
2025-11-21 15:49:03 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:49:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1924.45ms
2025-11-21 15:49:03 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:49:03 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 15:49:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2898.42ms
2025-11-21 15:49:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:49:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.32ms
2025-11-21 15:49:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:49:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:49:04 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:49:04 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:49:04 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:49:04 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:04 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:04 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:49:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6565.80ms
2025-11-21 15:49:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:49:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1172.56ms
2025-11-21 15:49:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:49:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 15:49:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:49:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:49:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:49:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1380.05ms
2025-11-21 15:49:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:49:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 15:49:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:49:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:49:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:49:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1450.63ms
2025-11-21 15:49:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:49:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.17ms
2025-11-21 15:49:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1682.75ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.01ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.52ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.00ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:49:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:49:31 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:49:31 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:49:31 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 7.01ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:49:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:49:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:31 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:49:31 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:49:31 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:49:31 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:49:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:31 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 99.20ms
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:49:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:49:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:31 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:49:31 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:49:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:49:31 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:49:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:31 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:49:31 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:49:31 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:49:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:31 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:32 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:49:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:49:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 418.62ms
2025-11-21 15:49:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:49:32 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:49:33 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:49:33 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:49:33 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:49:33 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:33 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:49:33 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:49:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1294.72ms
2025-11-21 15:49:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1409.92ms
2025-11-21 15:49:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:49:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:49:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:49:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.00ms
2025-11-21 15:49:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:49:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:49:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:49:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:49:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1096.16ms
2025-11-21 15:49:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1096.92ms
2025-11-21 15:49:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:49:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 15:49:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:49:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:49:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:49:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.06ms
2025-11-21 15:49:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:49:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.25ms
2025-11-21 15:49:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:49:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:49:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:49:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.47ms
2025-11-21 15:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:49:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 15:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:49:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:49:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1109.34ms
2025-11-21 15:49:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:49:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.13ms
2025-11-21 15:49:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:49:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 884.40ms
2025-11-21 15:50:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:50:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 880.33ms
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 6.99ms
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.00ms
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 5.01ms
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 3.99ms
2025-11-21 15:50:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:50:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1015.10ms
2025-11-21 15:50:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3285.41ms
2025-11-21 15:50:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:50:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 2.01ms
2025-11-21 15:50:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:50:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1223.75ms
2025-11-21 15:50:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:50:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 3.00ms
2025-11-21 15:50:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:51:43 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 15:51:43 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 15:51:43 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 15:51:47 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 15:51:47 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 15:51:47 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 15:51:47 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 15:51:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:51:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 15:51:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:51:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:51:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1341.17ms
2025-11-21 15:51:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:51:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:51:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:51:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:51:48 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:51:48 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:51:51 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 15:51:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:52 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:51:52 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:51:52 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:51:52 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:51:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:51:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:51:52 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:51:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:52 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:51:52 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:51:52 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:51:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:52 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:51:52 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:51:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3451.54ms
2025-11-21 15:51:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:51:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 4921.33ms
2025-11-21 15:51:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4243.73ms
2025-11-21 15:51:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:51:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:51:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:51:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:51:53 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:51:53 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:51:53 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:51:53 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:53 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:51:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4766.45ms
2025-11-21 15:51:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1417.57ms
2025-11-21 15:51:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:51:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:51:54 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:51:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1402.24ms
2025-11-21 15:51:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1403.16ms
2025-11-21 15:51:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:51:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:51:54 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 15:51:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:51:55 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:51:55 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:51:55 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:51:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:51:55 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:51:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 3189.66ms
2025-11-21 15:51:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.64ms
2025-11-21 15:51:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:51:55 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:51:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:51:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.77ms
2025-11-21 15:51:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:51:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:51:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:51:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1112.77ms
2025-11-21 15:52:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:52:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2584.44ms
2025-11-21 15:52:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1004.18ms
2025-11-21 15:52:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 890.73ms
2025-11-21 15:52:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10009.02ms
2025-11-21 15:52:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.01ms
2025-11-21 15:52:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:52:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 884.61ms
2025-11-21 15:52:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1323.61ms
2025-11-21 15:52:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:52:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:52:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:52:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:52:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:52:17 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:52:18 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:52:18 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:52:18 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:52:18 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:52:18 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:52:18 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:52:18 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:52:18 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:52:18 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:52:18 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:52:18 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:52:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 145.47ms
2025-11-21 15:52:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 146.49ms
2025-11-21 15:52:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:52:18 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:52:18 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:52:18 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:52:18 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:18 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:52:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 252.41ms
2025-11-21 15:52:18 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:52:18 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:52:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:52:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1284.08ms
2025-11-21 15:52:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:52:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:52:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:52:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:52:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2348.02ms
2025-11-21 15:52:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:52:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:52:19 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:52:19 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:52:19 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:52:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:19 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:52:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1962.81ms
2025-11-21 15:52:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 892.54ms
2025-11-21 15:52:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1127.31ms
2025-11-21 15:52:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1123.32ms
2025-11-21 15:52:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:52:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:52:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:52:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1281.43ms
2025-11-21 15:52:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:52:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:52:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:52:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1285.46ms
2025-11-21 15:52:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:52:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:52:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:52:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1401.71ms
2025-11-21 15:52:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9962.33ms
2025-11-21 15:52:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1105.70ms
2025-11-21 15:52:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:52:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.00ms
2025-11-21 15:52:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 883.48ms
2025-11-21 15:52:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1314.86ms
2025-11-21 15:52:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:52:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:52:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:52:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:52:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:52:36 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:52:36 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:36 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:36 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:52:36 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:52:36 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:52:36 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:52:36 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:36 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:36 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:52:36 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:52:36 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:52:36 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:52:36 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:52:36 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:36 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:36 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:52:37 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:52:37 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:52:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:52:37 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:52:37 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:37 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 689.29ms
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 693.26ms
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 349.54ms
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.00ms
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:52:37 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:52:37 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2448.22ms
2025-11-21 15:52:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:52:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1574.66ms
2025-11-21 15:52:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.90ms
2025-11-21 15:52:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:52:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:52:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1303.07ms
2025-11-21 15:52:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:52:38 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:52:38 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:52:38 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:52:38 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:38 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:38 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:52:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2277.71ms
2025-11-21 15:52:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1777.55ms
2025-11-21 15:52:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1127.34ms
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 870.65ms
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1375.26ms
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:52:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:52:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:52:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:52:40 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:52:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:52:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:52:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:52:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:52:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:52:40 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:52:40 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:52:40 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:52:40 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:52:40 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:52:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:52:40 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:52:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:40 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 352.93ms
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 349.92ms
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 356.93ms
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2629.84ms
2025-11-21 15:52:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:52:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:52:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:52:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:52:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:52:41 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:52:41 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:52:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:41 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:52:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1054.08ms
2025-11-21 15:52:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1275.57ms
2025-11-21 15:52:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:52:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:52:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:52:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:52:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:52:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:52:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1091.36ms
2025-11-21 15:52:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.37ms
2025-11-21 15:52:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:52:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:52:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2340.06ms
2025-11-21 15:52:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 429 | Duration: 3.00ms
2025-11-21 15:52:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:42 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 15:52:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:52:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.38ms
2025-11-21 15:52:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:52:43 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 429 | Duration: 1.00ms
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 7.44ms
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 429 | Duration: 6.43ms
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 429 | Duration: 6.43ms
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 429 | Duration: 7.00ms
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:44 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 429 | Duration: 2.00ms
2025-11-21 15:52:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:46 - middleware.rate_limiting - WARNING - dispatch:146 - Rate limit exceeded: Rate limit exceeded: 60 requests per minute
2025-11-21 15:52:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 429 | Duration: 2.00ms
2025-11-21 15:52:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1452.84ms
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:52:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:52:51 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:52:51 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:52:51 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:52:51 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:52:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:52:51 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:52:51 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:52:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:52:51 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:52:51 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:52:51 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:52:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:52:51 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:52:51 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:52:51 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:52:51 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:51 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:52:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 360.54ms
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 360.54ms
2025-11-21 15:52:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 364.38ms
2025-11-21 15:52:52 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:52:52 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:52:52 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:52:52 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:52:52 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:52:52 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:52 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:52:52 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:52:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1224.01ms
2025-11-21 15:52:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1539.29ms
2025-11-21 15:52:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:52:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:52:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:52:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:52:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:52:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:52:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1163.71ms
2025-11-21 15:52:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1230.70ms
2025-11-21 15:54:48 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 15:54:49 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 15:54:49 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 15:54:54 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 15:54:54 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 15:54:54 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 15:54:54 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 15:55:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:55:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:55:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:55:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:55:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.15ms
2025-11-21 15:55:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1760.64ms
2025-11-21 15:55:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2209.60ms
2025-11-21 15:55:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:55:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:55:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:55:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:55:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:55:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:55:08 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:55:08 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:55:10 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 15:55:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:11 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:55:11 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:55:11 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:55:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:11 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:55:11 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:55:11 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:55:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:11 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:55:11 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:55:11 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 15:55:11 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:55:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3352.01ms
2025-11-21 15:55:11 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:55:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:55:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 6105.53ms
2025-11-21 15:55:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:55:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4382.04ms
2025-11-21 15:55:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:55:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:55:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 15:55:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 15:55:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:55:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 15:55:13 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:13 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:55:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1698.16ms
2025-11-21 15:55:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 5589.11ms
2025-11-21 15:55:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:55:13 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 15:55:14 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 46 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:55:14 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:55:14 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:14 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:14 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:55:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6140.57ms
2025-11-21 15:55:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1765.31ms
2025-11-21 15:55:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1761.44ms
2025-11-21 15:55:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 15:55:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 15:55:14 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:55:14 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:55:14 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:55:14 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:14 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:55:14 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:55:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6407.78ms
2025-11-21 15:55:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 15:55:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1278.24ms
2025-11-21 15:55:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 15:55:15 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 15:55:16 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 15:55:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.42ms
2025-11-21 15:55:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 15:55:16 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 15:55:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 15:55:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1216.21ms
2025-11-21 15:55:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10112.68ms
2025-11-21 15:55:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:55:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1105.67ms
2025-11-21 15:55:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:55:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 882.36ms
2025-11-21 15:56:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:56:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.75ms
2025-11-21 15:56:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:56:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 875.58ms
2025-11-21 15:57:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:57:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 873.71ms
2025-11-21 15:57:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:57:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 937.17ms
2025-11-21 15:58:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 875.41ms
2025-11-21 15:58:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:58:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.24ms
2025-11-21 15:58:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1074.80ms
2025-11-21 15:58:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1516.25ms
2025-11-21 15:58:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:58:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 15:58:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:58:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 15:58:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:58:10 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 15:58:10 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 15:58:10 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 15:58:10 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 15:58:10 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:10 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:10 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:58:10 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 15:58:10 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:58:10 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 46 articles, avg sentiment: 0.382
2025-11-21 15:58:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 46 articles
2025-11-21 15:58:11 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 15:58:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 15:58:11 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 15:58:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 15:58:11 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 15:58:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 15:58:11 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 15:58:11 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 15:58:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:11 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:12 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 15:58:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1657.53ms
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 1660.53ms
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 826.78ms
2025-11-21 15:58:12 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:58:12 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3480.52ms
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.00ms
2025-11-21 15:58:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:12 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 15:58:12 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 15:58:12 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 15:58:12 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:12 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 15:58:12 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 15:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2669.20ms
2025-11-21 15:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2674.72ms
2025-11-21 15:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 15:58:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 15:58:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.00ms
2025-11-21 15:58:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 15:58:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1332.76ms
2025-11-21 15:58:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2189.88ms
2025-11-21 15:58:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 15:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2772.39ms
2025-11-21 15:58:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1171.51ms
2025-11-21 15:59:43 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 15:59:44 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 15:59:44 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 15:59:47 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 15:59:47 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 15:59:47 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 15:59:47 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 16:02:19 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 16:02:19 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 16:02:19 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 16:02:23 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 16:02:23 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 16:02:23 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 16:02:23 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 16:02:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:02:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.04ms
2025-11-21 16:02:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:02:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 886.85ms
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.00ms
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 5.00ms
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.53ms
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 5.01ms
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.10ms
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1968.29ms
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2446.65ms
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 10.03ms
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 12.05ms
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 12.03ms
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 13.03ms
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 13.52ms
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:13 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:03:15 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 16:03:16 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:17 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:17 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3196.28ms
2025-11-21 16:03:17 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:03:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:17 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:17 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:03:17 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:03:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:03:17 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:03:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:17 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:03:17 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 6125.31ms
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:17 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:17 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 16:03:17 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:03:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 795.71ms
2025-11-21 16:03:18 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:18 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:03:18 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4295.19ms
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4299.19ms
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.85ms
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:03:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:03:18 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:18 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:03:18 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 16:03:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:03:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1513.47ms
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1356.91ms
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 3.51ms
2025-11-21 16:03:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:19 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:19 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:03:19 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:03:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:19 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:03:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2305.33ms
2025-11-21 16:03:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1404.06ms
2025-11-21 16:03:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1416.06ms
2025-11-21 16:03:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:03:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.00ms
2025-11-21 16:03:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:03:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:03:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:03:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.12ms
2025-11-21 16:03:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:03:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:03:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:03:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:03:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:03:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1111.87ms
2025-11-21 16:03:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:03:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:03:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:03:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:03:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:03:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1102.22ms
2025-11-21 16:03:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10147.56ms
2025-11-21 16:03:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2.00ms
2025-11-21 16:03:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1113.14ms
2025-11-21 16:03:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.00ms
2025-11-21 16:03:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.59ms
2025-11-21 16:03:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1028.47ms
2025-11-21 16:03:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.00ms
2025-11-21 16:03:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.00ms
2025-11-21 16:03:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1724.05ms
2025-11-21 16:03:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1106.24ms
2025-11-21 16:03:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2895.60ms
2025-11-21 16:03:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1177.17ms
2025-11-21 16:03:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1704.21ms
2025-11-21 16:03:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 978.96ms
2025-11-21 16:03:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1384.95ms
2025-11-21 16:03:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2430.38ms
2025-11-21 16:03:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1388.10ms
2025-11-21 16:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:37 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:03:37 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:03:37 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:03:37 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:03:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:37 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:03:37 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:37 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:03:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:03:37 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:03:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:37 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:03:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 209.90ms
2025-11-21 16:03:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 213.90ms
2025-11-21 16:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:03:37 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:03:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:03:37 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:03:37 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:38 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:38 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:38 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:38 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:38 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:38 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:03:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 234.62ms
2025-11-21 16:03:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 5.01ms
2025-11-21 16:03:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:38 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:38 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1370.77ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2319.87ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.00ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1350.59ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.56ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 6.09ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.51ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.51ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.79ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.52ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.16ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:03:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:03:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 6.00ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:03:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:03:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 87.84ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:03:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:39 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:03:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2070.41ms
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:03:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:03:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:03:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 16:03:40 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:03:40 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 16:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 227.82ms
2025-11-21 16:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 228.31ms
2025-11-21 16:03:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1226.50ms
2025-11-21 16:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1191.31ms
2025-11-21 16:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:03:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1940.52ms
2025-11-21 16:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.01ms
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2335.34ms
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:41 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2420.90ms
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.09ms
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.14ms
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:03:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:41 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:03:41 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:03:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:41 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2296.57ms
2025-11-21 16:03:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 892.90ms
2025-11-21 16:03:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:03:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1330.53ms
2025-11-21 16:03:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:03:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:42 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:03:42 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:03:42 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:03:42 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:03:42 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:03:42 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:42 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:03:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:03:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:03:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:03:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:03:43 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 352.38ms
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 353.38ms
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 358.90ms
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1441.93ms
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:03:43 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:43 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.00ms
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2355.30ms
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:43 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:43 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:03:43 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:03:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:43 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1058.93ms
2025-11-21 16:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1240.28ms
2025-11-21 16:03:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1110.46ms
2025-11-21 16:03:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:03:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 877.98ms
2025-11-21 16:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1332.07ms
2025-11-21 16:03:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.37ms
2025-11-21 16:03:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 14.00ms
2025-11-21 16:03:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.50ms
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2428.92ms
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 878.52ms
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1327.10ms
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:03:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:03:46 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:03:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:46 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:46 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:03:46 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:46 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:03:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:46 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:03:46 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:03:46 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:03:46 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:03:46 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:03:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:46 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:03:46 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:03:46 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:03:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:03:47 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:03:47 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:47 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:03:47 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:03:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 414.44ms
2025-11-21 16:03:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 411.44ms
2025-11-21 16:03:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 418.44ms
2025-11-21 16:03:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:47 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:03:48 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:03:48 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:03:48 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:03:48 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:48 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:03:48 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:03:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1329.21ms
2025-11-21 16:03:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1341.82ms
2025-11-21 16:03:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:03:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:03:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:03:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:03:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:03:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:03:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2345.41ms
2025-11-21 16:03:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:03:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1122.05ms
2025-11-21 16:03:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1167.58ms
2025-11-21 16:03:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:03:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:03:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:03:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1167.74ms
2025-11-21 16:03:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:03:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:03:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2347.96ms
2025-11-21 16:03:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:03:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1294.48ms
2025-11-21 16:03:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:03:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:03:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1046.24ms
2025-11-21 16:03:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:03:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:03:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1263.10ms
2025-11-21 16:04:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10203.10ms
2025-11-21 16:05:28 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 16:05:29 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 16:05:29 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 16:05:32 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 16:05:32 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 16:05:32 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 16:05:32 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 16:05:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:05:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 882.80ms
2025-11-21 16:06:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 876.44ms
2025-11-21 16:06:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:06:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.00ms
2025-11-21 16:06:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1749.32ms
2025-11-21 16:06:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2224.08ms
2025-11-21 16:06:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:06:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:06:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:06:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:06:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:06:19 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:06:21 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 16:06:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:22 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:06:22 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:06:22 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:06:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:22 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:06:22 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:06:22 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:06:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:06:22 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:06:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:22 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:06:22 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:06:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:06:23 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:06:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 5803.12ms
2025-11-21 16:06:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:23 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 16:06:23 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:06:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3744.49ms
2025-11-21 16:06:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4013.92ms
2025-11-21 16:06:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:06:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:06:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:06:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:06:23 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:06:23 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:23 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:23 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:23 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:23 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:23 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:23 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:24 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:24 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:24 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:24 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:06:24 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 47 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:06:24 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:06:24 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:24 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:24 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:06:24 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1576.29ms
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4722.34ms
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:06:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1352.12ms
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:06:24 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:06:24 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:06:24 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:06:24 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:24 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:24 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5209.05ms
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.00ms
2025-11-21 16:06:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1627.87ms
2025-11-21 16:06:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1632.88ms
2025-11-21 16:06:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.52ms
2025-11-21 16:06:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2210.09ms
2025-11-21 16:06:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1827.00ms
2025-11-21 16:06:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2473.87ms
2025-11-21 16:06:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:06:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1017.63ms
2025-11-21 16:06:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1329.58ms
2025-11-21 16:06:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:06:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:06:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:06:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:06:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:06:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:06:27 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:06:27 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:06:27 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:06:27 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:06:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:27 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:06:27 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:06:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:06:27 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:06:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:27 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:06:27 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:06:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:27 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:06:27 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:06:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:06:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:06:28 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:06:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:28 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:06:28 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:06:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 339.64ms
2025-11-21 16:06:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 338.64ms
2025-11-21 16:06:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 346.16ms
2025-11-21 16:06:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:06:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:06:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:06:29 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:06:29 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:06:29 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:06:29 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:29 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:29 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:06:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1273.76ms
2025-11-21 16:06:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:06:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:06:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:06:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1276.27ms
2025-11-21 16:06:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:06:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2367.30ms
2025-11-21 16:06:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:06:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:06:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 905.41ms
2025-11-21 16:06:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1128.07ms
2025-11-21 16:06:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1140.59ms
2025-11-21 16:06:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:06:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:06:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:06:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1289.92ms
2025-11-21 16:06:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:06:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:06:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:06:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1199.08ms
2025-11-21 16:06:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:06:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:06:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:06:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1443.47ms
2025-11-21 16:06:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10055.41ms
2025-11-21 16:06:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1105.33ms
2025-11-21 16:06:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:06:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.50ms
2025-11-21 16:06:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 885.88ms
2025-11-21 16:06:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.00ms
2025-11-21 16:06:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1340.98ms
2025-11-21 16:06:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 869.45ms
2025-11-21 16:06:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2347.40ms
2025-11-21 16:06:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:06:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.01ms
2025-11-21 16:06:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1313.44ms
2025-11-21 16:06:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 885.72ms
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1318.33ms
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:06:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:06:48 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:06:48 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:06:48 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:06:48 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:06:48 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:48 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:48 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:06:48 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:06:48 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:06:48 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:06:48 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:48 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:48 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:06:48 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:06:48 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:48 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:48 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:06:48 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 142.36ms
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 146.36ms
2025-11-21 16:06:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:06:48 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:06:48 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:48 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:06:48 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:06:48 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:06:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 212.30ms
2025-11-21 16:06:49 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:06:49 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:06:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:06:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2440.52ms
2025-11-21 16:06:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:06:49 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:06:49 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:06:49 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:06:49 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:06:49 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:06:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1056.12ms
2025-11-21 16:06:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1239.99ms
2025-11-21 16:06:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:06:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:06:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:06:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:06:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:06:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:06:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1236.52ms
2025-11-21 16:06:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1242.52ms
2025-11-21 16:06:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:06:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:06:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:06:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2411.89ms
2025-11-21 16:06:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1176.31ms
2025-11-21 16:06:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:06:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:06:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:06:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 977.47ms
2025-11-21 16:06:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:06:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1419.25ms
2025-11-21 16:06:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:06:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:06:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:06:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1257.84ms
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 12.01ms
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 10.60ms
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 14.64ms
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 15.64ms
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10315.96ms
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.01ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 877.85ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1164.59ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1426.50ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 18.01ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 18.53ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 18.54ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 17.54ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 17.54ms
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:07:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:07:04 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:07:04 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:07:04 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:07:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:07:04 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:07:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:04 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:07:04 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:07:04 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:07:04 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:07:04 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 110.63ms
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 109.64ms
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 103.11ms
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:07:05 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:07:05 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:07:05 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:07:05 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:07:05 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:07:05 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:07:05 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 222.16ms
2025-11-21 16:07:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:07:05 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:07:05 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2319.63ms
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:05 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:07:05 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:07:05 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:07:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:05 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:07:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 964.15ms
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1249.51ms
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:07:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.99ms
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:07:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:07:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:07:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 884.34ms
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 2.84ms
2025-11-21 16:07:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.03ms
2025-11-21 16:07:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.64ms
2025-11-21 16:07:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:07:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.08ms
2025-11-21 16:07:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:07:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:07:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:07:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1130.42ms
2025-11-21 16:07:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10036.11ms
2025-11-21 16:07:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 2.00ms
2025-11-21 16:07:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:25 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 16:07:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1260.23ms
2025-11-21 16:07:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:07:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 7.18ms
2025-11-21 16:07:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 7.18ms
2025-11-21 16:07:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.18ms
2025-11-21 16:07:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:07:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.01ms
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 886.01ms
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1317.89ms
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:07:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:07:28 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:07:28 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:07:28 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:07:28 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:07:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:07:28 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:07:28 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:07:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:07:28 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:07:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:07:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:07:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:07:28 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:07:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:07:28 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:07:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:28 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 373.38ms
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 372.37ms
2025-11-21 16:07:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 377.38ms
2025-11-21 16:07:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:07:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:07:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:07:29 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:07:29 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:07:29 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:07:29 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:29 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:07:29 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:07:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1074.28ms
2025-11-21 16:07:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2386.51ms
2025-11-21 16:07:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 16:07:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1292.85ms
2025-11-21 16:07:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:07:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:07:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:07:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:07:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:07:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 888.17ms
2025-11-21 16:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 3.00ms
2025-11-21 16:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1102.19ms
2025-11-21 16:07:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.20ms
2025-11-21 16:07:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:07:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:07:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:07:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1188.72ms
2025-11-21 16:07:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:07:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 16:07:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:07:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:07:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:07:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1244.17ms
2025-11-21 16:07:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:07:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:07:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:07:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:07:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:07:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1428.82ms
2025-11-21 16:07:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10153.85ms
2025-11-21 16:07:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 3.52ms
2025-11-21 16:07:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1097.67ms
2025-11-21 16:07:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.00ms
2025-11-21 16:07:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:07:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 877.84ms
2025-11-21 16:08:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 16:08:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1320.75ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.52ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.01ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.00ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:08:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.01ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:08:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:08:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:08:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 7.01ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:08:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:08:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:08:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:08:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:08:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 124.87ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:08:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:08:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:08:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:08:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:08:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:08:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:08:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 16:08:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:08:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 16:08:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 219.79ms
2025-11-21 16:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 220.79ms
2025-11-21 16:08:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:08:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:08:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:08:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:08:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:08:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:08:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1038.41ms
2025-11-21 16:08:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1189.34ms
2025-11-21 16:08:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:08:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:08:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:08:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 16:08:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:08:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:08:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:08:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:08:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.12ms
2025-11-21 16:08:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.12ms
2025-11-21 16:08:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:08:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.14ms
2025-11-21 16:08:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:08:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:08:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:08:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1095.76ms
2025-11-21 16:08:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:08:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 16:08:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:08:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:08:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1102.41ms
2025-11-21 16:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 16:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:08:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:08:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:08:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1094.36ms
2025-11-21 16:08:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 3.52ms
2025-11-21 16:08:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:47 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 16:08:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1259.23ms
2025-11-21 16:08:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:08:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.00ms
2025-11-21 16:08:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1050.02ms
2025-11-21 16:08:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1546.91ms
2025-11-21 16:08:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:08:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:08:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:08:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:08:51 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:08:51 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:08:51 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:08:51 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:08:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:08:51 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:08:51 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:08:51 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.371
2025-11-21 16:08:51 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 16:08:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 139.85ms
2025-11-21 16:08:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 142.84ms
2025-11-21 16:08:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:08:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:08:51 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:08:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:08:51 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:08:51 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:08:51 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:08:51 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:08:51 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:08:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:51 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:52 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:52 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:52 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:52 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:52 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:52 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:08:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:08:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 634.08ms
2025-11-21 16:08:52 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:08:52 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:08:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2888.71ms
2025-11-21 16:08:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:53 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:08:53 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:08:53 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:08:53 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:53 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:08:53 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:08:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1539.66ms
2025-11-21 16:08:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1689.51ms
2025-11-21 16:08:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:08:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:08:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:08:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:08:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:08:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:08:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1141.52ms
2025-11-21 16:08:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:08:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1237.26ms
2025-11-21 16:08:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1383.58ms
2025-11-21 16:08:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:08:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:08:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:08:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1113.96ms
2025-11-21 16:08:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:08:55 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:08:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:08:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.08ms
2025-11-21 16:08:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:08:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:08:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:08:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.87ms
2025-11-21 16:09:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10071.27ms
2025-11-21 16:09:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:09:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 947.00ms
2025-11-21 16:09:10 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 16:09:10 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 16:44:24 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 16:44:24 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 16:44:24 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 16:44:27 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 16:44:27 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 16:44:27 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 16:44:27 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.01ms
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:44:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:44:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:44:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1102.61ms
2025-11-21 16:44:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:44:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1988.27ms
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2204.00ms
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 3.99ms
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.51ms
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.00ms
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:44:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:44:31 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:44:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:44:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:44:33 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 16:44:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:34 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:44:34 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:44:34 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:44:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:34 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:44:34 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:44:34 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 16:44:34 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:44:34 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:44:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:34 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:44:34 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:44:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:44:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3736.49ms
2025-11-21 16:44:35 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:44:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4392.31ms
2025-11-21 16:44:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:44:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:44:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:44:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:44:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:44:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:44:35 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:44:35 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:44:35 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:35 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:35 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:44:35 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:44:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:44:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:44:36 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 16:44:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4907.05ms
2025-11-21 16:44:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 4906.05ms
2025-11-21 16:44:36 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:44:36 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:44:36 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:44:36 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:36 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:44:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5391.53ms
2025-11-21 16:44:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1402.40ms
2025-11-21 16:44:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1417.40ms
2025-11-21 16:44:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:44:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.12ms
2025-11-21 16:44:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:44:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:44:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:44:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1096.50ms
2025-11-21 16:44:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:44:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:44:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:44:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:44:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:44:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.84ms
2025-11-21 16:44:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:44:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 16:44:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:44:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:44:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:44:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1297.63ms
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 3.00ms
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.01ms
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 2.00ms
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.00ms
2025-11-21 16:44:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1684.31ms
2025-11-21 16:44:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:44:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:44:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:44:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:44:44 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:44:44 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:44:44 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:44:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:44:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:44:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:44:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:44:44 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:44:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:44:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:44:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:44:45 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:44:45 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:44:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 226.90ms
2025-11-21 16:44:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 233.08ms
2025-11-21 16:44:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:44:45 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:44:45 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:44:45 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:44:45 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:45 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:44:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:44:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 457.94ms
2025-11-21 16:44:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:44:45 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:44:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2342.87ms
2025-11-21 16:44:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1399.96ms
2025-11-21 16:44:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:44:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:44:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:44:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:44:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3138.85ms
2025-11-21 16:44:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 16:44:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:44:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:44:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:44:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:44:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:44:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:44:47 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:44:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2297.55ms
2025-11-21 16:44:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1196.49ms
2025-11-21 16:44:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1201.83ms
2025-11-21 16:44:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:44:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:44:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 986.85ms
2025-11-21 16:44:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 4.01ms
2025-11-21 16:44:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:44:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1394.58ms
2025-11-21 16:44:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:44:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:44:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:44:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1133.16ms
2025-11-21 16:44:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:44:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:44:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:44:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1325.00ms
2025-11-21 16:44:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10633.03ms
2025-11-21 16:44:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:44:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1102.77ms
2025-11-21 16:45:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:45:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.54ms
2025-11-21 16:45:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 983.01ms
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1420.93ms
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:45:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:45:06 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:45:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:45:06 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:45:06 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:45:06 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:45:06 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:45:06 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:45:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:45:06 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:45:06 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:45:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:45:06 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:45:06 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:06 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:45:06 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:45:06 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:45:06 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 344.75ms
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 343.28ms
2025-11-21 16:45:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 344.42ms
2025-11-21 16:45:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:45:06 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:45:06 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:45:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2404.63ms
2025-11-21 16:45:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:07 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:45:07 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:45:07 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:45:07 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:07 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:07 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:45:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1047.44ms
2025-11-21 16:45:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1216.96ms
2025-11-21 16:45:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:45:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:45:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:45:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:45:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:45:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:45:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 892.91ms
2025-11-21 16:45:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.92ms
2025-11-21 16:45:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.60ms
2025-11-21 16:45:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:45:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:45:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:45:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1109.98ms
2025-11-21 16:45:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:45:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:45:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:45:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.11ms
2025-11-21 16:45:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:45:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:45:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:45:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1091.09ms
2025-11-21 16:45:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9890.69ms
2025-11-21 16:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 2.00ms
2025-11-21 16:45:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:28 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 16:45:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1262.91ms
2025-11-21 16:45:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:45:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.51ms
2025-11-21 16:45:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1149.36ms
2025-11-21 16:45:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1693.75ms
2025-11-21 16:45:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:45:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:45:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:45:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:45:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:45:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:45:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:31 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:45:31 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:45:31 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:45:31 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:45:31 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:45:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:45:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:31 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:45:31 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:45:31 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:45:31 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:45:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:45:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:45:32 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:45:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:45:32 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:45:32 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:45:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:33 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:45:33 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:45:33 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:45:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1747.49ms
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 1753.50ms
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 987.68ms
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3366.80ms
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:33 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:45:33 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:45:33 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:45:33 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:33 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:33 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2287.05ms
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2506.87ms
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:45:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:45:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:45:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:45:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:45:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 956.61ms
2025-11-21 16:45:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:45:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.89ms
2025-11-21 16:45:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.38ms
2025-11-21 16:45:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:45:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:45:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:45:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.46ms
2025-11-21 16:45:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:45:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:45:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:45:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.34ms
2025-11-21 16:45:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:45:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.04ms
2025-11-21 16:45:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 877.87ms
2025-11-21 16:45:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1326.36ms
2025-11-21 16:45:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:45:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:45:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:45:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:45:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:45:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:45:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:45:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:45:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:45:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:45:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:45:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:45:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:45:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:45:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:45:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:45:40 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:45:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 140.20ms
2025-11-21 16:45:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 143.10ms
2025-11-21 16:45:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:45:40 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:45:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:45:40 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:45:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:45:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 214.14ms
2025-11-21 16:45:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:45:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:45:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:45:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:45:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:45:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:45:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:45:41 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:45:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1132.30ms
2025-11-21 16:45:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1377.76ms
2025-11-21 16:45:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:45:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:45:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:45:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:45:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:45:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:45:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1187.26ms
2025-11-21 16:45:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1193.27ms
2025-11-21 16:45:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:45:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:45:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:45:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 4313.76ms
2025-11-21 16:45:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1456.62ms
2025-11-21 16:45:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:45:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:45:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1156.10ms
2025-11-21 16:45:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:45:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1250.86ms
2025-11-21 16:45:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:45:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:45:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:45:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 11651.96ms
2025-11-21 16:45:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1182.37ms
2025-11-21 16:45:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9869.32ms
2025-11-21 16:45:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:45:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 880.39ms
2025-11-21 16:46:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:46:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.00ms
2025-11-21 16:46:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:46:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.09ms
2025-11-21 16:46:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:46:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1309.98ms
2025-11-21 16:47:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:47:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 874.69ms
2025-11-21 16:47:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:47:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1059.59ms
2025-11-21 16:48:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:48:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.09ms
2025-11-21 16:48:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:48:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.00ms
2025-11-21 16:48:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1327.58ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 6.00ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.00ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 7.01ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:48:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.00ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:48:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:48:39 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 16:48:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 215.47ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:48:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:48:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:48:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:48:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:48:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:48:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:48:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:48:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 16:48:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:48:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 16:48:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:48:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:48:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:48:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 393.55ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 275.25ms
2025-11-21 16:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 280.25ms
2025-11-21 16:48:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:48:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:48:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:48:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:48:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:48:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:48:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:48:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1043.21ms
2025-11-21 16:48:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1048.21ms
2025-11-21 16:48:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1397.52ms
2025-11-21 16:48:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:48:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:48:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:48:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 16:48:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:48:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:48:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:48:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:48:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1372.84ms
2025-11-21 16:48:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1389.18ms
2025-11-21 16:48:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:48:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.47ms
2025-11-21 16:48:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:48:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:48:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:48:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1261.29ms
2025-11-21 16:48:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:48:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.98ms
2025-11-21 16:48:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:48:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:48:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:48:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1438.55ms
2025-11-21 16:48:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:48:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.53ms
2025-11-21 16:48:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:48:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:48:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:48:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1180.40ms
2025-11-21 16:48:50 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 16:48:50 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 16:50:48 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 16:50:48 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 16:50:48 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 16:50:53 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 16:50:53 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 16:50:53 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 16:50:53 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.52ms
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 11.52ms
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 11.51ms
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 12.51ms
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.00ms
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:51:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1802.70ms
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2207.79ms
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.63ms
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 10.51ms
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 10.51ms
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 11.52ms
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 10.52ms
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:51:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:51:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:51:05 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:51:08 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 16:51:08 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:51:08 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:51:08 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:51:08 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:51:08 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:51:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:51:08 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:51:08 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:51:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:51:09 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:51:09 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:51:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3411.41ms
2025-11-21 16:51:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:51:09 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:51:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 5804.89ms
2025-11-21 16:51:09 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 16:51:09 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:51:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3983.02ms
2025-11-21 16:51:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4231.61ms
2025-11-21 16:51:10 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:51:10 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:51:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:51:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:51:10 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:51:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1253.12ms
2025-11-21 16:51:10 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 16:51:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:51:10 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:51:10 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:51:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:51:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:51:11 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:51:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5396.53ms
2025-11-21 16:52:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:52:03 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 16:52:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1250.44ms
2025-11-21 16:52:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:52:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:52:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:52:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:52:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.16ms
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1155.17ms
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1816.17ms
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:52:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:52:09 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:52:09 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:52:09 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:52:09 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:52:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:52:09 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:52:09 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:52:09 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:52:09 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:52:09 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:52:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:52:09 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 370.23ms
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:52:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 374.75ms
2025-11-21 16:52:09 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:52:09 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:52:09 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:52:09 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:52:09 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:09 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:10 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:10 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:52:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:52:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 275.69ms
2025-11-21 16:52:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:52:10 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:52:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2664.30ms
2025-11-21 16:52:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:52:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:52:10 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:52:10 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:52:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:52:10 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:52:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1436.73ms
2025-11-21 16:52:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1449.74ms
2025-11-21 16:52:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:52:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:52:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:52:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:52:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:52:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:52:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1007.41ms
2025-11-21 16:52:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:52:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1342.75ms
2025-11-21 16:52:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1335.72ms
2025-11-21 16:52:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:52:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:52:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:52:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1374.41ms
2025-11-21 16:52:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:52:13 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:52:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:52:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1346.66ms
2025-11-21 16:52:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:52:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:52:15 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:52:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.44ms
2025-11-21 16:52:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9824.61ms
2025-11-21 16:52:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:52:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1099.86ms
2025-11-21 16:52:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:52:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 873.05ms
2025-11-21 16:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:53:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.01ms
2025-11-21 16:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1581.43ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 3.99ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.66ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.79ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:53:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.24ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:53:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:53:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:53:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4.52ms
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:53:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:53:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:53:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:53:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:53:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:53:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 16:53:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:53:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 16:53:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:53:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:53:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:40 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:53:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:53:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:40 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:53:40 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:53:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 659.21ms
2025-11-21 16:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 379.69ms
2025-11-21 16:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 382.69ms
2025-11-21 16:53:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:53:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1365.71ms
2025-11-21 16:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:53:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 16:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:53:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:53:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:53:41 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:53:41 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:53:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:41 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:53:41 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:53:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1385.26ms
2025-11-21 16:53:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:53:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:53:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1268.72ms
2025-11-21 16:53:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1251.73ms
2025-11-21 16:53:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:53:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:53:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:53:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:53:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.51ms
2025-11-21 16:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 16:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1112.61ms
2025-11-21 16:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.74ms
2025-11-21 16:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:53:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:53:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.76ms
2025-11-21 16:54:05 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 16:54:05 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 16:57:30 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 16:57:30 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 16:57:30 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 16:57:35 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 16:57:35 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 16:57:35 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 16:57:35 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 16:57:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 3.00ms
2025-11-21 16:57:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:48 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 16:57:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1272.99ms
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.99ms
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 7.51ms
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.51ms
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 6.00ms
2025-11-21 16:57:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 16:57:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.71ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2278.10ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2670.57ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 20.61ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 22.01ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 24.02ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 24.54ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 26.79ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:57:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:57:54 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 23.13ms
2025-11-21 16:57:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:57:54 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:57:57 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 16:57:57 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:57 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:57 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:57:57 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:57:57 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 16:57:57 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:57:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:57:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:57:57 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:57:57 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:57 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:57:57 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:57:57 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:57:58 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:58 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:58 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:57:58 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:57:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3581.23ms
2025-11-21 16:57:58 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:57:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 6389.24ms
2025-11-21 16:57:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 6.00ms
2025-11-21 16:57:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:57:58 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:57:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4374.28ms
2025-11-21 16:57:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:57:58 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:57:59 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:57:59 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:57:59 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:57:59 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:57:59 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:57:59 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 16:57:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5226.10ms
2025-11-21 16:57:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1766.39ms
2025-11-21 16:57:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1320.58ms
2025-11-21 16:57:59 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:58:00 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:58:00 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:58:00 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:58:00 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:00 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:00 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:58:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2271.96ms
2025-11-21 16:58:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1603.24ms
2025-11-21 16:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:58:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 16:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1321.08ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 13.46ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 17.76ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.62ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 8.60ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.65ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.15ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:58:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 9.03ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:58:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 16:58:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:58:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 7.00ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:58:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 16:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:58:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 16:58:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:58:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.371
2025-11-21 16:58:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 92.72ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 16:58:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 16:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 16:58:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 16:58:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 16:58:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 16:58:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 16:58:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 16:58:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 16:58:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 16:58:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 16:58:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 226.41ms
2025-11-21 16:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 227.42ms
2025-11-21 16:58:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:58:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 16:58:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1135.29ms
2025-11-21 16:58:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 16:58:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 16:58:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 16:58:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 16:58:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 16:58:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 16:58:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 16:58:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:58:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1085.78ms
2025-11-21 16:58:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 10.83ms
2025-11-21 16:58:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 16:58:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 16:58:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 16:58:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 16:58:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1155.61ms
2025-11-21 16:58:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1095.29ms
2025-11-21 16:58:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:58:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 16:58:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 16:58:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 16:58:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 16:58:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.94ms
2025-11-21 16:58:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:58:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.04ms
2025-11-21 16:58:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 16:58:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 16:58:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 16:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1108.68ms
2025-11-21 16:58:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 16:58:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 16:58:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 16:58:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:58:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 16:58:44 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 16:58:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 880.36ms
2025-11-21 16:58:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:58:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/refresh | Status: 200 | Duration: 3.01ms
2025-11-21 16:58:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:58:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1095.53ms
2025-11-21 16:58:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/refresh | Status: 200 | Duration: 890.43ms
2025-11-21 16:58:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:58:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 16:58:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 885.24ms
2025-11-21 16:59:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:59:24 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 16:59:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 883.41ms
2025-11-21 16:59:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:59:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/refresh | Status: 200 | Duration: 879.13ms
2025-11-21 16:59:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 16:59:26 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 16:59:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 883.63ms
2025-11-21 17:00:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:00:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 17:00:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 883.16ms
2025-11-21 17:00:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:00:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/refresh | Status: 200 | Duration: 1241.35ms
2025-11-21 17:00:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:00:12 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 17:00:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 2030.66ms
2025-11-21 17:03:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:12 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 17:03:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1606.32ms
2025-11-21 17:03:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 17:03:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.52ms
2025-11-21 17:03:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 883.13ms
2025-11-21 17:03:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1319.50ms
2025-11-21 17:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:03:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 17:03:17 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 17:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:03:17 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 17:03:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:17 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 17:03:17 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 17:03:17 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 17:03:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:17 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 17:03:17 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 17:03:17 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 17:03:17 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 17:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 17:03:17 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 17:03:18 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:18 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 17:03:18 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 17:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 360.14ms
2025-11-21 17:03:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 17:03:18 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 17:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1208.69ms
2025-11-21 17:03:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:03:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 17:03:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 17:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.05ms
2025-11-21 17:03:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 17:03:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 17:03:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2376.32ms
2025-11-21 17:03:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:19 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 17:03:19 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.365
2025-11-21 17:03:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 17:03:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1587.78ms
2025-11-21 17:03:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 17:03:19 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 17:03:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 17:03:19 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 17:03:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1726.53ms
2025-11-21 17:03:19 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 17:03:19 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 17:03:19 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 17:03:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:19 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 17:03:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2285.53ms
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1272.65ms
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1123.46ms
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 5.00ms
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1310.74ms
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 17:03:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 17:03:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 17:03:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 17:03:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1118.42ms
2025-11-21 17:03:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 17:03:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.84ms
2025-11-21 17:03:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 17:03:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 17:03:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 17:03:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1109.36ms
2025-11-21 17:03:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 17:03:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 17:03:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 17:03:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 17:03:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 17:03:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.38ms
2025-11-21 17:03:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10489.49ms
2025-11-21 17:03:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2.00ms
2025-11-21 17:03:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2680.66ms
2025-11-21 17:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.23ms
2025-11-21 17:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1501.99ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.00ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 8.00ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.17ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.57ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.68ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.36ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.51ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:03:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 17:03:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 17:03:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 9.62ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:03:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 17:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 17:03:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 17:03:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 17:03:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.365
2025-11-21 17:03:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 88.14ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:03:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 17:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 17:03:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:03:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 17:03:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 17:03:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 17:03:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 17:03:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 17:03:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 17:03:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 17:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 227.33ms
2025-11-21 17:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 228.28ms
2025-11-21 17:03:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 17:03:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 17:03:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 17:03:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 17:03:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 17:03:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:03:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 17:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1085.62ms
2025-11-21 17:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1202.84ms
2025-11-21 17:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:03:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 17:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 17:03:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 17:03:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 17:03:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 17:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 17:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 17:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.07ms
2025-11-21 17:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.82ms
2025-11-21 17:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 17:03:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 17:03:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 17:03:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 17:03:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 17:03:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.63ms
2025-11-21 17:03:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 17:03:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 17:03:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 17:03:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 17:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 17:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1121.39ms
2025-11-21 17:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 17:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 17:03:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 17:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 17:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 17:03:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.19ms
2025-11-21 17:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.00ms
2025-11-21 17:03:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:03:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.99ms
2025-11-21 17:03:50 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 17:03:50 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 17:08:03 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 17:08:03 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 17:08:03 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 17:08:07 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 17:08:07 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 17:08:07 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 17:08:07 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 17:08:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.00ms
2025-11-21 17:08:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 880.64ms
2025-11-21 17:08:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2214.16ms
2025-11-21 17:08:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 4.18ms
2025-11-21 17:08:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:25 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 17:08:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1277.51ms
2025-11-21 17:08:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 17:08:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1104.31ms
2025-11-21 17:08:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 17:08:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 17:08:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 17:08:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1094.97ms
2025-11-21 17:08:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/admins | Status: 200 | Duration: 2.01ms
2025-11-21 17:08:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1105.73ms
2025-11-21 17:08:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 17:08:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 17:08:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 17:08:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1094.63ms
2025-11-21 17:08:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.01ms
2025-11-21 17:08:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1324.29ms
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 6.00ms
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.78ms
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.52ms
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.52ms
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.00ms
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:08:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 5.99ms
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:08:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:08:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 17:08:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 17:08:41 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 17:08:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 17:08:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 17:08:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 17:08:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 17:08:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 17:08:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 17:08:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 17:08:43 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 17:08:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 17:08:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 17:08:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 17:08:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 17:08:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 17:08:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4090.40ms
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3816.19ms
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 18.01ms
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 18.52ms
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 18.53ms
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 12.00ms
2025-11-21 17:08:43 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 17:08:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 17:08:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.365
2025-11-21 17:08:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5143.74ms
2025-11-21 17:08:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:44 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 17:08:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:08:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5421.28ms
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 5421.28ms
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 11.00ms
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users/19 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 17:08:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users/19 | Status: 200 | Duration: 8.00ms
2025-11-21 17:08:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/19 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 17:08:45 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 17:08:45 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 17:08:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:08:45 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 17:08:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 17:08:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5979.91ms
2025-11-21 17:08:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1318.48ms
2025-11-21 17:08:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 2811.46ms
2025-11-21 17:08:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 17:08:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 3144.63ms
2025-11-21 17:08:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/19 | Status: 200 | Duration: 2037.95ms
2025-11-21 17:08:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2383.15ms
2025-11-21 17:08:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 17:08:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 17:08:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 17:08:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 17:08:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 4115.26ms
2025-11-21 17:08:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 17:08:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1335.35ms
2025-11-21 17:08:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 17:08:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.05ms
2025-11-21 17:08:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 17:08:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 17:08:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 17:08:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1326.73ms
2025-11-21 17:08:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1179.37ms
2025-11-21 17:08:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 17:08:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 17:08:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 17:08:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 17:08:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 17:08:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 17:08:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.15ms
2025-11-21 17:08:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1098.41ms
2025-11-21 17:08:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:08:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1102.18ms
2025-11-21 17:08:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 17:08:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1104.57ms
2025-11-21 17:08:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/companies | IP: 127.0.0.1 | Params: {'limit': '200'} | Query: {}
2025-11-21 17:08:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/companies | Status: 200 | Duration: 9.00ms
2025-11-21 17:08:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies | IP: 127.0.0.1 | Params: {'limit': '200'} | Query: {}
2025-11-21 17:08:59 - routers.companies - INFO - get_companies_internal:449 - Fetching live company info for 30 companies
2025-11-21 17:08:59 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for AAPL
2025-11-21 17:08:59 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for TSLA
2025-11-21 17:08:59 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for AMZN
2025-11-21 17:08:59 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for NVDA
2025-11-21 17:08:59 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for NFLX
2025-11-21 17:08:59 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for GOOGL
2025-11-21 17:08:59 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for META
2025-11-21 17:08:59 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for INTC
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for AMD
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for MSFT
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for CRM
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for WMT
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for ADBE
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for IBM
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for PYPL
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for BABA
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for DIS
2025-11-21 17:09:02 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for ORCL
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for JNJ
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for PG
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for MCD
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for MA
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for PEP
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for NKE
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for V
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for KO
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for BAC
2025-11-21 17:09:03 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for JPM
2025-11-21 17:09:04 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for GS
2025-11-21 17:09:04 - utils.live_stock_service - INFO - get_company_info:341 - Cached company info for MS
2025-11-21 17:09:04 - routers.companies - INFO - get_companies_internal:479 - Live company service returned 30 companies
2025-11-21 17:09:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies | Status: 200 | Duration: 5066.00ms
2025-11-21 17:09:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'limit': '100', 'live': 'false'} | Query: {}
2025-11-21 17:09:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.01ms
2025-11-21 17:09:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'limit': '100', 'live': 'false'} | Query: {}
2025-11-21 17:09:15 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 17:09:15 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:15 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 17:09:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 37.46ms
2025-11-21 17:09:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies | IP: 127.0.0.1 | Params: {'limit': '200'} | Query: {}
2025-11-21 17:09:19 - routers.companies - INFO - get_companies_internal:449 - Fetching live company info for 30 companies
2025-11-21 17:09:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1098.98ms
2025-11-21 17:09:20 - routers.companies - INFO - get_companies_internal:479 - Live company service returned 30 companies
2025-11-21 17:09:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies | Status: 200 | Duration: 1032.82ms
2025-11-21 17:09:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/companies/NVDA | Status: 200 | Duration: 2.00ms
2025-11-21 17:09:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:27 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 17:09:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 6.01ms
2025-11-21 17:09:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 17:09:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1098.84ms
2025-11-21 17:09:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 17:09:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1097.57ms
2025-11-21 17:09:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1101.62ms
2025-11-21 17:09:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 17:09:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.00ms
2025-11-21 17:09:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1753.83ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2505.05ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.20ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 17.09ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 16.62ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 17.63ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:09:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 12.04ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 11.52ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 17:09:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 17:09:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 17:09:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 17:09:44 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 17:09:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.365
2025-11-21 17:09:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 17:09:44 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 17:09:44 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 17:09:44 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 141.73ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 141.73ms
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 17:09:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 17:09:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 17:09:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 17:09:44 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 17:09:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 17:09:44 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 17:09:44 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:44 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 17:09:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 257.34ms
2025-11-21 17:09:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 17:09:45 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 17:09:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 17:09:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2912.65ms
2025-11-21 17:09:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.02ms
2025-11-21 17:09:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 17:09:45 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 17:09:45 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 17:09:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:45 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 17:09:45 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 17:09:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1001.23ms
2025-11-21 17:09:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1383.24ms
2025-11-21 17:09:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 17:09:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 17:09:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 17:09:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 17:09:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 899.35ms
2025-11-21 17:09:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 17:09:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 17:09:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 17:09:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.55ms
2025-11-21 17:09:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.07ms
2025-11-21 17:09:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 17:09:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 17:09:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 17:09:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1146.99ms
2025-11-21 17:09:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 17:09:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 17:09:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 17:09:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.34ms
2025-11-21 17:09:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 17:09:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 17:09:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 17:09:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.80ms
2025-11-21 17:09:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10187.07ms
2025-11-21 17:10:02 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 17:10:02 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 18:14:52 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 18:14:53 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 18:14:53 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 18:14:56 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 18:14:56 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 18:14:56 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 18:14:56 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 18:17:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:17:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 18:17:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:17:41 - routers.users - INFO - create_user:134 - Created new user: johnsmith123 (ID: 20, Role: user)
2025-11-21 18:17:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/users | Status: 201 | Duration: 2627.22ms
2025-11-21 18:17:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:17:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 2.00ms
2025-11-21 18:17:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:17:43 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 18:17:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1260.84ms
2025-11-21 18:18:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 3.00ms
2025-11-21 18:18:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:03 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 18:18:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1252.54ms
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.00ms
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 3.49ms
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.00ms
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 3.00ms
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 11.90ms
2025-11-21 18:18:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1755.56ms
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2210.17ms
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.47ms
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.32ms
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 12.77ms
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 12.58ms
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 13.04ms
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:18:08 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 21.11ms
2025-11-21 18:18:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:08 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:18:11 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 18:18:13 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:13 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:13 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:13 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:18:14 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 18:18:14 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:18:14 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:18:14 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:14 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:14 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:14 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:18:14 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:18:14 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:14 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:18:14 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:18:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 6144.82ms
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 8632.35ms
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 4.00ms
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:14 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 6826.50ms
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 18:18:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:18:14 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:18:15 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:18:15 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.356
2025-11-21 18:18:15 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:18:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 7080.54ms
2025-11-21 18:18:15 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:18:15 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:18:15 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 18:18:15 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:15 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:18:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1917.09ms
2025-11-21 18:18:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1418.56ms
2025-11-21 18:18:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 1.65ms
2025-11-21 18:18:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:16 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:18:16 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:18:16 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:18:16 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:16 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:16 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:18:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2178.91ms
2025-11-21 18:18:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1485.22ms
2025-11-21 18:18:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1477.02ms
2025-11-21 18:18:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:18:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.02ms
2025-11-21 18:18:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:18:16 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:18:16 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:18:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:18:17 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:18:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:17 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:17 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:17 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:18:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:18:17 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:18:17 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:18:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1278.64ms
2025-11-21 18:18:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:18:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.62ms
2025-11-21 18:18:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:18:17 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:18:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:18:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.17ms
2025-11-21 18:18:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.61ms
2025-11-21 18:18:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:18:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 18:18:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:18:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:18:19 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:18:19 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:18:19 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:18:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:19 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:19 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:18:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1967.25ms
2025-11-21 18:18:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:18:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.67ms
2025-11-21 18:18:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10551.31ms
2025-11-21 18:18:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 3.01ms
2025-11-21 18:18:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1102.06ms
2025-11-21 18:18:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 1.99ms
2025-11-21 18:18:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 888.89ms
2025-11-21 18:18:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.01ms
2025-11-21 18:18:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1635.35ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 9.00ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 10.01ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.99ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.52ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 7.01ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 9.00ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:18:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:18:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5.00ms
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:18:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:18:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:18:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.356
2025-11-21 18:18:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:18:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:18:40 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:18:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:40 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:18:40 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 18:18:40 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:18:40 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 18:18:40 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:18:41 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:41 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:41 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:41 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1625.41ms
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1270.79ms
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 1270.79ms
2025-11-21 18:18:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:18:41 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2387.50ms
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:18:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:18:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:18:42 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:18:42 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:18:42 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:18:42 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:42 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:42 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:18:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2276.56ms
2025-11-21 18:18:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:18:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:18:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1460.58ms
2025-11-21 18:18:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:18:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:18:42 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:18:42 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:18:42 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:18:42 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:18:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:18:42 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:18:42 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.356
2025-11-21 18:18:42 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:18:43 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:18:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:18:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:18:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:18:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:18:43 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:18:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 354.79ms
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 354.80ms
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 360.83ms
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1361.33ms
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1377.87ms
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.01ms
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:18:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:18:43 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:18:43 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:18:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:18:43 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:18:43 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:18:43 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:18:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:43 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1057.18ms
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1368.24ms
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:18:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:18:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:18:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1587.30ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/views/company-performance | IP: 127.0.0.1 | Params: {'ticker': 'V'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:44 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:18:44 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:18:44 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 16.18ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 16.52ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/views/company-performance | Status: 200 | Duration: 16.52ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 18.52ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:18:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 21.02ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 20.99ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 19.99ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {'ticker': 'V'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:18:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:18:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:18:44 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 18:18:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:44 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 18:18:44 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 18:18:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:44 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:18:44 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1109.70ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:18:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:18:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:18:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:18:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:18:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:18:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.46ms
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1110.46ms
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:18:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.96ms
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:18:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.62ms
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:18:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:18:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:18:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:18:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:18:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:18:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1911.04ms
2025-11-21 18:18:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1095.42ms
2025-11-21 18:18:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:18:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:18:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1108.39ms
2025-11-21 18:18:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 18:18:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:18:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1138.08ms
2025-11-21 18:18:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 18:18:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:18:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:18:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:18:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2978.12ms
2025-11-21 18:18:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:47 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:18:47 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:47 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:18:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:47 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:18:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 3349.88ms
2025-11-21 18:18:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1414.70ms
2025-11-21 18:18:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:18:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:18:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:47 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:18:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:18:48 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:48 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:18:48 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:18:48 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:48 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:48 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:18:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1079.60ms
2025-11-21 18:18:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1132.44ms
2025-11-21 18:18:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:18:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1497.00ms
2025-11-21 18:18:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:18:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:18:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {'ticker': 'V'} | Query: {}
2025-11-21 18:18:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:18:51 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:18:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:52 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:52 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:18:52 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:18:52 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:18:52 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:18:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 118.67ms
2025-11-21 18:18:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:18:52 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 18:18:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:52 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 18:18:52 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 18:18:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:52 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:18:52 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 18:18:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:18:52 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:52 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:18:52 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:52 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:18:53 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:53 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:18:53 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:18:53 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:18:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1162.62ms
2025-11-21 18:18:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:18:53 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:18:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:18:53 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:18:53 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:53 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:53 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:18:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1603.87ms
2025-11-21 18:18:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1731.55ms
2025-11-21 18:18:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1728.54ms
2025-11-21 18:18:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:18:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:18:54 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:54 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:18:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:18:54 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:18:54 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:18:54 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:18:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:18:54 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:18:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1576.74ms
2025-11-21 18:18:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1442.53ms
2025-11-21 18:19:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:19:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 876.99ms
2025-11-21 18:19:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:19:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 875.09ms
2025-11-21 18:20:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:20:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1134.78ms
2025-11-21 18:20:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:20:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 4.50ms
2025-11-21 18:20:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:20:23 - utils.etl_pipeline - INFO - refresh_materialized_view:427 - Refreshing materialized view...
2025-11-21 18:20:25 - utils.etl_pipeline - INFO - refresh_materialized_view:461 - Materialized view refreshed: 5886 records
2025-11-21 18:20:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2242.84ms
2025-11-21 18:20:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:20:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1097.18ms
2025-11-21 18:20:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:20:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.76ms
2025-11-21 18:21:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 18:21:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:21:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:21:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:21:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.01ms
2025-11-21 18:21:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1010.56ms
2025-11-21 18:21:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1513.83ms
2025-11-21 18:21:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:21:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:21:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:21:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:21:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:21:04 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:21:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:04 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:21:04 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:21:04 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:21:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:04 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:21:04 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:21:04 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:21:04 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.356
2025-11-21 18:21:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:21:05 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:21:05 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:21:05 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:21:05 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:21:05 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:21:05 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:21:05 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:21:05 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:21:05 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:21:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 587.45ms
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 590.46ms
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 243.56ms
2025-11-21 18:21:05 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:21:05 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:21:05 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:21:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:05 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1068.96ms
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2593.79ms
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1239.91ms
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:21:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:21:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:21:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:21:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:21:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:21:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 889.47ms
2025-11-21 18:21:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:21:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1096.89ms
2025-11-21 18:21:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.90ms
2025-11-21 18:21:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:21:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:21:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:21:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.73ms
2025-11-21 18:21:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:21:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:21:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:21:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.60ms
2025-11-21 18:21:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:21:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:21:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:21:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1091.78ms
2025-11-21 18:21:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9981.70ms
2025-11-21 18:21:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:21:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 881.24ms
2025-11-21 18:21:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:21:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1321.99ms
2025-11-21 18:21:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:21:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {'ticker': 'V'} | Query: {}
2025-11-21 18:21:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:21:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:21:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:21:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:21:26 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:21:26 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:21:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:26 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:21:26 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:21:26 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 18:21:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:26 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 18:21:26 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 18:21:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:26 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:21:26 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 18:21:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:21:27 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 18:21:27 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:21:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 271.05ms
2025-11-21 18:21:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:21:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:21:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:21:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:21:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1016.48ms
2025-11-21 18:21:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1144.07ms
2025-11-21 18:21:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:21:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:21:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:21:27 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:21:27 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:21:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:27 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:21:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 979.10ms
2025-11-21 18:21:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:21:27 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:21:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:27 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:21:27 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:21:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:21:27 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:21:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:21:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1233.86ms
2025-11-21 18:21:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:21:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:21:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:21:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:21:28 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:21:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:21:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:21:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:21:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 964.22ms
2025-11-21 18:21:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1265.57ms
2025-11-21 18:21:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:21:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 940.02ms
2025-11-21 18:22:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 879.13ms
2025-11-21 18:22:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1317.08ms
2025-11-21 18:22:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:22:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:22:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {'ticker': 'V'} | Query: {}
2025-11-21 18:22:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:22:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:22:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:22:26 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:22:26 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:22:26 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:22:26 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 18:22:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:26 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 18:22:26 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 18:22:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:26 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:22:26 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 18:22:26 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:22:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:26 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:22:26 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:22:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:22:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 129.29ms
2025-11-21 18:22:26 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:22:26 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:22:26 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:22:26 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:22:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.07ms
2025-11-21 18:22:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:22:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:22:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:22:27 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:22:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:22:27 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:22:27 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:22:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:22:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1215.41ms
2025-11-21 18:22:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1217.41ms
2025-11-21 18:22:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1232.90ms
2025-11-21 18:22:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:22:27 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:22:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:27 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:22:27 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:22:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:22:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:22:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:22:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1259.96ms
2025-11-21 18:22:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:22:28 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:22:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:22:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:22:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 969.70ms
2025-11-21 18:22:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 878.17ms
2025-11-21 18:22:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users/20 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users/20 | Status: 200 | Duration: 5.00ms
2025-11-21 18:22:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/20 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/20 | Status: 200 | Duration: 881.46ms
2025-11-21 18:22:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 18:22:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.02ms
2025-11-21 18:22:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 881.49ms
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1330.82ms
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:22:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:22:46 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:22:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:22:46 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:22:46 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:22:46 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.356
2025-11-21 18:22:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:22:46 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:22:46 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:22:46 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:22:46 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:22:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:22:46 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:22:46 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:22:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:22:46 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:22:46 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:46 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 372.36ms
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 367.35ms
2025-11-21 18:22:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 374.36ms
2025-11-21 18:22:46 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:22:46 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:22:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:22:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2355.71ms
2025-11-21 18:22:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:22:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:22:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:22:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:22:47 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:22:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1061.79ms
2025-11-21 18:22:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1284.77ms
2025-11-21 18:22:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:22:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:22:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:22:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:22:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:22:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:22:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 908.40ms
2025-11-21 18:22:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1112.54ms
2025-11-21 18:22:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1117.07ms
2025-11-21 18:22:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:22:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:22:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:22:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.09ms
2025-11-21 18:22:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:22:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:22:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:22:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1093.18ms
2025-11-21 18:22:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:22:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:22:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:22:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1096.04ms
2025-11-21 18:22:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9808.70ms
2025-11-21 18:22:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:22:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 889.87ms
2025-11-21 18:23:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:11 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 18:23:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1252.32ms
2025-11-21 18:23:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 18:23:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1095.23ms
2025-11-21 18:23:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 18:23:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.19ms
2025-11-21 18:23:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 18:23:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1099.86ms
2025-11-21 18:23:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/admins | Status: 200 | Duration: 2.52ms
2025-11-21 18:23:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1091.91ms
2025-11-21 18:23:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 18:23:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.00ms
2025-11-21 18:23:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 18:23:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1096.27ms
2025-11-21 18:23:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.51ms
2025-11-21 18:23:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1317.35ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.63ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.83ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.68ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.93ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.99ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 7.00ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:23:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.59ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:23:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:23:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:23:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5.88ms
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:23:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:23:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:23:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:23:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:23:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:23:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:23:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:23:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:23:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:23:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 18:23:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 18:23:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 242.13ms
2025-11-21 18:23:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:23:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:23:40 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:23:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.359
2025-11-21 18:23:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:23:40 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:23:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:41 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:23:41 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 18:23:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2677.14ms
2025-11-21 18:23:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 2429.06ms
2025-11-21 18:23:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2700.61ms
2025-11-21 18:23:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:23:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:23:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:23:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.26ms
2025-11-21 18:23:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:23:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:23:42 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:23:42 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:23:42 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:23:42 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:42 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:23:42 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:23:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:23:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:23:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 3235.35ms
2025-11-21 18:23:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1550.65ms
2025-11-21 18:23:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1539.22ms
2025-11-21 18:23:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:23:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.98ms
2025-11-21 18:23:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:23:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:23:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:23:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.05ms
2025-11-21 18:23:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:23:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:23:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:23:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:23:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:23:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1096.52ms
2025-11-21 18:23:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:23:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.53ms
2025-11-21 18:23:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:23:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:23:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:23:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1120.31ms
2025-11-21 18:23:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1094.45ms
2025-11-21 18:23:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/status | Status: 200 | Duration: 3.00ms
2025-11-21 18:23:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:23:53 - routers.data_warehouse - ERROR - get_etl_status:188 - Error getting ETL status: tuple index out of range
2025-11-21 18:23:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 500: Error getting ETL status: tuple index out of range
2025-11-21 18:23:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 500 | Duration: 1963.62ms
2025-11-21 18:24:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/run | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:24:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/run | Status: 200 | Duration: 3.03ms
2025-11-21 18:24:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/etl/run | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:24:14 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:277 - Starting ETL process for stock prices to data warehouse...
2025-11-21 18:24:15 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:282 - Last ETL run: 2025-11-20 14:02:06
2025-11-21 18:24:16 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:298 - Found 5 new stock prices to process
2025-11-21 18:24:30 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:364 - Inserting 5 fact records into data warehouse...
2025-11-21 18:24:31 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:398 - Successfully inserted 5 fact records
2025-11-21 18:24:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/etl/run | Status: 200 | Duration: 17929.41ms
2025-11-21 18:24:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:24:34 - routers.data_warehouse - ERROR - get_etl_status:188 - Error getting ETL status: tuple index out of range
2025-11-21 18:24:34 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 500: Error getting ETL status: tuple index out of range
2025-11-21 18:24:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 500 | Duration: 1974.87ms
2025-11-21 18:25:58 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 18:25:58 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 18:28:59 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 18:28:59 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 18:28:59 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 18:29:03 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 18:29:03 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 18:29:03 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 18:29:03 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 18:29:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:29:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 18:29:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:29:03 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:29:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:29:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1251.93ms
2025-11-21 18:29:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:29:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:29:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:29:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:29:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1173.50ms
2025-11-21 18:29:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:29:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.37ms
2025-11-21 18:29:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:29:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:29:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:29:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.33ms
2025-11-21 18:29:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:29:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:29:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:29:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:29:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.64ms
2025-11-21 18:29:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 3.09ms
2025-11-21 18:29:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:12 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 18:29:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1265.04ms
2025-11-21 18:29:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1101.39ms
2025-11-21 18:29:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 18:29:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1096.56ms
2025-11-21 18:29:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1096.12ms
2025-11-21 18:29:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 18:29:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1096.84ms
2025-11-21 18:29:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:27 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 18:29:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1280.32ms
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.01ms
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 7.53ms
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 4.52ms
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.00ms
2025-11-21 18:29:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1800.80ms
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2392.51ms
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.52ms
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 14.52ms
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 16.03ms
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 16.03ms
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 15.54ms
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:29:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 7.52ms
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:29:32 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:29:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:29:32 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:29:34 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 18:29:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:35 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:29:35 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:29:35 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:29:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:35 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:29:35 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:29:35 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:29:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:35 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:29:35 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:29:35 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 18:29:35 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:29:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3607.53ms
2025-11-21 18:29:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:29:36 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 6477.92ms
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4492.33ms
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:29:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:29:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:29:36 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:29:36 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.359
2025-11-21 18:29:36 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:36 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:36 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:29:37 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:29:37 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 18 articles for query: ("AAPL") AND (financial)
2025-11-21 18:29:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4915.14ms
2025-11-21 18:29:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 4915.13ms
2025-11-21 18:29:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:29:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:29:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1419.62ms
2025-11-21 18:29:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:37 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:29:37 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:29:37 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:29:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:37 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:29:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5388.42ms
2025-11-21 18:29:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1438.44ms
2025-11-21 18:29:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1427.92ms
2025-11-21 18:29:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:29:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 18:29:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:29:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:29:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:29:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.69ms
2025-11-21 18:29:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:29:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:29:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:29:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:29:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.72ms
2025-11-21 18:29:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:29:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:29:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:29:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:29:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1184.61ms
2025-11-21 18:29:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1463.09ms
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.01ms
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/views/company-performance | Status: 200 | Duration: 2.73ms
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:29:45 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:29:45 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:29:45 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5.09ms
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 10.00ms
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.99ms
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.00ms
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:29:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:29:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:29:45 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:29:45 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:45 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:45 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:29:45 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:29:45 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 18:29:45 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:45 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 18:29:45 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 18:29:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:46 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:29:46 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 18:29:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:29:46 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:29:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1141.70ms
2025-11-21 18:29:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 18:29:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 18:29:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1059.30ms
2025-11-21 18:29:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 18:29:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:29:47 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 18:29:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9916.04ms
2025-11-21 18:29:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 18:29:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:29:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:29:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:29:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:29:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:29:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2095.09ms
2025-11-21 18:29:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1174.08ms
2025-11-21 18:29:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:29:48 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 18:29:48 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:29:48 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 18:29:48 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 18:29:48 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:29:48 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 18:29:48 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:29:48 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:48 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:29:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 3017.72ms
2025-11-21 18:29:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1275.46ms
2025-11-21 18:29:49 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 18:29:49 - utils.news_service - INFO - get_financial_news:389 - Filtered 48 relevant articles for V
2025-11-21 18:29:49 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.331
2025-11-21 18:29:49 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:49 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:29:49 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 18:29:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1178.72ms
2025-11-21 18:30:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:30:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 3.00ms
2025-11-21 18:30:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:30:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1036.54ms
2025-11-21 18:30:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:30:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 875.69ms
2025-11-21 18:30:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:31:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1654.94ms
2025-11-21 18:31:21 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 18:31:21 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 18:38:05 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 18:38:06 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 18:38:06 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 18:38:09 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 18:38:09 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 18:38:09 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 18:38:09 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 18:38:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:16 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 18:38:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1280.65ms
2025-11-21 18:38:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 18:38:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.00ms
2025-11-21 18:38:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1998.68ms
2025-11-21 18:38:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2612.43ms
2025-11-21 18:38:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:38:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:38:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:20 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:38:20 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:38:23 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 18:38:23 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:23 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:23 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:23 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:38:23 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:38:23 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:24 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:24 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:24 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:38:24 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 18:38:24 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3416.26ms
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.00ms
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 18:38:24 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:38:24 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:24 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:38:24 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:38:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:38:24 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 6147.72ms
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4292.09ms
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:38:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:38:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:38:25 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 18:38:25 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("AAPL") AND (financial)
2025-11-21 18:38:25 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:38:25 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.359
2025-11-21 18:38:25 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:25 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:38:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1784.77ms
2025-11-21 18:38:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5205.03ms
2025-11-21 18:38:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:38:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:38:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1571.51ms
2025-11-21 18:38:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:26 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:26 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:38:26 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:38:26 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:26 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:26 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:38:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5562.46ms
2025-11-21 18:38:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1777.85ms
2025-11-21 18:38:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1787.86ms
2025-11-21 18:38:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:38:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:38:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:38:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1099.14ms
2025-11-21 18:38:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:38:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:38:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2202.23ms
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:28 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:38:28 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:38:28 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 9.04ms
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.28ms
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/companies/MSFT | Status: 200 | Duration: 3.00ms
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:28 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: MSFT, days: 7
2025-11-21 18:38:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:28 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:28 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: MSFT, days: 7
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1089.50ms
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 6.02ms
2025-11-21 18:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:38:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:38:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:38:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1059.89ms
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1095.12ms
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1324.85ms
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:29 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:38:29 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:38:29 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 6.01ms
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:29 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 8.66ms
2025-11-21 18:38:29 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:29 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 4.01ms
2025-11-21 18:38:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1094.56ms
2025-11-21 18:38:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:38:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1102.05ms
2025-11-21 18:38:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:38:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:30 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("MSFT") AND (financial)
2025-11-21 18:38:30 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 39.13ms
2025-11-21 18:38:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1085.06ms
2025-11-21 18:38:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:38:31 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:31 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:31 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 1 articles, avg sentiment: 0.446
2025-11-21 18:38:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:31 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 1 articles
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2825.10ms
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: MSFT, days: 7
2025-11-21 18:38:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:31 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:31 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: MSFT, days: 7
2025-11-21 18:38:31 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:31 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("MSFT") AND (financial)
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 4.00ms
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1254.38ms
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 12.01ms
2025-11-21 18:38:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 18:38:31 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: MSFT, days: 7, sentiment: 
2025-11-21 18:38:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:32 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'MSFT'
2025-11-21 18:38:32 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'MSFT', trying general financial news
2025-11-21 18:38:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:32 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:38:32 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: MSFT, days: 7, sentiment: 
2025-11-21 18:38:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:32 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:32 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 1 articles, avg sentiment: 0.446
2025-11-21 18:38:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:32 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 1 articles
2025-11-21 18:38:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 961.65ms
2025-11-21 18:38:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:32 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: MSFT, days: 7
2025-11-21 18:38:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:32 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:32 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: MSFT, days: 7
2025-11-21 18:38:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:38:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:32 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("MSFT") AND (financial)
2025-11-21 18:38:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:32 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("MSFT") AND (financial)
2025-11-21 18:38:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:32 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 6.00ms
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.45ms
2025-11-21 18:38:33 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:33 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:33 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 1 articles, avg sentiment: 0.446
2025-11-21 18:38:33 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:33 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 1 articles
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 955.37ms
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:33 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: MSFT, days: 7
2025-11-21 18:38:33 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:33 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:33 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:33 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: MSFT, days: 7
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1317.24ms
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:38:33 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:38:33 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:38:33 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 13.00ms
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 6.00ms
2025-11-21 18:38:33 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:33 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("MSFT") AND (financial)
2025-11-21 18:38:33 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:33 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:33 - routers.news - INFO - get_news_internal:71 - Live news service returned 1 articles
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1841.82ms
2025-11-21 18:38:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 18:38:33 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: MSFT, days: 7, sentiment: 
2025-11-21 18:38:33 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:33 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'MSFT'
2025-11-21 18:38:33 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'MSFT', trying general financial news
2025-11-21 18:38:33 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:33 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:38:33 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: MSFT, days: 7, sentiment: 
2025-11-21 18:38:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:38:34 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:34 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:34 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 1 articles, avg sentiment: 0.446
2025-11-21 18:38:34 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:34 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 1 articles
2025-11-21 18:38:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 965.94ms
2025-11-21 18:38:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:34 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: MSFT, days: 7
2025-11-21 18:38:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:34 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:34 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: MSFT, days: 7
2025-11-21 18:38:34 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:34 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("MSFT") AND (financial)
2025-11-21 18:38:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:34 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 2.52ms
2025-11-21 18:38:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1079.12ms
2025-11-21 18:38:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1145.41ms
2025-11-21 18:38:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:38:34 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:34 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("MSFT") AND (financial)
2025-11-21 18:38:34 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:34 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:34 - routers.news - INFO - get_news_internal:71 - Live news service returned 1 articles
2025-11-21 18:38:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 962.88ms
2025-11-21 18:38:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:38:35 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:35 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:35 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 1 articles, avg sentiment: 0.446
2025-11-21 18:38:35 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:35 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 1 articles
2025-11-21 18:38:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 947.80ms
2025-11-21 18:38:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:35 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: MSFT, days: 7
2025-11-21 18:38:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:35 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:35 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: MSFT, days: 7
2025-11-21 18:38:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1113.12ms
2025-11-21 18:38:35 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:35 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("MSFT") AND (financial)
2025-11-21 18:38:36 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:36 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:36 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 1 articles, avg sentiment: 0.446
2025-11-21 18:38:36 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:36 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 1 articles
2025-11-21 18:38:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 950.54ms
2025-11-21 18:38:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/MSFT | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/MSFT | Status: 405 | Duration: 5.00ms
2025-11-21 18:38:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 18:38:36 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: MSFT, days: 7, sentiment: 
2025-11-21 18:38:36 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:36 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'MSFT'
2025-11-21 18:38:36 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'MSFT', trying general financial news
2025-11-21 18:38:36 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:36 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:38:36 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: MSFT, days: 7, sentiment: 
2025-11-21 18:38:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10668.74ms
2025-11-21 18:38:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:36 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:36 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("MSFT") AND (financial)
2025-11-21 18:38:37 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for MSFT: 'Company' object has no attribute 'industry'
2025-11-21 18:38:37 - utils.news_service - INFO - get_financial_news:389 - Filtered 1 relevant articles for MSFT
2025-11-21 18:38:37 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:37 - routers.news - INFO - get_news_internal:71 - Live news service returned 1 articles
2025-11-21 18:38:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 937.74ms
2025-11-21 18:38:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 18:38:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1100.17ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1317.91ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.52ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.53ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.00ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 8.00ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:38:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:38:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 12.01ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 12.00ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:38:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:38:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:38:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.359
2025-11-21 18:38:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 132.92ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:38:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:38:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:38:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 18:38:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:38:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 18:38:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 246.83ms
2025-11-21 18:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 247.82ms
2025-11-21 18:38:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:38:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1153.98ms
2025-11-21 18:38:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:38:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:38:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:38:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:38:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:38:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1059.22ms
2025-11-21 18:38:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.00ms
2025-11-21 18:38:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:38:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:38:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:38:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:38:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1296.41ms
2025-11-21 18:38:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1285.87ms
2025-11-21 18:38:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:38:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.01ms
2025-11-21 18:38:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:38:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:38:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:38:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1166.58ms
2025-11-21 18:38:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:38:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:38:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:38:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:38:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:38:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1431.28ms
2025-11-21 18:38:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:38:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 18:38:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:38:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:38:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:38:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1248.05ms
2025-11-21 18:38:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 876.89ms
2025-11-21 18:38:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1320.96ms
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:55 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:55 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:38:55 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:38:55 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:38:55 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:38:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:55 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:55 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/companies/AAPL | Status: 200 | Duration: 48.38ms
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 52.38ms
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:55 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 8.01ms
2025-11-21 18:38:55 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:38:56 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:56 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:38:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 974.39ms
2025-11-21 18:38:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.19ms
2025-11-21 18:38:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:38:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:38:56 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:56 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:38:56 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:38:56 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:56 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:56 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:38:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 968.24ms
2025-11-21 18:38:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:38:56 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:38:56 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:56 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:56 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:38:56 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:38:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:56 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 5.01ms
2025-11-21 18:38:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:38:57 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:57 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:38:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1115.28ms
2025-11-21 18:38:57 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:57 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:38:57 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:38:57 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:57 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:57 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:38:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 984.18ms
2025-11-21 18:38:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:38:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 18:38:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 3.99ms
2025-11-21 18:38:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 18:38:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.00ms
2025-11-21 18:38:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 18:38:58 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: AAPL, days: 7, sentiment: 
2025-11-21 18:38:58 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:58 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'AAPL'
2025-11-21 18:38:58 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'AAPL', trying general financial news
2025-11-21 18:38:58 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:38:58 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 18:38:59 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: AAPL, days: 7, sentiment: 
2025-11-21 18:38:59 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:59 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 18:38:59 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:38:59 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:38:59 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:39:00 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:39:00 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:39:00 - routers.news - INFO - get_news_internal:71 - Live news service returned 3 articles
2025-11-21 18:39:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1223.90ms
2025-11-21 18:39:11 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 18:39:11 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 18:39:31 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 18:39:32 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 18:39:32 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 18:39:35 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 18:39:35 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 18:39:35 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 18:39:35 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 18:39:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:39:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 2.52ms
2025-11-21 18:39:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:39:42 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 18:39:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 1410.31ms
2025-11-21 18:40:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:13 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 18:40:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1254.36ms
2025-11-21 18:40:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 4.59ms
2025-11-21 18:40:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1097.83ms
2025-11-21 18:40:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 18:40:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 1.52ms
2025-11-21 18:40:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 18:40:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1096.46ms
2025-11-21 18:40:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/admins | Status: 200 | Duration: 2.00ms
2025-11-21 18:40:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1259.10ms
2025-11-21 18:40:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 18:40:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.31ms
2025-11-21 18:40:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 18:40:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1359.97ms
2025-11-21 18:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/status | Status: 200 | Duration: 3.01ms
2025-11-21 18:40:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:26 - routers.data_warehouse - ERROR - get_etl_status:188 - Error getting ETL status: tuple index out of range
2025-11-21 18:40:26 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 500: Error getting ETL status: tuple index out of range
2025-11-21 18:40:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 500 | Duration: 3852.81ms
2025-11-21 18:40:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/run | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/run | Status: 200 | Duration: 3.00ms
2025-11-21 18:40:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/etl/run | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:29 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:277 - Starting ETL process for stock prices to data warehouse...
2025-11-21 18:40:30 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:282 - Last ETL run: 2025-11-21 10:24:31
2025-11-21 18:40:30 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:298 - Found 0 new stock prices to process
2025-11-21 18:40:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/etl/run | Status: 200 | Duration: 2206.91ms
2025-11-21 18:40:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:40:32 - routers.data_warehouse - ERROR - get_etl_status:188 - Error getting ETL status: tuple index out of range
2025-11-21 18:40:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 500: Error getting ETL status: tuple index out of range
2025-11-21 18:40:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 500 | Duration: 1968.43ms
2025-11-21 18:41:03 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 18:41:03 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 18:51:05 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 18:51:05 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 18:51:05 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 18:51:08 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 18:51:08 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 18:51:08 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 18:51:08 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 18:51:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 3.82ms
2025-11-21 18:51:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:20 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 18:51:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1250.57ms
2025-11-21 18:51:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.01ms
2025-11-21 18:51:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1282.46ms
2025-11-21 18:51:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 18:51:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 18:51:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 18:51:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1162.20ms
2025-11-21 18:51:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/admins | Status: 200 | Duration: 4.55ms
2025-11-21 18:51:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1341.68ms
2025-11-21 18:51:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 18:51:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.01ms
2025-11-21 18:51:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 18:51:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1219.97ms
2025-11-21 18:51:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/run | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/run | Status: 200 | Duration: 3.03ms
2025-11-21 18:51:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/etl/run | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:28 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:277 - Starting ETL process for stock prices to data warehouse...
2025-11-21 18:51:30 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:282 - Last ETL run: 2025-11-21 10:40:30
2025-11-21 18:51:31 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:298 - Found 0 new stock prices to process
2025-11-21 18:51:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/etl/run | Status: 200 | Duration: 3699.56ms
2025-11-21 18:51:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/status | Status: 200 | Duration: 3.03ms
2025-11-21 18:51:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:51:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 2674.73ms
2025-11-21 18:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:53:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.00ms
2025-11-21 18:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1307.07ms
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.21ms
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 3.54ms
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.00ms
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.32ms
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.00ms
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:53:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 9.00ms
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:53:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 18:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 18:53:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 18:53:41 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 18:53:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:53:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 18:53:42 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 18:53:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 18:53:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 18:53:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 18:53:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 18:53:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 18:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 18:53:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 18:53:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 18:53:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 18:53:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 18:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4204.82ms
2025-11-21 18:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3928.56ms
2025-11-21 18:53:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:53:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.352
2025-11-21 18:53:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 18:53:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 18:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:45 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 18:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6087.97ms
2025-11-21 18:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 6087.97ms
2025-11-21 18:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 6377.45ms
2025-11-21 18:53:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 18:53:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 18:53:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 18:53:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 18:53:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 18:53:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:53:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 18:53:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("AAPL") AND (financial)
2025-11-21 18:53:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1172.86ms
2025-11-21 18:53:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 18:53:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 18:53:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 18:53:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 18:53:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 18:53:47 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 18:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 7616.34ms
2025-11-21 18:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2037.87ms
2025-11-21 18:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 18:53:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 18:53:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 18:53:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 18:53:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1443.49ms
2025-11-21 18:53:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:53:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.52ms
2025-11-21 18:53:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 18:53:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 18:53:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 18:53:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.39ms
2025-11-21 18:53:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:53:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 18:53:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 18:53:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 18:53:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 18:53:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1325.89ms
2025-11-21 18:57:36 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 18:57:36 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 20:25:20 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 20:25:20 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 20:25:20 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 20:25:24 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 20:25:24 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 20:25:24 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 20:25:24 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 20:25:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:25:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 20:25:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:25:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 20:25:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 20:25:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1271.05ms
2025-11-21 20:25:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:25:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 20:25:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:25:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 20:25:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 20:25:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1191.91ms
2025-11-21 20:25:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:25:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 20:25:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:25:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 20:25:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 20:25:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1200.57ms
2025-11-21 20:25:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:25:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 20:25:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:25:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 20:25:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 20:25:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1328.46ms
2025-11-21 20:25:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:25:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 2.58ms
2025-11-21 20:25:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:25:44 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 20:25:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1415.43ms
2025-11-21 20:25:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:25:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 5.00ms
2025-11-21 20:25:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:25:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1323.50ms
2025-11-21 20:25:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:25:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 20:25:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:25:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1253.86ms
2025-11-21 20:25:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:25:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/admins | Status: 200 | Duration: 1.99ms
2025-11-21 20:25:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:25:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1103.69ms
2025-11-21 20:25:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:25:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.99ms
2025-11-21 20:25:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:25:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1230.30ms
2025-11-21 20:25:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:25:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2.69ms
2025-11-21 20:25:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:25:55 - utils.etl_pipeline - INFO - refresh_materialized_view:427 - Refreshing materialized view...
2025-11-21 20:25:57 - utils.etl_pipeline - INFO - refresh_materialized_view:461 - Materialized view refreshed: 5886 records
2025-11-21 20:25:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2659.95ms
2025-11-21 20:26:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:26:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1.99ms
2025-11-21 20:26:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:26:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1189.47ms
2025-11-21 20:28:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:28:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 20:28:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1600.17ms
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.98ms
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 3.99ms
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.16ms
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.02ms
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.02ms
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.00ms
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:28:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 6.00ms
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:28:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:28:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 20:28:42 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 20:28:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:28:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 20:28:44 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 20:28:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:44 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:28:44 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 20:28:44 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 20:28:44 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 20:28:44 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 20:28:44 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:44 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 20:28:44 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 20:28:44 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 20:28:44 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 20:28:44 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 20:28:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:28:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4918.37ms
2025-11-21 20:28:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 4641.29ms
2025-11-21 20:28:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5764.64ms
2025-11-21 20:28:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:28:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:28:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:28:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.57ms
2025-11-21 20:28:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:28:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 20:28:45 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:45 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 20:28:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 6152.66ms
2025-11-21 20:28:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:28:46 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:28:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:28:46 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.273
2025-11-21 20:28:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:46 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 20:28:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6788.28ms
2025-11-21 20:28:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 20:28:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1611.19ms
2025-11-21 20:28:47 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("AAPL") AND (financial)
2025-11-21 20:28:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2271.02ms
2025-11-21 20:28:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:28:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 20:28:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:28:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 20:28:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:28:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 20:28:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 20:28:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:47 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 20:28:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 8024.99ms
2025-11-21 20:28:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 20:28:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1121.49ms
2025-11-21 20:28:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:28:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 20:28:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:28:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 20:28:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 20:28:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:28:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.53ms
2025-11-21 20:28:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:28:49 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 20:28:49 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:49 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:49 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:28:49 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 20:28:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.73ms
2025-11-21 20:28:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:28:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 20:28:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:28:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 20:28:49 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:28:49 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 20:28:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 20:28:50 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:28:50 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 20:28:50 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 20:28:50 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:50 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:28:50 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 20:28:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 975.24ms
2025-11-21 20:28:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1234.17ms
2025-11-21 20:30:09 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 20:30:10 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 20:32:41 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 20:32:41 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 20:32:41 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 20:32:46 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 20:32:46 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 20:32:46 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 20:32:46 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 20:32:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:32:50 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 20:32:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1262.99ms
2025-11-21 20:32:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:32:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1095.67ms
2025-11-21 20:32:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:32:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1092.70ms
2025-11-21 20:32:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:32:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1102.06ms
2025-11-21 20:32:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:32:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1243.57ms
2025-11-21 20:33:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:33:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 20:33:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1852.25ms
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.31ms
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.01ms
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.74ms
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.60ms
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.14ms
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.08ms
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:33:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.73ms
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:33:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:33:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 20:33:42 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 20:33:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:33:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 20:33:43 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 20:33:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:33:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 20:33:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 20:33:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 20:33:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 20:33:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 20:33:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 20:33:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 20:33:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 20:33:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 20:33:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:33:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3898.22ms
2025-11-21 20:33:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3624.42ms
2025-11-21 20:33:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4642.19ms
2025-11-21 20:33:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:33:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:33:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:33:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.52ms
2025-11-21 20:33:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:33:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 20:33:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:33:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.273
2025-11-21 20:33:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 20:33:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:33:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:45 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 20:33:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5276.87ms
2025-11-21 20:33:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 5275.66ms
2025-11-21 20:33:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:33:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:33:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 20:33:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1944.37ms
2025-11-21 20:33:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("AAPL") AND (financial)
2025-11-21 20:33:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2651.09ms
2025-11-21 20:33:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:33:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.88ms
2025-11-21 20:33:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:33:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 20:33:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:33:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 20:33:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 20:33:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:33:47 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 20:33:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 7197.92ms
2025-11-21 20:33:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 20:33:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.00ms
2025-11-21 20:33:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:33:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.03ms
2025-11-21 20:33:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:33:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 20:33:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 20:33:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1118.92ms
2025-11-21 20:33:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:33:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 20:33:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:33:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 20:33:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 20:33:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1454.45ms
2025-11-21 20:34:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:34:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1350.08ms
2025-11-21 20:34:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:34:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1174.36ms
2025-11-21 20:34:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:34:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/status | Status: 200 | Duration: 2.00ms
2025-11-21 20:34:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:34:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 2268.02ms
2025-11-21 20:34:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:34:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1125.42ms
2025-11-21 20:35:53 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 20:35:53 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 20:37:20 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 20:37:20 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 20:37:20 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 20:37:24 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 20:37:24 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 20:37:24 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 20:37:24 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 20:37:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:37:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 3.51ms
2025-11-21 20:37:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:37:46 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 20:37:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1483.61ms
2025-11-21 20:37:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:37:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.00ms
2025-11-21 20:37:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:37:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1106.46ms
2025-11-21 20:37:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:37:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 4.66ms
2025-11-21 20:37:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:37:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1321.23ms
2025-11-21 20:37:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:37:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/admins | Status: 200 | Duration: 3.00ms
2025-11-21 20:37:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:37:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1249.61ms
2025-11-21 20:37:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:37:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 20:37:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:37:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1202.24ms
2025-11-21 20:38:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:38:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 2196.91ms
2025-11-21 20:38:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:38:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 2.00ms
2025-11-21 20:38:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:38:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1031.88ms
2025-11-21 20:38:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:38:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.01ms
2025-11-21 20:38:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1599.90ms
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.57ms
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.41ms
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.94ms
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.95ms
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.53ms
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.53ms
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:38:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.03ms
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:38:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:38:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 20:38:41 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 20:38:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:38:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 20:38:42 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 20:38:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:38:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 20:38:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 20:38:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 20:38:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 20:38:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 20:38:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 20:38:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 20:38:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 20:38:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 20:38:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:38:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3690.91ms
2025-11-21 20:38:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3409.39ms
2025-11-21 20:38:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4553.76ms
2025-11-21 20:38:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:38:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:38:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:38:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 20:38:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:38:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 20:38:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:38:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.257
2025-11-21 20:38:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 20:38:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4465.25ms
2025-11-21 20:38:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:44 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 20:38:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:38:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 5136.32ms
2025-11-21 20:38:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:38:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1589.83ms
2025-11-21 20:38:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 20:38:45 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("AAPL") AND (financial)
2025-11-21 20:38:46 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:38:46 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 20:38:46 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 20:38:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:46 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:38:46 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 20:38:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6720.28ms
2025-11-21 20:38:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2555.03ms
2025-11-21 20:38:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:38:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 20:38:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:38:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 20:38:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 20:38:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1095.28ms
2025-11-21 20:38:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:38:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 20:38:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:38:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 20:38:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 20:38:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1233.98ms
2025-11-21 20:38:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:38:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 20:38:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:38:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 20:38:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 20:38:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1199.18ms
2025-11-21 20:41:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:41:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1312.36ms
2025-11-21 20:41:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:41:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1251.70ms
2025-11-21 20:41:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:41:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users/admins | Status: 200 | Duration: 4.06ms
2025-11-21 20:41:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:41:35 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:41:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 16.15ms
2025-11-21 20:41:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:41:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1365.01ms
2025-11-21 20:41:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:41:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1101.52ms
2025-11-21 20:41:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:41:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1118.40ms
2025-11-21 20:41:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:41:41 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:41:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 5.00ms
2025-11-21 20:41:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:41:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1153.57ms
2025-11-21 20:41:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:41:53 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 20:41:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1316.62ms
2025-11-21 20:41:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:41:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1242.76ms
2025-11-21 20:41:56 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:41:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1317.45ms
2025-11-21 20:41:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:41:57 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:41:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 5.00ms
2025-11-21 20:41:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:41:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1252.54ms
2025-11-21 20:42:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:42:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 2371.02ms
2025-11-21 20:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:43:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.74ms
2025-11-21 20:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1327.78ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.72ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 5.54ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.01ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.01ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.00ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:43:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 6.21ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:43:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 20:43:39 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 20:43:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 269.94ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:43:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 20:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:43:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 20:43:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:43:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.257
2025-11-21 20:43:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 20:43:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 20:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 20:43:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 20:43:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 20:43:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 20:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:43:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 20:43:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 20:43:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 20:43:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 457.83ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 459.82ms
2025-11-21 20:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 461.48ms
2025-11-21 20:43:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:43:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 20:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1395.59ms
2025-11-21 20:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:43:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.25ms
2025-11-21 20:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 20:43:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 20:43:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:43:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 20:43:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 20:43:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:43:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 20:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1373.63ms
2025-11-21 20:43:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:43:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1134.71ms
2025-11-21 20:43:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 20:43:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1988.23ms
2025-11-21 20:43:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:43:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 20:43:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 20:43:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 20:43:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 20:43:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.22ms
2025-11-21 20:43:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:43:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.24ms
2025-11-21 20:43:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 20:43:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 20:43:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 20:43:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1241.08ms
2025-11-21 20:43:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:43:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.98ms
2025-11-21 20:43:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 20:43:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 20:43:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 20:43:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1568.37ms
2025-11-21 20:43:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:43:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1985.80ms
2025-11-21 20:44:03 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 20:44:03 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 20:44:22 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 20:44:23 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 20:44:23 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 20:44:26 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 20:44:26 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 20:44:26 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 20:44:26 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 20:44:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:44:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 4.00ms
2025-11-21 20:44:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:44:31 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 20:44:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 2080.47ms
2025-11-21 20:44:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:44:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1232.37ms
2025-11-21 20:44:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:44:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1437.93ms
2025-11-21 20:44:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:44:37 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:44:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 4.00ms
2025-11-21 20:44:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:44:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1446.61ms
2025-11-21 20:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:44:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/status | Status: 200 | Duration: 3.80ms
2025-11-21 20:44:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:44:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 1985.66ms
2025-11-21 20:44:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:44:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1045.02ms
2025-11-21 20:45:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1385.61ms
2025-11-21 20:45:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:45:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1313.68ms
2025-11-21 20:45:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:21 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:45:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 3.53ms
2025-11-21 20:45:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:45:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1310.81ms
2025-11-21 20:45:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1353.84ms
2025-11-21 20:45:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:45:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1324.44ms
2025-11-21 20:45:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:25 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:45:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 5.00ms
2025-11-21 20:45:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:45:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1215.84ms
2025-11-21 20:45:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/transaction/isolation-level | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/maintenance/table-sizes | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/transaction/isolation-level | Status: 200 | Duration: 5.01ms
2025-11-21 20:45:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/maintenance/table-sizes | Status: 200 | Duration: 6.01ms
2025-11-21 20:45:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/transaction/isolation-level | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/maintenance/table-sizes | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/transaction/isolation-level | Status: 200 | Duration: 953.86ms
2025-11-21 20:45:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/transaction/isolation-level | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/transaction/isolation-level | Status: 200 | Duration: 982.09ms
2025-11-21 20:45:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/maintenance/table-sizes | Status: 200 | Duration: 2615.64ms
2025-11-21 20:45:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/maintenance/table-sizes | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/maintenance/table-sizes | Status: 200 | Duration: 2545.88ms
2025-11-21 20:45:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 5038.27ms
2025-11-21 20:45:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:45:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1287.87ms
2025-11-21 20:45:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 2354.22ms
2025-11-21 20:46:12 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 20:46:12 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 20:51:55 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 20:51:55 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 20:51:55 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 20:51:58 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 20:51:58 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 20:51:58 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 20:51:58 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 20:52:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:26 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 20:52:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1516.88ms
2025-11-21 20:52:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.02ms
2025-11-21 20:52:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1414.45ms
2025-11-21 20:52:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:52:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 20:52:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:52:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1168.78ms
2025-11-21 20:52:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users/admins | Status: 200 | Duration: 2.02ms
2025-11-21 20:52:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:30 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:52:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 7.64ms
2025-11-21 20:52:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:52:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.01ms
2025-11-21 20:52:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:52:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1312.33ms
2025-11-21 20:52:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 2168.94ms
2025-11-21 20:52:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 2173.73ms
2025-11-21 20:52:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 3.00ms
2025-11-21 20:52:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:52:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 954.46ms
2025-11-21 20:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:53:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.02ms
2025-11-21 20:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1649.20ms
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 3.99ms
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.00ms
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.02ms
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.01ms
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 20:53:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.00ms
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:53:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 20:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 20:53:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 20:53:42 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 20:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:53:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 20:53:43 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 20:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 20:53:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 20:53:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 20:53:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 20:53:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 20:53:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 20:53:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 3 events
2025-11-21 20:53:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 20:53:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 20:53:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 20:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 20:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4236.89ms
2025-11-21 20:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3963.39ms
2025-11-21 20:53:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:53:44 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 48 articles, avg sentiment: 0.255
2025-11-21 20:53:44 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:44 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 48 articles
2025-11-21 20:53:44 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 48 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 20:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:44 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:45 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:45 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 20:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5424.93ms
2025-11-21 20:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 5423.62ms
2025-11-21 20:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5709.36ms
2025-11-21 20:53:45 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:53:46 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("AAPL") AND (financial)
2025-11-21 20:53:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 20:53:47 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 20:53:47 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 20:53:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:47 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 20:53:47 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 20:53:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 7676.02ms
2025-11-21 20:53:47 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 20:53:47 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 20:55:07 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 20:55:07 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 20:55:07 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 20:55:10 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 20:55:10 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 20:55:10 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 20:55:10 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 20:55:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:55:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 5.00ms
2025-11-21 20:55:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:55:19 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 20:55:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1483.00ms
2025-11-21 20:55:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:55:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 2288.02ms
2025-11-21 20:55:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:55:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1890.05ms
2025-11-21 20:55:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:55:25 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:55:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 3.00ms
2025-11-21 20:55:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:55:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1415.04ms
2025-11-21 20:55:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:55:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1197.01ms
2025-11-21 20:55:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 20:55:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1202.50ms
2025-11-21 20:55:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:55:29 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'path.user_id', 'message': 'Input should be a valid integer, unable to parse string as an integer', 'type': 'int_parsing'}]
2025-11-21 20:55:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/admins | Status: 422 | Duration: 4.02ms
2025-11-21 20:55:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 20:55:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1314.94ms
2025-11-21 20:56:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 20:56:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1126.84ms
2025-11-21 20:56:37 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 20:56:37 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 21:00:29 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 21:00:30 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 21:00:30 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 21:00:34 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 21:00:34 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 21:00:34 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 21:00:34 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 21:00:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:00:42 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 21:00:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 2227.07ms
2025-11-21 21:00:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:00:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1470.04ms
2025-11-21 21:00:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 21:00:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1105.94ms
2025-11-21 21:00:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:00:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/admins | Status: 200 | Duration: 3.52ms
2025-11-21 21:00:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:00:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1110.05ms
2025-11-21 21:00:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 21:00:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1532.89ms
2025-11-21 21:00:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:00:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1062.69ms
2025-11-21 21:00:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:00:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 1088.51ms
2025-11-21 21:01:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/olap/trend-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:01:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/olap/trend-analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:01:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/trend-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:01:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/trend-analysis | Status: 200 | Duration: 1980.49ms
2025-11-21 21:01:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:01:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 3.00ms
2025-11-21 21:01:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:01:06 - utils.etl_pipeline - INFO - refresh_materialized_view:427 - Refreshing materialized view...
2025-11-21 21:01:08 - utils.etl_pipeline - INFO - refresh_materialized_view:461 - Materialized view refreshed: 5886 records
2025-11-21 21:01:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2479.00ms
2025-11-21 21:03:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/transaction/isolation-level | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:03:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/maintenance/table-sizes | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:03:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/transaction/isolation-level | Status: 200 | Duration: 2.60ms
2025-11-21 21:03:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/maintenance/table-sizes | Status: 200 | Duration: 4.21ms
2025-11-21 21:03:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/transaction/isolation-level | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:03:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/maintenance/table-sizes | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:03:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/transaction/isolation-level | Status: 200 | Duration: 989.29ms
2025-11-21 21:03:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/maintenance/table-sizes | Status: 200 | Duration: 2330.81ms
2025-11-21 21:03:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/maintenance/table-sizes | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:03:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/maintenance/table-sizes | Status: 200 | Duration: 1546.17ms
2025-11-21 21:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/maintenance/analyze-table | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:03:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/maintenance/analyze-table | Status: 200 | Duration: 3.00ms
2025-11-21 21:03:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/maintenance/analyze-table | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:03:17 - middleware.error_handler - WARNING - handle_validation_error:110 - Validation error: [{'field': 'query.table_name', 'message': 'Field required', 'type': 'missing'}]
2025-11-21 21:03:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/maintenance/analyze-table | Status: 422 | Duration: 14.75ms
2025-11-21 21:03:29 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 21:03:29 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 21:26:13 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 21:26:14 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 21:26:14 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 21:26:18 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 21:26:18 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 21:26:18 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 21:26:18 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 21:26:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 3.03ms
2025-11-21 21:26:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:30 - routers.auth - INFO - login:102 - User corvan123 (ID: 19) logged in successfully
2025-11-21 21:26:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1933.38ms
2025-11-21 21:26:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.00ms
2025-11-21 21:26:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1308.92ms
2025-11-21 21:26:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 21:26:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 3.84ms
2025-11-21 21:26:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 21:26:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1295.32ms
2025-11-21 21:26:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/admins | Status: 200 | Duration: 3.00ms
2025-11-21 21:26:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/admins | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/admins | Status: 200 | Duration: 1306.08ms
2025-11-21 21:26:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 21:26:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users | Status: 200 | Duration: 2.52ms
2025-11-21 21:26:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'role': 'user', 'limit': '100'} | Query: {}
2025-11-21 21:26:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 4.24ms
2025-11-21 21:26:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1268.13ms
2025-11-21 21:26:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 2513.45ms
2025-11-21 21:26:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 999.61ms
2025-11-21 21:26:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/olap/trend-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/olap/trend-analysis | Status: 200 | Duration: 2.51ms
2025-11-21 21:26:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/trend-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/trend-analysis | Status: 200 | Duration: 1225.52ms
2025-11-21 21:26:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/trend-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/trend-analysis | Status: 200 | Duration: 1115.89ms
2025-11-21 21:26:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/trend-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/trend-analysis | Status: 200 | Duration: 930.05ms
2025-11-21 21:26:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/sector-time-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:26:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/sector-time-analysis | Status: 200 | Duration: 964.33ms
2025-11-21 21:27:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/olap/trend-analysis | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/olap/trend-analysis | Status: 200 | Duration: 1308.67ms
2025-11-21 21:27:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/run | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/run | Status: 200 | Duration: 2.53ms
2025-11-21 21:27:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/etl/run | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:36 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:277 - Starting ETL process for stock prices to data warehouse...
2025-11-21 21:27:38 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:282 - Last ETL run: 2025-11-21 10:51:30
2025-11-21 21:27:38 - utils.etl_pipeline - INFO - etl_stock_prices_to_warehouse:298 - Found 0 new stock prices to process
2025-11-21 21:27:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/etl/run | Status: 200 | Duration: 2757.82ms
2025-11-21 21:27:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/etl/status | Status: 200 | Duration: 3.01ms
2025-11-21 21:27:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/etl/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/etl/status | Status: 200 | Duration: 2932.92ms
2025-11-21 21:27:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/transaction/isolation-level | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/transaction/isolation-level | Status: 200 | Duration: 2.00ms
2025-11-21 21:27:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/maintenance/table-sizes | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/maintenance/table-sizes | Status: 200 | Duration: 2.00ms
2025-11-21 21:27:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/transaction/isolation-level | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/maintenance/table-sizes | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:27:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/transaction/isolation-level | Status: 200 | Duration: 920.49ms
2025-11-21 21:27:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/maintenance/table-sizes | Status: 200 | Duration: 1316.10ms
2025-11-21 21:28:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users | IP: 127.0.0.1 | Params: {'limit': '100'} | Query: {}
2025-11-21 21:28:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users | Status: 200 | Duration: 1297.85ms
2025-11-21 21:28:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:21 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 21:28:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 2263.30ms
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.05ms
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 3.52ms
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 2.99ms
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 3.00ms
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:28:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 8.00ms
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1638.47ms
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.59ms
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 7.60ms
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 8.09ms
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 9.79ms
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.84ms
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.80ms
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:28:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:26 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:28:31 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 21:28:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:32 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:28:32 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:32 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:28:32 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:28:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:32 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:28:32 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:28:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 7718.95ms
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:28:32 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:28:32 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:32 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:28:32 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 7930.87ms
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 2.99ms
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 6705.97ms
2025-11-21 21:28:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:28:33 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:28:33 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.287
2025-11-21 21:28:33 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:33 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:28:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 7018.93ms
2025-11-21 21:28:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:28:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.03ms
2025-11-21 21:28:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:28:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:28:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:28:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 954.95ms
2025-11-21 21:28:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 2.00ms
2025-11-21 21:28:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:28:33 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:28:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:33 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:34 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:28:34 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("AAPL") AND (financial)
2025-11-21 21:28:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 2050.49ms
2025-11-21 21:28:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1611.50ms
2025-11-21 21:28:34 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:28:34 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 21:28:34 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 21:28:35 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 3035.93ms
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1818.08ms
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.32ms
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:28:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:28:35 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:28:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:28:35 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:28:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:28:35 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:28:35 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:28:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:28:35 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:28:35 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:28:35 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:35 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:36 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:28:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:28:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 646.68ms
2025-11-21 21:28:36 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:28:36 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:28:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:28:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1742.00ms
2025-11-21 21:28:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:28:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.12ms
2025-11-21 21:28:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:28:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:28:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1528.72ms
2025-11-21 21:28:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:28:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 21:28:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:37 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:28:37 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 21:28:37 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 21:28:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:38 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 21:28:38 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:28:38 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:28:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2561.08ms
2025-11-21 21:28:38 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:28:38 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:28:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 6093.14ms
2025-11-21 21:28:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 2606.07ms
2025-11-21 21:28:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1387.64ms
2025-11-21 21:28:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:28:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:28:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:28:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:28:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1606.37ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 40.01ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 46.54ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 12.39ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1128.95ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:28:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:28:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:28:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 18.52ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 17.53ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 17.53ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 25.54ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:28:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:28:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:28:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:28:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.287
2025-11-21 21:28:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:28:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:28:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:28:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 125.22ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 123.70ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:28:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:28:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:28:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:28:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 21:28:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 21:28:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:28:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 221.16ms
2025-11-21 21:28:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 222.15ms
2025-11-21 21:28:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:28:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:28:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:28:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:28:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 21:28:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 21:28:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:28:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 21:28:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 971.00ms
2025-11-21 21:28:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1296.25ms
2025-11-21 21:28:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:28:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:28:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:28:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.99ms
2025-11-21 21:28:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:28:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:28:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:28:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:28:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1255.72ms
2025-11-21 21:28:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1269.73ms
2025-11-21 21:28:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:28:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.99ms
2025-11-21 21:28:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:28:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:28:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:28:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1698.71ms
2025-11-21 21:28:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:28:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:28:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:28:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:28:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:28:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 11465.69ms
2025-11-21 21:28:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 4.00ms
2025-11-21 21:28:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1768.38ms
2025-11-21 21:28:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:28:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.33ms
2025-11-21 21:28:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:28:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:28:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:28:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1159.09ms
2025-11-21 21:28:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1110.16ms
2025-11-21 21:28:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.09ms
2025-11-21 21:28:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:28:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1090.01ms
2025-11-21 21:28:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1518.58ms
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.56ms
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/views/company-performance | Status: 200 | Duration: 8.04ms
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:29:01 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:29:01 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:29:01 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.98ms
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 9.53ms
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.01ms
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/companies/V | Status: 200 | Duration: 3.25ms
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 21:29:01 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:01 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 21:29:01 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:01 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:01 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:29:01 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 21:29:01 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:29:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 114.74ms
2025-11-21 21:29:02 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 21:29:02 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:29:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1331.75ms
2025-11-21 21:29:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7'} | Query: {}
2025-11-21 21:29:02 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 7 days from MySQL
2025-11-21 21:29:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:02 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:29:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 6.00ms
2025-11-21 21:29:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1180.43ms
2025-11-21 21:29:03 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for V from MySQL
2025-11-21 21:29:03 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 21:29:04 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:29:04 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:29:04 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.363
2025-11-21 21:29:04 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:04 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:04 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 21:29:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2551.67ms
2025-11-21 21:29:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1475.91ms
2025-11-21 21:29:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:29:04 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 7
2025-11-21 21:29:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:04 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:29:04 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 7
2025-11-21 21:29:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:04 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:29:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 3.00ms
2025-11-21 21:29:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:29:04 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.00ms
2025-11-21 21:29:04 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:29:04 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 7, sentiment: 
2025-11-21 21:29:04 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:04 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 21:29:04 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 21:29:05 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:05 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:29:05 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 7, sentiment: 
2025-11-21 21:29:05 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:29:05 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:29:05 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:29:05 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:29:05 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.363
2025-11-21 21:29:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:05 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:05 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 21:29:05 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:29:05 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:29:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1224.99ms
2025-11-21 21:29:06 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:29:06 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:29:06 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:29:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1592.05ms
2025-11-21 21:29:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:29:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2627.95ms
2025-11-21 21:29:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1010.96ms
2025-11-21 21:29:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2.53ms
2025-11-21 21:29:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:22 - utils.etl_pipeline - INFO - refresh_materialized_view:427 - Refreshing materialized view...
2025-11-21 21:29:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:25 - utils.etl_pipeline - INFO - refresh_materialized_view:461 - Materialized view refreshed: 5886 records
2025-11-21 21:29:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1128.17ms
2025-11-21 21:29:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 3337.43ms
2025-11-21 21:29:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1261.59ms
2025-11-21 21:29:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10653.17ms
2025-11-21 21:29:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:29:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1027.79ms
2025-11-21 21:30:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:30:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1075.61ms
2025-11-21 21:30:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:30:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 922.35ms
2025-11-21 21:31:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:31:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1214.18ms
2025-11-21 21:31:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:31:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1015.98ms
2025-11-21 21:32:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1357.92ms
2025-11-21 21:32:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1'} | Query: {}
2025-11-21 21:32:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.40ms
2025-11-21 21:32:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '1'} | Query: {}
2025-11-21 21:32:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.01ms
2025-11-21 21:32:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1', 'live': 'true'} | Query: {}
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1'} | Query: {}
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1', 'live': 'true'} | Query: {}
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1'} | Query: {}
2025-11-21 21:32:10 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 1 days from MySQL
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 12.05ms
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 13.44ms
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 14.40ms
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 14.40ms
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '1'} | Query: {}
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1', 'live': 'true'} | Query: {}
2025-11-21 21:32:10 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 1 days
2025-11-21 21:32:10 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 1
2025-11-21 21:32:10 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:10 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:10 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:32:10 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 1
2025-11-21 21:32:10 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:32:10 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 239.32ms
2025-11-21 21:32:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 1 rows for V from MySQL
2025-11-21 21:32:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1024.75ms
2025-11-21 21:32:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:11 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 4.91ms
2025-11-21 21:32:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1230.42ms
2025-11-21 21:32:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1'} | Query: {}
2025-11-21 21:32:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 1 days from MySQL
2025-11-21 21:32:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 1 rows for V from MySQL
2025-11-21 21:32:12 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 27 articles for query: ("V") AND (financial)
2025-11-21 21:32:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1170.29ms
2025-11-21 21:32:12 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:12 - utils.news_service - INFO - get_financial_news:389 - Filtered 26 relevant articles for V
2025-11-21 21:32:12 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 26 articles, avg sentiment: 0.405
2025-11-21 21:32:12 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:12 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 26 articles
2025-11-21 21:32:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2533.23ms
2025-11-21 21:32:12 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1', 'live': 'true'} | Query: {}
2025-11-21 21:32:12 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 1
2025-11-21 21:32:12 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:12 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:12 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:32:12 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 1
2025-11-21 21:32:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:13 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 3.81ms
2025-11-21 21:32:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:32:13 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:13 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:32:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.95ms
2025-11-21 21:32:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '1', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:32:13 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 1, sentiment: 
2025-11-21 21:32:13 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:13 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 21:32:13 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 21:32:13 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:13 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:32:13 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 1, sentiment: 
2025-11-21 21:32:13 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:13 - utils.news_service - INFO - get_financial_news:389 - Filtered 26 relevant articles for V
2025-11-21 21:32:13 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 26 articles, avg sentiment: 0.405
2025-11-21 21:32:13 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:13 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 26 articles
2025-11-21 21:32:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 962.77ms
2025-11-21 21:32:13 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:13 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:32:14 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:14 - utils.news_service - INFO - get_financial_news:389 - Filtered 26 relevant articles for V
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:14 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:32:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1413.51ms
2025-11-21 21:32:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1740.62ms
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30'} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.33ms
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1236.19ms
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 2.99ms
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30'} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.01ms
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30'} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:32:25 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 30 days from MySQL
2025-11-21 21:32:25 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 30
2025-11-21 21:32:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:25 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:32:25 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 30
2025-11-21 21:32:25 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 118.19ms
2025-11-21 21:32:25 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:32:25 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:32:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 416.65ms
2025-11-21 21:32:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 22 rows for V from MySQL
2025-11-21 21:32:26 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1118.35ms
2025-11-21 21:32:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:26 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 3.00ms
2025-11-21 21:32:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1161.55ms
2025-11-21 21:32:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30'} | Query: {}
2025-11-21 21:32:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 30 days from MySQL
2025-11-21 21:32:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 22 rows for V from MySQL
2025-11-21 21:32:27 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("V") AND (financial)
2025-11-21 21:32:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1130.22ms
2025-11-21 21:32:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:27 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:32:27 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.378
2025-11-21 21:32:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 21:32:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2453.13ms
2025-11-21 21:32:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:28 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 30
2025-11-21 21:32:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:28 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:32:28 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 30
2025-11-21 21:32:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:28 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:32:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 4.69ms
2025-11-21 21:32:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:32:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.00ms
2025-11-21 21:32:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:32:28 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 30, sentiment: 
2025-11-21 21:32:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:28 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 21:32:28 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 21:32:28 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:28 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:32:28 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 30, sentiment: 
2025-11-21 21:32:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:28 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:32:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.378
2025-11-21 21:32:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 21:32:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1009.97ms
2025-11-21 21:32:29 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:29 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:32:29 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:29 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:29 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:30 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:32:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1378.18ms
2025-11-21 21:32:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1640.37ms
2025-11-21 21:32:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30'} | Query: {}
2025-11-21 21:32:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 30 days from MySQL
2025-11-21 21:32:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:32:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:37 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:32:37 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:32:37 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:32:37 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 30
2025-11-21 21:32:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:37 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:32:37 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 30
2025-11-21 21:32:37 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 61.75ms
2025-11-21 21:32:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 65.56ms
2025-11-21 21:32:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 22 rows for V from MySQL
2025-11-21 21:32:38 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:38 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:32:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1125.32ms
2025-11-21 21:32:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:38 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 4.00ms
2025-11-21 21:32:38 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:38 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:32:38 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.378
2025-11-21 21:32:38 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:38 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:38 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 21:32:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1154.21ms
2025-11-21 21:32:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1470.29ms
2025-11-21 21:32:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:38 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: V, days: 30
2025-11-21 21:32:38 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:38 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:38 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:32:38 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: V, days: 30
2025-11-21 21:32:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30'} | Query: {}
2025-11-21 21:32:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve V for last 30 days from MySQL
2025-11-21 21:32:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:32:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 22 rows for V from MySQL
2025-11-21 21:32:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:39 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:32:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 47 articles, avg sentiment: 0.378
2025-11-21 21:32:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 47 articles
2025-11-21 21:32:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1135.91ms
2025-11-21 21:32:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1235.62ms
2025-11-21 21:32:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/V | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:40 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:32:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/V | Status: 405 | Duration: 3.98ms
2025-11-21 21:32:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'V', 'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:32:40 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: V, days: 30, sentiment: 
2025-11-21 21:32:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:40 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'V'
2025-11-21 21:32:40 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'V', trying general financial news
2025-11-21 21:32:40 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:40 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:32:40 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: V, days: 30, sentiment: 
2025-11-21 21:32:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:41 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("V") AND (financial)
2025-11-21 21:32:41 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for V: 'Company' object has no attribute 'industry'
2025-11-21 21:32:41 - utils.news_service - INFO - get_financial_news:389 - Filtered 47 relevant articles for V
2025-11-21 21:32:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:42 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:32:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1873.42ms
2025-11-21 21:32:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1399.34ms
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:32:46 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:32:46 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:32:46 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 11.05ms
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.40ms
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.02ms
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.72ms
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:32:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:32:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:32:46 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 30
2025-11-21 21:32:46 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:47 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:47 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:32:47 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 30
2025-11-21 21:32:47 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:32:47 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:47 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:47 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:32:47 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:32:47 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 30, sentiment: 
2025-11-21 21:32:47 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:47 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:32:47 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 30, sentiment: 
2025-11-21 21:32:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:32:47 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:32:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1237.06ms
2025-11-21 21:32:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:32:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:32:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:32:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:32:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:32:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 30 days from MySQL
2025-11-21 21:32:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:32:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for MSFT from MySQL
2025-11-21 21:32:49 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:32:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 2472.50ms
2025-11-21 21:32:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1486.28ms
2025-11-21 21:32:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1499.28ms
2025-11-21 21:32:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:32:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:32:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:32:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:32:49 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("AAPL") AND (financial)
2025-11-21 21:32:49 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:32:49 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.290
2025-11-21 21:32:49 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:49 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:32:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:32:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2992.15ms
2025-11-21 21:32:50 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:32:50 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:32:50 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:32:50 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:50 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:50 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:50 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:50 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:50 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:32:50 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:32:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 3327.08ms
2025-11-21 21:32:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1264.71ms
2025-11-21 21:32:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:32:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.03ms
2025-11-21 21:32:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:32:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 30 days from MySQL
2025-11-21 21:32:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for AMZN from MySQL
2025-11-21 21:32:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1103.53ms
2025-11-21 21:32:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:32:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:32:51 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:32:51 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 30 days from MySQL
2025-11-21 21:32:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for TSLA from MySQL
2025-11-21 21:32:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.68ms
2025-11-21 21:32:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:32:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1042.83ms
2025-11-21 21:32:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1546.93ms
2025-11-21 21:33:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:33:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:33:00 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:33:00 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:33:00 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:33:00 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:33:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 8.36ms
2025-11-21 21:33:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:33:00 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 30
2025-11-21 21:33:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:33:00 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 30
2025-11-21 21:33:00 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:33:00 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.290
2025-11-21 21:33:00 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:33:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 78.50ms
2025-11-21 21:33:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:33:00 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:33:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:33:00 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:33:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:33:00 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 30, sentiment: 
2025-11-21 21:33:00 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:33:00 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 30, sentiment: 
2025-11-21 21:33:00 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:33:00 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:00 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:01 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:33:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 651.57ms
2025-11-21 21:33:01 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:33:01 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:33:01 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:33:02 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:33:02 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:33:02 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:33:02 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:02 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:02 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:02 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:02 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:02 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:02 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:33:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1851.08ms
2025-11-21 21:33:02 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1948.61ms
2025-11-21 21:33:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:33:02 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:33:02 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:33:02 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 30 days from MySQL
2025-11-21 21:33:02 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for MSFT from MySQL
2025-11-21 21:33:02 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:33:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1304.62ms
2025-11-21 21:33:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1312.67ms
2025-11-21 21:33:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:33:03 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:33:04 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:33:05 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1439.26ms
2025-11-21 21:33:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:33:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 30 days from MySQL
2025-11-21 21:33:05 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for AMZN from MySQL
2025-11-21 21:33:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1228.82ms
2025-11-21 21:33:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:33:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 30 days from MySQL
2025-11-21 21:33:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for TSLA from MySQL
2025-11-21 21:33:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1188.27ms
2025-11-21 21:33:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1266.07ms
2025-11-21 21:33:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1640.83ms
2025-11-21 21:33:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:33:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:33:25 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:33:25 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:33:25 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:33:25 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:33:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 10.01ms
2025-11-21 21:33:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:33:25 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 30
2025-11-21 21:33:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:25 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:25 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:33:25 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 30
2025-11-21 21:33:25 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:33:25 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.290
2025-11-21 21:33:25 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:25 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:33:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 90.30ms
2025-11-21 21:33:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:33:25 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:33:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:33:26 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:33:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:33:26 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 30, sentiment: 
2025-11-21 21:33:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:33:26 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 30, sentiment: 
2025-11-21 21:33:26 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:26 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:33:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:33:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 499.45ms
2025-11-21 21:33:26 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:33:26 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:33:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:33:27 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:33:27 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:33:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:27 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:27 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:33:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1654.33ms
2025-11-21 21:33:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1763.64ms
2025-11-21 21:33:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:33:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:33:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:33:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 30 days from MySQL
2025-11-21 21:33:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for MSFT from MySQL
2025-11-21 21:33:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:33:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1086.24ms
2025-11-21 21:33:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1096.30ms
2025-11-21 21:33:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:33:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:33:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:33:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1094.06ms
2025-11-21 21:33:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:33:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 30 days from MySQL
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1319.03ms
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:33:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:33:30 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:33:30 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:33:30 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'sentiment': 'positive', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:33:30 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 30
2025-11-21 21:33:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:33:30 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 30
2025-11-21 21:33:30 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:33:30 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.290
2025-11-21 21:33:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 95.68ms
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 100.69ms
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 93.68ms
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'sentiment': 'positive', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:33:30 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:33:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:33:30 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:33:30 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 30, sentiment: positive
2025-11-21 21:33:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:33:30 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 30, sentiment: positive
2025-11-21 21:33:30 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:30 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:33:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for AMZN from MySQL
2025-11-21 21:33:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 606.36ms
2025-11-21 21:33:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:33:31 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:33:31 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:33:31 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:33:31 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:33:31 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:33:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:31 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:33:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1562.83ms
2025-11-21 21:33:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1909.69ms
2025-11-21 21:33:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:33:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 30 days from MySQL
2025-11-21 21:33:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1836.50ms
2025-11-21 21:33:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:33:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:33:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:33:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 30 days from MySQL
2025-11-21 21:33:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for TSLA from MySQL
2025-11-21 21:33:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for MSFT from MySQL
2025-11-21 21:33:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:33:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1129.39ms
2025-11-21 21:33:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1180.79ms
2025-11-21 21:33:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1187.27ms
2025-11-21 21:33:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:33:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:33:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:33:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1114.19ms
2025-11-21 21:33:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:33:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 30 days from MySQL
2025-11-21 21:33:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for AMZN from MySQL
2025-11-21 21:33:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1316.96ms
2025-11-21 21:33:35 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:33:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 30 days from MySQL
2025-11-21 21:33:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for TSLA from MySQL
2025-11-21 21:33:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1379.63ms
2025-11-21 21:33:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.01ms
2025-11-21 21:33:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1588.31ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.54ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.00ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.99ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.00ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:33:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 6.00ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:33:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:33:39 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:33:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 185.65ms
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:33:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:33:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:33:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:33:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:33:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:33:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:33:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:33:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:33:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:33:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 21:33:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 21:33:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 7.18ms
2025-11-21 21:33:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:33:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:33:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1403.31ms
2025-11-21 21:33:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:33:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:33:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:33:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:33:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:33:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:33:40 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:33:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.290
2025-11-21 21:33:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:41 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:33:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1594.84ms
2025-11-21 21:33:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:33:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:33:41 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:33:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:42 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:42 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 21:33:42 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 19 articles for query: ("AAPL") AND (financial)
2025-11-21 21:33:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 3139.73ms
2025-11-21 21:33:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2228.03ms
2025-11-21 21:33:43 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:33:43 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 21:33:43 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 21:33:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:43 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:33:43 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 21:33:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 3782.25ms
2025-11-21 21:33:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2643.27ms
2025-11-21 21:33:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:33:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.52ms
2025-11-21 21:33:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:33:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:33:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:33:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1291.89ms
2025-11-21 21:33:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:33:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 21:33:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:33:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:33:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:33:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1109.57ms
2025-11-21 21:33:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:33:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 21:33:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:33:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:33:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:33:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:33:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1179.76ms
2025-11-21 21:33:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2474.45ms
2025-11-21 21:33:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1190.25ms
2025-11-21 21:33:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:33:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1063.76ms
2025-11-21 21:33:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9981.31ms
2025-11-21 21:33:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:34:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 882.20ms
2025-11-21 21:34:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:34:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 937.22ms
2025-11-21 21:34:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:34:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 975.81ms
2025-11-21 21:35:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1755.05ms
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:35:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:35:20 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:35:20 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:35:20 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:35:20 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:35:20 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:20 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:20 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:35:20 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/companies/AAPL | Status: 200 | Duration: 94.85ms
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 99.06ms
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:35:20 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:35:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 7.74ms
2025-11-21 21:35:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:35:21 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:35:21 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:35:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1082.66ms
2025-11-21 21:35:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1331.56ms
2025-11-21 21:35:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:35:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:35:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:35:21 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:35:21 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:35:21 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:35:21 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:21 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:21 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:21 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:22 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:22 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:22 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:35:22 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:35:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1445.30ms
2025-11-21 21:35:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 307.06ms
2025-11-21 21:35:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:35:22 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:35:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:22 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:22 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:35:22 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:35:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:35:22 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:35:22 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:35:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1396.64ms
2025-11-21 21:35:23 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:35:23 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:35:23 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:35:23 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:23 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:23 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:23 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:23 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:23 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:23 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:35:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1449.89ms
2025-11-21 21:35:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:35:24 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:35:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 5.16ms
2025-11-21 21:35:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'sentiment': 'positive', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:35:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.99ms
2025-11-21 21:35:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'sentiment': 'positive', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:35:24 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: AAPL, days: 30, sentiment: positive
2025-11-21 21:35:24 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:24 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'AAPL'
2025-11-21 21:35:24 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'AAPL', trying general financial news
2025-11-21 21:35:24 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:24 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:35:24 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: AAPL, days: 30, sentiment: positive
2025-11-21 21:35:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:35:24 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:35:24 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:35:25 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:35:25 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:35:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:25 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:35:25 - routers.news - INFO - get_news_internal:71 - Live news service returned 7 articles
2025-11-21 21:35:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1551.42ms
2025-11-21 21:35:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1416.24ms
2025-11-21 21:35:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:35:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1067.98ms
2025-11-21 21:36:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:36:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1087.63ms
2025-11-21 21:36:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:36:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1485.14ms
2025-11-21 21:36:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:36:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:36:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:36:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:36:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:36:52 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:36:52 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:36:52 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:36:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:52 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:52 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:36:52 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:36:52 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:36:52 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 71.19ms
2025-11-21 21:36:52 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:36:53 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:36:53 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:36:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 319.81ms
2025-11-21 21:36:53 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:36:53 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:36:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1270.00ms
2025-11-21 21:36:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1277.50ms
2025-11-21 21:36:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:36:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:36:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:36:53 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:36:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 6.48ms
2025-11-21 21:36:54 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:36:54 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:36:54 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:36:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:54 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:54 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:36:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1375.37ms
2025-11-21 21:36:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:36:54 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:36:54 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:54 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:54 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:36:54 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:36:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:36:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:36:54 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:36:54 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:36:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1441.42ms
2025-11-21 21:36:55 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:36:55 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:36:55 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:36:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:55 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:55 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:36:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1163.05ms
2025-11-21 21:36:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1038.02ms
2025-11-21 21:36:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:36:55 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:36:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 5.08ms
2025-11-21 21:36:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'sentiment': 'negative', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:36:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.00ms
2025-11-21 21:36:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'sentiment': 'negative', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:36:55 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: AAPL, days: 30, sentiment: negative
2025-11-21 21:36:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:55 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'AAPL'
2025-11-21 21:36:55 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'AAPL', trying general financial news
2025-11-21 21:36:55 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:55 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:36:55 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: AAPL, days: 30, sentiment: negative
2025-11-21 21:36:56 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:36:56 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:36:56 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:36:56 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:36:56 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:36:56 - routers.news - INFO - get_news_internal:71 - Live news service returned 1 articles
2025-11-21 21:36:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 956.19ms
2025-11-21 21:37:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:37:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1047.44ms
2025-11-21 21:37:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:37:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 973.73ms
2025-11-21 21:38:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 907.93ms
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1598.40ms
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:26 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:38:26 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:38:26 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:38:26 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:38:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:26 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:38:26 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:38:26 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 66.42ms
2025-11-21 21:38:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 69.40ms
2025-11-21 21:38:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:38:26 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:38:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 979.74ms
2025-11-21 21:38:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.53ms
2025-11-21 21:38:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:38:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:38:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:38:28 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("AAPL") AND (financial)
2025-11-21 21:38:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 5.00ms
2025-11-21 21:38:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1397.03ms
2025-11-21 21:38:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:38:28 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:38:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:38:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:29 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:29 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:38:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2549.40ms
2025-11-21 21:38:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:38:29 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:38:29 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:29 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:29 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:38:29 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:38:29 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:38:29 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:38:30 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:38:30 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:38:30 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:38:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:30 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:30 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:38:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1546.87ms
2025-11-21 21:38:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/AAPL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:38:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/AAPL | Status: 405 | Duration: 4.00ms
2025-11-21 21:38:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'sentiment': 'negative', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:38:31 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: AAPL, days: 30, sentiment: negative
2025-11-21 21:38:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:31 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'AAPL'
2025-11-21 21:38:31 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'AAPL', trying general financial news
2025-11-21 21:38:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:31 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:38:31 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: AAPL, days: 30, sentiment: negative
2025-11-21 21:38:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:38:32 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:38:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:38:32 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:38:32 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:32 - routers.news - INFO - get_news_internal:71 - Live news service returned 1 articles
2025-11-21 21:38:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1433.92ms
2025-11-21 21:38:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 4.01ms
2025-11-21 21:38:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1537.12ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.01ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 6.01ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.12ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.36ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.00ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 3.00ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:38:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:38:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:38:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:38:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:38:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:38:39 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.290
2025-11-21 21:38:39 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:38:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:38:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:38:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:38:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:38:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:38:39 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 10 articles
2025-11-21 21:38:39 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:38:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:38:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 501.43ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 501.24ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 500.41ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 509.06ms
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:38:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 21:38:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:38:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 21:38:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 7.01ms
2025-11-21 21:38:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:38:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:38:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:38:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 3 relevant articles for AAPL
2025-11-21 21:38:40 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 3 articles, avg sentiment: 0.274
2025-11-21 21:38:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:40 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:38:40 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 3 articles
2025-11-21 21:38:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1352.36ms
2025-11-21 21:38:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1635.18ms
2025-11-21 21:38:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:38:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:38:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:38:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.63ms
2025-11-21 21:38:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:38:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:38:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:38:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:38:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1263.11ms
2025-11-21 21:38:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1251.30ms
2025-11-21 21:38:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:38:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:38:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:38:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:38:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:38:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1213.86ms
2025-11-21 21:38:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:38:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 21:38:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:38:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:38:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:38:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1365.35ms
2025-11-21 21:38:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:38:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:38:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:38:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:38:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:38:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1350.83ms
2025-11-21 21:38:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:38:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 3.00ms
2025-11-21 21:38:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:38:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2388.42ms
2025-11-21 21:38:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 21:38:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 881.73ms
2025-11-21 21:38:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 3.54ms
2025-11-21 21:38:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 998.03ms
2025-11-21 21:38:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 9936.00ms
2025-11-21 21:38:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:38:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2.00ms
2025-11-21 21:38:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 977.33ms
2025-11-21 21:39:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.02ms
2025-11-21 21:39:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1698.82ms
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30'} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/views/company-performance | Status: 200 | Duration: 6.00ms
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:39:08 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:39:08 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:39:08 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 10.16ms
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 13.12ms
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30'} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.00ms
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.00ms
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30'} | Query: {}
2025-11-21 21:39:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve NVDA for last 30 days from MySQL
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/companies/NVDA | Status: 200 | Duration: 7.00ms
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:08 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: NVDA, days: 30
2025-11-21 21:39:08 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:08 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:08 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:39:08 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: NVDA, days: 30
2025-11-21 21:39:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 47.48ms
2025-11-21 21:39:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 20 rows for NVDA from MySQL
2025-11-21 21:39:09 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1052.83ms
2025-11-21 21:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1333.06ms
2025-11-21 21:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30'} | Query: {}
2025-11-21 21:39:09 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve NVDA for last 30 days from MySQL
2025-11-21 21:39:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 13.86ms
2025-11-21 21:39:10 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("NVDA") AND (financial)
2025-11-21 21:39:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 20 rows for NVDA from MySQL
2025-11-21 21:39:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:10 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:10 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 27 articles, avg sentiment: 0.144
2025-11-21 21:39:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:10 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 27 articles
2025-11-21 21:39:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2085.53ms
2025-11-21 21:39:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:39:10 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: NVDA, days: 30
2025-11-21 21:39:10 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:10 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:10 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:39:10 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: NVDA, days: 30
2025-11-21 21:39:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1241.01ms
2025-11-21 21:39:11 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:11 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("NVDA") AND (financial)
2025-11-21 21:39:11 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:11 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:11 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 27 articles, avg sentiment: 0.144
2025-11-21 21:39:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:11 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 27 articles
2025-11-21 21:39:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:11 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1107.60ms
2025-11-21 21:39:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 7.14ms
2025-11-21 21:39:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'sentiment': 'negative', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:39:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.00ms
2025-11-21 21:39:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'sentiment': 'negative', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:39:11 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: NVDA, days: 30, sentiment: negative
2025-11-21 21:39:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:11 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'NVDA'
2025-11-21 21:39:11 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'NVDA', trying general financial news
2025-11-21 21:39:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:11 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:39:11 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: NVDA, days: 30, sentiment: negative
2025-11-21 21:39:12 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:12 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("NVDA") AND (financial)
2025-11-21 21:39:12 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:12 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:12 - routers.news - INFO - get_news_internal:71 - Live news service returned 9 articles
2025-11-21 21:39:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1131.54ms
2025-11-21 21:39:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:24 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 3.00ms
2025-11-21 21:39:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1501.35ms
2025-11-21 21:39:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1671.82ms
2025-11-21 21:39:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30'} | Query: {}
2025-11-21 21:39:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve NVDA for last 30 days from MySQL
2025-11-21 21:39:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:39:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:39:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:30 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:39:30 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:39:30 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:39:30 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: NVDA, days: 30
2025-11-21 21:39:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:30 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:30 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:39:30 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: NVDA, days: 30
2025-11-21 21:39:30 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 62.73ms
2025-11-21 21:39:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 65.73ms
2025-11-21 21:39:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 20 rows for NVDA from MySQL
2025-11-21 21:39:30 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:30 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("NVDA") AND (financial)
2025-11-21 21:39:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1251.28ms
2025-11-21 21:39:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1257.45ms
2025-11-21 21:39:31 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:31 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:31 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 27 articles, avg sentiment: 0.144
2025-11-21 21:39:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:31 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:31 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 27 articles
2025-11-21 21:39:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30'} | Query: {}
2025-11-21 21:39:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve NVDA for last 30 days from MySQL
2025-11-21 21:39:31 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1092.83ms
2025-11-21 21:39:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:39:31 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: NVDA, days: 30
2025-11-21 21:39:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:31 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:31 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:39:31 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: NVDA, days: 30
2025-11-21 21:39:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 54.51ms
2025-11-21 21:39:31 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:31 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("NVDA") AND (financial)
2025-11-21 21:39:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 20 rows for NVDA from MySQL
2025-11-21 21:39:32 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:32 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:32 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 27 articles, avg sentiment: 0.144
2025-11-21 21:39:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:32 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:32 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 27 articles
2025-11-21 21:39:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1096.01ms
2025-11-21 21:39:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1325.32ms
2025-11-21 21:39:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:33 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 4.97ms
2025-11-21 21:39:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'sentiment': 'positive', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:39:33 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 1.99ms
2025-11-21 21:39:33 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'sentiment': 'positive', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:39:33 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: NVDA, days: 30, sentiment: positive
2025-11-21 21:39:33 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:33 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'NVDA'
2025-11-21 21:39:33 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'NVDA', trying general financial news
2025-11-21 21:39:33 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:33 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:39:33 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: NVDA, days: 30, sentiment: positive
2025-11-21 21:39:33 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:33 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("NVDA") AND (financial)
2025-11-21 21:39:34 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:34 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:34 - routers.news - INFO - get_news_internal:71 - Live news service returned 13 articles
2025-11-21 21:39:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1394.78ms
2025-11-21 21:39:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1623.51ms
2025-11-21 21:39:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30'} | Query: {}
2025-11-21 21:39:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve NVDA for last 30 days from MySQL
2025-11-21 21:39:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:39:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:39:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:36 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:39:36 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:39:36 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:39:36 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: NVDA, days: 30
2025-11-21 21:39:36 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:36 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:36 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:39:36 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: NVDA, days: 30
2025-11-21 21:39:36 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 56.84ms
2025-11-21 21:39:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 60.84ms
2025-11-21 21:39:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 20 rows for NVDA from MySQL
2025-11-21 21:39:37 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:37 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("NVDA") AND (financial)
2025-11-21 21:39:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 1009.32ms
2025-11-21 21:39:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1114.48ms
2025-11-21 21:39:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30'} | Query: {}
2025-11-21 21:39:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve NVDA for last 30 days from MySQL
2025-11-21 21:39:37 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:37 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:37 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 27 articles, avg sentiment: 0.144
2025-11-21 21:39:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:37 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:37 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 27 articles
2025-11-21 21:39:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1010.77ms
2025-11-21 21:39:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:39:37 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: NVDA, days: 30
2025-11-21 21:39:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:37 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:39:37 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: NVDA, days: 30
2025-11-21 21:39:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:37 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 5.01ms
2025-11-21 21:39:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 20 rows for NVDA from MySQL
2025-11-21 21:39:38 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:38 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("NVDA") AND (financial)
2025-11-21 21:39:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1138.83ms
2025-11-21 21:39:38 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:38 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:38 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 27 articles, avg sentiment: 0.144
2025-11-21 21:39:38 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:38 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:38 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:38 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:38 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 27 articles
2025-11-21 21:39:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1026.87ms
2025-11-21 21:39:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/NVDA | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:39 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:39:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/NVDA | Status: 405 | Duration: 4.71ms
2025-11-21 21:39:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'NVDA', 'days': '30', 'sentiment': 'positive', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:39:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: NVDA, days: 30, sentiment: positive
2025-11-21 21:39:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'NVDA'
2025-11-21 21:39:39 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'NVDA', trying general financial news
2025-11-21 21:39:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:39 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:39:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: NVDA, days: 30, sentiment: positive
2025-11-21 21:39:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:40 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("NVDA") AND (financial)
2025-11-21 21:39:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for NVDA: 'Company' object has no attribute 'industry'
2025-11-21 21:39:40 - utils.news_service - INFO - get_financial_news:389 - Filtered 27 relevant articles for NVDA
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:40 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:41 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:39:41 - routers.news - INFO - get_news_internal:71 - Live news service returned 13 articles
2025-11-21 21:39:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1333.94ms
2025-11-21 21:39:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:39:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1076.84ms
2025-11-21 21:40:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:40:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1082.07ms
2025-11-21 21:40:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:40:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1221.42ms
2025-11-21 21:41:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2497.04ms
2025-11-21 21:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:41:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:41:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:41:06 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:41:06 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 30
2025-11-21 21:41:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:06 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:41:06 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 30
2025-11-21 21:41:06 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 30, sentiment: 
2025-11-21 21:41:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:06 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:41:06 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 30, sentiment: 
2025-11-21 21:41:06 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:41:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:06 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:06 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:41:06 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:41:06 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:41:06 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:41:06 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:41:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 492.72ms
2025-11-21 21:41:07 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:41:07 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:41:07 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:41:07 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.304
2025-11-21 21:41:07 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:07 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1629.01ms
2025-11-21 21:41:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1315.77ms
2025-11-21 21:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:41:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:41:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:41:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 30 days from MySQL
2025-11-21 21:41:07 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:41:07 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:41:07 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:41:07 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:07 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:07 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:07 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:41:08 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 49 articles for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:41:08 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:41:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2193.48ms
2025-11-21 21:41:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 2196.10ms
2025-11-21 21:41:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:41:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for MSFT from MySQL
2025-11-21 21:41:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1748.17ms
2025-11-21 21:41:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1755.68ms
2025-11-21 21:41:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:41:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:41:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:41:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1093.54ms
2025-11-21 21:41:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:41:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 30 days from MySQL
2025-11-21 21:41:10 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for AMZN from MySQL
2025-11-21 21:41:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.40ms
2025-11-21 21:41:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:41:11 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 30 days from MySQL
2025-11-21 21:41:12 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for TSLA from MySQL
2025-11-21 21:41:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1202.43ms
2025-11-21 21:41:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:41:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1010.83ms
2025-11-21 21:41:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:41:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2409.84ms
2025-11-21 21:41:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:41:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 890.22ms
2025-11-21 21:41:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:41:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:41:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1097.80ms
2025-11-21 21:42:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10071.20ms
2025-11-21 21:42:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:42:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1327.42ms
2025-11-21 21:42:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:42:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/views/company-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:42:07 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:42:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:42:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:42:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/companies/GOOGL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:42:07 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:42:07 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:42:07 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:42:07 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 12.01ms
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/companies/GOOGL | Status: 200 | Duration: 14.00ms
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 14.01ms
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 19.03ms
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/GOOGL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:42:08 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: GOOGL, days: 30
2025-11-21 21:42:08 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:08 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:08 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:42:08 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: GOOGL, days: 30
2025-11-21 21:42:08 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/GOOGL | Status: 405 | Duration: 59.11ms
2025-11-21 21:42:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:42:08 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for GOOGL: 'Company' object has no attribute 'industry'
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/views/company-performance | Status: 200 | Duration: 972.67ms
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1112.19ms
2025-11-21 21:42:08 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:42:08 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:42:09 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/GOOGL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:42:09 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:42:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/GOOGL | Status: 405 | Duration: 5.00ms
2025-11-21 21:42:09 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:42:09 - utils.news_service - INFO - fetch_news_async:296 - Fetched and cached 50 articles for query: ("GOOGL") AND (financial)
2025-11-21 21:42:09 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1097.27ms
2025-11-21 21:42:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for GOOGL: 'Company' object has no attribute 'industry'
2025-11-21 21:42:10 - utils.news_service - INFO - get_financial_news:389 - Filtered 7 relevant articles for GOOGL
2025-11-21 21:42:10 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 7 articles, avg sentiment: 0.466
2025-11-21 21:42:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:10 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:10 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 7 articles
2025-11-21 21:42:10 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 2143.54ms
2025-11-21 21:42:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:42:10 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: GOOGL, days: 30
2025-11-21 21:42:10 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:10 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:10 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:42:10 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: GOOGL, days: 30
2025-11-21 21:42:10 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for GOOGL: 'Company' object has no attribute 'industry'
2025-11-21 21:42:10 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("GOOGL") AND (financial)
2025-11-21 21:42:11 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for GOOGL: 'Company' object has no attribute 'industry'
2025-11-21 21:42:11 - utils.news_service - INFO - get_financial_news:389 - Filtered 7 relevant articles for GOOGL
2025-11-21 21:42:11 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 7 articles, avg sentiment: 0.466
2025-11-21 21:42:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:11 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:11 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 7 articles
2025-11-21 21:42:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/companies/GOOGL | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:42:11 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 405: Method Not Allowed
2025-11-21 21:42:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1024.54ms
2025-11-21 21:42:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/companies/GOOGL | Status: 405 | Duration: 8.93ms
2025-11-21 21:42:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:42:11 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.92ms
2025-11-21 21:42:11 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:42:11 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: GOOGL, days: 30, sentiment: 
2025-11-21 21:42:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:11 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker 'GOOGL'
2025-11-21 21:42:11 - routers.news - INFO - get_news_internal:51 - No articles found for ticker 'GOOGL', trying general financial news
2025-11-21 21:42:11 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:11 - routers.news - INFO - get_news_internal:53 - Firestore returned 0 general articles
2025-11-21 21:42:11 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: GOOGL, days: 30, sentiment: 
2025-11-21 21:42:11 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for GOOGL: 'Company' object has no attribute 'industry'
2025-11-21 21:42:11 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("GOOGL") AND (financial)
2025-11-21 21:42:12 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for GOOGL: 'Company' object has no attribute 'industry'
2025-11-21 21:42:12 - utils.news_service - INFO - get_financial_news:389 - Filtered 7 relevant articles for GOOGL
2025-11-21 21:42:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:12 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:42:12 - routers.news - INFO - get_news_internal:71 - Live news service returned 7 articles
2025-11-21 21:42:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1433.98ms
2025-11-21 21:42:25 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:42:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1274.95ms
2025-11-21 21:42:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:42:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1030.53ms
2025-11-21 21:43:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 1253.95ms
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1678.84ms
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 9.08ms
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 10.13ms
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 11.13ms
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.01ms
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 3.03ms
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.99ms
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:43:26 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:43:26 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:43:26 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:43:26 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:43:26 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:43:26 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 30
2025-11-21 21:43:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:26 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:43:26 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 30
2025-11-21 21:43:26 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:43:26 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 49 articles, avg sentiment: 0.304
2025-11-21 21:43:26 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:26 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 49 articles
2025-11-21 21:43:26 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:43:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:26 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:43:26 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:43:26 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 30, sentiment: 
2025-11-21 21:43:26 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:26 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:43:26 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 30, sentiment: 
2025-11-21 21:43:26 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: stock market OR financial markets OR earnings OR economic news OR Wall Street
2025-11-21 21:43:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:26 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - config.firestore - ERROR - store_article_in_firestore:197 - Error storing article in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:27 - routers.news - INFO - get_news_internal:71 - Live news service returned 20 articles
2025-11-21 21:43:27 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:43:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 834.19ms
2025-11-21 21:43:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 833.08ms
2025-11-21 21:43:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 838.27ms
2025-11-21 21:43:27 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:43:27 - utils.news_service - INFO - fetch_news_async:193 - Returning cached news for query: ("AAPL") AND (financial)
2025-11-21 21:43:28 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:43:28 - utils.news_service - INFO - get_financial_news:389 - Filtered 8 relevant articles for AAPL
2025-11-21 21:43:28 - routers.sentiment - INFO - get_sentiment_internal:190 - Live sentiment analysis: 8 articles, avg sentiment: 0.419
2025-11-21 21:43:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:28 - config.firestore - ERROR - store_sentiment_trend_in_firestore:457 - Error storing sentiment trend in Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:28 - routers.sentiment - INFO - get_sentiment_internal:214 - Extracted 10 topics from 8 articles
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1891.46ms
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:43:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1617.23ms
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:43:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 30 days from MySQL
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 3.00ms
2025-11-21 21:43:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:28 - utils.etl_pipeline - INFO - refresh_materialized_view:427 - Refreshing materialized view...
2025-11-21 21:43:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:43:28 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for MSFT from MySQL
2025-11-21 21:43:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1100.74ms
2025-11-21 21:43:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1105.06ms
2025-11-21 21:43:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:43:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:43:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:43:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:43:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:43:30 - utils.etl_pipeline - INFO - refresh_materialized_view:461 - Materialized view refreshed: 5886 records
2025-11-21 21:43:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1104.96ms
2025-11-21 21:43:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:43:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:43:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:43:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 30 days from MySQL
2025-11-21 21:43:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2294.97ms
2025-11-21 21:43:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for AMZN from MySQL
2025-11-21 21:43:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1163.04ms
2025-11-21 21:43:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:43:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.55ms
2025-11-21 21:43:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:43:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 30 days from MySQL
2025-11-21 21:43:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1215.67ms
2025-11-21 21:43:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for TSLA from MySQL
2025-11-21 21:43:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:32 - utils.etl_pipeline - INFO - refresh_materialized_view:427 - Refreshing materialized view...
2025-11-21 21:43:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1191.59ms
2025-11-21 21:43:33 - utils.etl_pipeline - INFO - refresh_materialized_view:461 - Materialized view refreshed: 5886 records
2025-11-21 21:43:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2145.29ms
2025-11-21 21:43:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/warehouse/materialized-view/refresh | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:34 - utils.etl_pipeline - INFO - refresh_materialized_view:427 - Refreshing materialized view...
2025-11-21 21:43:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1009.11ms
2025-11-21 21:43:36 - utils.etl_pipeline - INFO - refresh_materialized_view:461 - Materialized view refreshed: 5886 records
2025-11-21 21:43:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/warehouse/materialized-view/refresh | Status: 200 | Duration: 2374.88ms
2025-11-21 21:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 21:43:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1163.18ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1514.74ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 6.00ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 11.45ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 10.29ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 8.00ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 6.00ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:43:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 9.00ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:43:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:43:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:43:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:43:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:43:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:43:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:43:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:43:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:43:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:43:39 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:43:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:43:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 21:43:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 623.33ms
2025-11-21 21:43:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 359.33ms
2025-11-21 21:43:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:43:40 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:43:40 - utils.news_service - ERROR - fetch_news_sync:217 - NewsAPI fetch error: {'status': 'error', 'code': 'rateLimited', 'message': 'You have made too many requests recently. Developer accounts are limited to 100 requests over a 24 hour period (50 requests available every 12 hours). Please upgrade to a paid plan if you need more requests.'}
2025-11-21 21:43:40 - utils.news_service - ERROR - fetch_news_sync:217 - NewsAPI fetch error: {'status': 'error', 'code': 'rateLimited', 'message': 'You have made too many requests recently. Developer accounts are limited to 100 requests over a 24 hour period (50 requests available every 12 hours). Please upgrade to a paid plan if you need more requests.'}
2025-11-21 21:43:40 - utils.news_service - WARNING - fetch_news_async:298 - No articles fetched for query 'stock market OR financial markets OR earnings OR economic news OR Wall Street'
2025-11-21 21:43:40 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 21:43:40 - utils.news_service - WARNING - fetch_news_async:298 - No articles fetched for query 'stock market OR financial markets OR earnings OR economic news OR Wall Street'
2025-11-21 21:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 1508.98ms
2025-11-21 21:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1512.01ms
2025-11-21 21:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1786.48ms
2025-11-21 21:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:43:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:43:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.02ms
2025-11-21 21:43:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:43:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:43:41 - utils.news_service - ERROR - fetch_news_sync:217 - NewsAPI fetch error: {'status': 'error', 'code': 'rateLimited', 'message': 'You have made too many requests recently. Developer accounts are limited to 100 requests over a 24 hour period (50 requests available every 12 hours). Please upgrade to a paid plan if you need more requests.'}
2025-11-21 21:43:41 - utils.news_service - WARNING - fetch_news_async:298 - No articles fetched for query '("AAPL") AND (financial)'
2025-11-21 21:43:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 1925.51ms
2025-11-21 21:43:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:43:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:43:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1414.81ms
2025-11-21 21:43:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1387.23ms
2025-11-21 21:43:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:43:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.03ms
2025-11-21 21:43:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:43:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:43:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:43:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1280.73ms
2025-11-21 21:43:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:43:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.99ms
2025-11-21 21:43:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:43:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:43:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:43:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2332.66ms
2025-11-21 21:43:45 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:43:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:43:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:43:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:43:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:43:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:43:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1549.77ms
2025-11-21 21:43:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2787.16ms
2025-11-21 21:43:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:43:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 892.05ms
2025-11-21 21:43:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:44:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10129.83ms
2025-11-21 21:44:00 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 21:44:00 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 21:48:24 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 21:48:24 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 21:48:24 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 21:48:28 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 21:48:28 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 21:48:28 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 21:48:28 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 21:48:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:48:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1466.71ms
2025-11-21 21:48:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:48:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '30'} | Query: {}
2025-11-21 21:48:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:48:30 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 30 days
2025-11-21 21:48:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:48:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30', 'live': 'true'} | Query: {}
2025-11-21 21:48:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '30', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:48:30 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 30
2025-11-21 21:48:33 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 21:48:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:34 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:48:34 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 30
2025-11-21 21:48:34 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:48:34 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 30
2025-11-21 21:48:34 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:35 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:48:35 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 30
2025-11-21 21:48:35 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:48:35 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:48:35 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 30, sentiment: 
2025-11-21 21:48:35 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:35 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:48:35 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 30, sentiment: 
2025-11-21 21:48:35 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:48:35 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 21:48:35 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:48:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4843.40ms
2025-11-21 21:48:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 4842.35ms
2025-11-21 21:48:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 5157.16ms
2025-11-21 21:48:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5913.61ms
2025-11-21 21:48:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '30'} | Query: {}
2025-11-21 21:48:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 30 days from MySQL
2025-11-21 21:48:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '30'} | Query: {}
2025-11-21 21:48:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 30 days from MySQL
2025-11-21 21:48:36 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:48:36 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:48:36 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 15 rows for AAPL from MySQL
2025-11-21 21:48:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 6056.32ms
2025-11-21 21:48:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1139.07ms
2025-11-21 21:48:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for MSFT from MySQL
2025-11-21 21:48:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:48:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.00ms
2025-11-21 21:48:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:48:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2054.16ms
2025-11-21 21:48:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '30'} | Query: {}
2025-11-21 21:48:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 30 days from MySQL
2025-11-21 21:48:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for GOOGL from MySQL
2025-11-21 21:48:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1456.06ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.51ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 7.54ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.53ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.54ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 6.78ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.80ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:48:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 8.00ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:48:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:48:39 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:48:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1174.34ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 224.83ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '30'} | Query: {}
2025-11-21 21:48:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:48:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:48:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:48:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 30 days from MySQL
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:48:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:48:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:48:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:48:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:48:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:48:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:48:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:48:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 21:48:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 21:48:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:48:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 136.39ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 81.59ms
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 82.73ms
2025-11-21 21:48:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:48:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for AMZN from MySQL
2025-11-21 21:48:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:48:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:48:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 492.87ms
2025-11-21 21:48:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1113.14ms
2025-11-21 21:48:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:48:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:48:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:48:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.00ms
2025-11-21 21:48:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:48:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:48:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1147.86ms
2025-11-21 21:48:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '30'} | Query: {}
2025-11-21 21:48:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 30 days from MySQL
2025-11-21 21:48:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:48:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 14 rows for TSLA from MySQL
2025-11-21 21:48:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1106.49ms
2025-11-21 21:48:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:48:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1116.69ms
2025-11-21 21:48:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1957.72ms
2025-11-21 21:48:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:48:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:48:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:48:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:48:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:48:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1101.53ms
2025-11-21 21:48:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:48:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:48:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:48:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:48:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:48:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1102.75ms
2025-11-21 21:48:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:48:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:48:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:48:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:48:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:48:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1315.49ms
2025-11-21 21:49:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 3.01ms
2025-11-21 21:49:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:34 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 21:49:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 2562.18ms
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 5.01ms
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 7.00ms
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 4.00ms
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 4.00ms
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:36 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.02ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 870.12ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1323.06ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.52ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 13.51ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 13.51ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 14.69ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 14.19ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:49:37 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 10.00ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:49:37 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:49:37 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:49:37 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 6.01ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:49:37 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:49:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:49:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:49:37 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:49:37 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:49:37 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 73.66ms
2025-11-21 21:49:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:49:37 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:49:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:49:37 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:49:37 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:49:37 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:49:38 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:49:38 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:49:38 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:49:38 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:49:38 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:49:38 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 34.20ms
2025-11-21 21:49:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users/20 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users/20 | Status: 200 | Duration: 4.01ms
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/20 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:49:38 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:49:38 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 505.51ms
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2412.56ms
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1107.80ms
2025-11-21 21:49:38 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:49:38 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:49:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:49:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/20 | Status: 200 | Duration: 1127.85ms
2025-11-21 21:49:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1305.88ms
2025-11-21 21:50:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: PATCH /api/users/20 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:50:49 - routers.users - INFO - patch_user:535 - Patched user 20: updated fields=['email']
2025-11-21 21:50:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: PATCH /api/users/20 | Status: 200 | Duration: 2556.04ms
2025-11-21 21:50:50 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/20 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:50:51 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/20 | Status: 200 | Duration: 1341.77ms
2025-11-21 21:52:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/users/20/password | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:03 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/users/20/password | Status: 200 | Duration: 2.01ms
2025-11-21 21:52:03 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: PATCH /api/users/20/password | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:06 - routers.users - INFO - change_user_password:745 - Password changed for user 20
2025-11-21 21:52:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: PATCH /api/users/20/password | Status: 200 | Duration: 2860.47ms
2025-11-21 21:52:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:52:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:13 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:13 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.03ms
2025-11-21 21:52:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/20 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:14 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1599.99ms
2025-11-21 21:52:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 5.03ms
2025-11-21 21:52:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:15 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2515.59ms
2025-11-21 21:52:15 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 3017.93ms
2025-11-21 21:52:16 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:52:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 967.78ms
2025-11-21 21:52:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/20 | Status: 200 | Duration: 1988.62ms
2025-11-21 21:52:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/users/20 | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1558.43ms
2025-11-21 21:52:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 6.00ms
2025-11-21 21:52:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/users/20 | Status: 200 | Duration: 999.00ms
2025-11-21 21:52:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2555.06ms
2025-11-21 21:52:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1182.68ms
2025-11-21 21:52:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:52:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1729.24ms
2025-11-21 21:52:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2464.27ms
2025-11-21 21:52:36 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:37 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 21:52:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 960.34ms
2025-11-21 21:52:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:52:42 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 21:52:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 1097.90ms
2025-11-21 21:53:10 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:12 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 21:53:12 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 1812.09ms
2025-11-21 21:53:14 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:15 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 21:53:16 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1565.59ms
2025-11-21 21:53:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 21:53:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 200 | Duration: 9.01ms
2025-11-21 21:53:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 200 | Duration: 1065.57ms
2025-11-21 21:53:18 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1681.49ms
2025-11-21 21:53:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:53:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:53:18 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:53:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:53:18 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:53:18 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:53:18 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:53:18 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:18 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:18 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:53:18 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:53:18 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:53:19 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:53:19 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:19 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:19 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:53:19 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:53:19 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:53:19 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 248.52ms
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 253.69ms
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 21:53:19 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:53:19 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:19 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:53:19 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:53:19 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:53:19 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 44.71ms
2025-11-21 21:53:19 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:53:19 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:53:19 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 771.53ms
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2378.69ms
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 2.51ms
2025-11-21 21:53:19 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1212.27ms
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:53:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 1.63ms
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:53:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:53:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:53:20 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 881.15ms
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 2.00ms
2025-11-21 21:53:20 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1085.82ms
2025-11-21 21:53:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1098.65ms
2025-11-21 21:53:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:53:21 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:53:21 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:53:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:53:21 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:53:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1252.94ms
2025-11-21 21:53:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:53:22 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.74ms
2025-11-21 21:53:22 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:53:22 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:53:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:53:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1409.04ms
2025-11-21 21:53:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:53:23 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.22ms
2025-11-21 21:53:23 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:53:23 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:53:24 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:53:25 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1217.09ms
2025-11-21 21:53:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10132.41ms
2025-11-21 21:53:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 2.45ms
2025-11-21 21:53:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1294.92ms
2025-11-21 21:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 21:53:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1702.15ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.49ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 4.51ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 7.00ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.53ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.52ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:53:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 5.60ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:53:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:53:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:53:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4.52ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:53:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:53:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:53:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 68.33ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:53:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:53:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:53:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:53:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:53:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:53:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:53:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:53:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 21:53:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 21:53:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:53:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 49.66ms
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 50.64ms
2025-11-21 21:53:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:53:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:53:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:53:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 554.58ms
2025-11-21 21:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1249.99ms
2025-11-21 21:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:53:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:53:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:53:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:53:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:53:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:53:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:53:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1289.97ms
2025-11-21 21:53:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1280.97ms
2025-11-21 21:53:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:53:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.98ms
2025-11-21 21:53:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:53:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:53:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1343.88ms
2025-11-21 21:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:53:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 21:53:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:53:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1381.18ms
2025-11-21 21:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:53:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 21:53:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:53:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:53:45 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:53:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1333.41ms
2025-11-21 21:53:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.68ms
2025-11-21 21:53:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:53:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 200 | Duration: 873.78ms
2025-11-21 21:54:05 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:54:06 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 21:54:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 1124.91ms
2025-11-21 21:54:57 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 21:54:57 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 21:56:51 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 21:56:51 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 21:56:51 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 21:56:55 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 21:56:55 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 21:56:55 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 21:56:55 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 21:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:58:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 3.15ms
2025-11-21 21:58:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1597.78ms
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.01ms
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 10.01ms
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:58:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 10.53ms
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 2.00ms
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 2.00ms
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 2.01ms
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:58:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 21:58:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 21:58:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 21:58:42 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 21:58:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:58:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:58:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:58:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 21:58:42 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:58:42 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 21:58:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:58:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:58:42 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 21:58:42 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 21:58:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 21:58:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 21:58:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 21:58:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 21:58:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 21:58:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 21:58:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 21:58:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 21:58:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 21:58:43 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:58:43 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 21:58:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 3636.39ms
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 3636.31ms
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 3908.59ms
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 3641.41ms
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 4799.57ms
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 21:58:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.47ms
2025-11-21 21:58:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 21:58:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 21:58:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 21:58:44 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 21:58:44 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 21:58:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5179.50ms
2025-11-21 21:58:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1335.09ms
2025-11-21 21:58:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 21:58:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 3022.65ms
2025-11-21 21:58:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:58:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 21:58:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 21:58:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 21:58:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 21:58:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1168.74ms
2025-11-21 21:58:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:58:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.51ms
2025-11-21 21:58:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 21:58:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 21:58:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 21:58:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1092.14ms
2025-11-21 21:58:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:58:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.01ms
2025-11-21 21:58:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 21:58:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 21:58:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 21:58:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1108.07ms
2025-11-21 21:59:00 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 21:59:01 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 21:59:01 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 931.57ms
2025-11-21 21:59:56 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 21:59:56 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 22:02:24 - root - INFO - <module>:26 - Logging configured successfully
2025-11-21 22:02:24 - root - INFO - lifespan:32 - Starting MarketPulse API...
2025-11-21 22:02:24 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 22:02:28 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 22:02:28 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 22:02:28 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 22:02:28 - root - INFO - lifespan:41 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 22:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:03:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.19ms
2025-11-21 22:03:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1492.35ms
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 5.52ms
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 6.02ms
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.00ms
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.61ms
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 4.00ms
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:03:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 9.00ms
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:03:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 22:03:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:03:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 22:03:41 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 22:03:42 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:03:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:03:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 22:03:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 22:03:43 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:03:43 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 22:03:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:03:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:03:43 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 22:03:43 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 22:03:43 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 22:03:43 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 22:03:43 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 22:03:43 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:03:43 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 22:03:43 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 22:03:43 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:03:43 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 22:03:43 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 22:03:43 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 22:03:43 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 22:03:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 22:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4031.26ms
2025-11-21 22:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 4031.15ms
2025-11-21 22:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4308.71ms
2025-11-21 22:03:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 4034.66ms
2025-11-21 22:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 5167.32ms
2025-11-21 22:03:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 22:03:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 22:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.50ms
2025-11-21 22:03:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 22:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 22:03:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 22:03:44 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 22:03:44 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:03:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 5335.80ms
2025-11-21 22:03:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1514.48ms
2025-11-21 22:03:46 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 22:03:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 3099.91ms
2025-11-21 22:03:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 22:03:47 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.04ms
2025-11-21 22:03:47 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 22:03:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 22:03:47 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 22:03:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1152.56ms
2025-11-21 22:03:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 22:03:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.86ms
2025-11-21 22:03:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 22:03:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 22:03:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 22:03:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1197.30ms
2025-11-21 22:03:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 22:03:49 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 22:03:49 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 22:03:49 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 22:03:50 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 22:03:50 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1117.25ms
2025-11-21 22:03:51 - root - INFO - lifespan:50 - Shutting down MarketPulse API...
2025-11-21 22:03:51 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 22:05:23 - root - INFO - <module>:28 - Logging configured successfully
2025-11-21 22:05:23 - root - INFO - <module>:195 - Static files mounted from: C:\Users\corva\Downloads\INF2003-MarketPulse-Analytics-1\static
2025-11-21 22:05:23 - root - INFO - lifespan:34 - Starting MarketPulse API...
2025-11-21 22:05:23 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 22:05:27 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 22:05:27 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 22:05:27 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 22:05:27 - root - INFO - lifespan:43 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 22:07:48 - root - INFO - lifespan:52 - Shutting down MarketPulse API...
2025-11-21 22:07:48 - config.database - INFO - close_database:134 - MySQL primary connection closed
2025-11-21 22:10:38 - root - INFO - <module>:28 - Logging configured successfully
2025-11-21 22:10:38 - root - INFO - <module>:199 - Static files mounted from: C:\Users\corva\Downloads\INF2003-MarketPulse-Analytics-1\static
2025-11-21 22:10:38 - root - INFO - <module>:200 -   - HTML files accessible at: http://localhost:8000/login.html
2025-11-21 22:10:38 - root - INFO - <module>:201 -   - JS files accessible at: http://localhost:8000/js/
2025-11-21 22:10:38 - root - INFO - <module>:202 -   - CSS files accessible at: http://localhost:8000/css/
2025-11-21 22:10:39 - root - INFO - lifespan:34 - Starting MarketPulse API...
2025-11-21 22:10:39 - config.database - INFO - init_database:58 - Initializing MySQL primary (write) connection...
2025-11-21 22:10:42 - config.database - INFO - init_database:78 - MySQL primary connection established successfully (pool_size=20, max_overflow=10)
2025-11-21 22:10:42 - config.database - INFO - init_database:118 - Read replica not configured, using primary for reads
2025-11-21 22:10:42 - utils.startup_sync - INFO - sync_all_data:998 - Startup sync is DISABLED (ENABLE_STARTUP_SYNC = False). Skipping data synchronization.
2025-11-21 22:10:42 - root - INFO - lifespan:43 - Startup sync completed: {'companies_processed': 0, 'stock_prices_inserted': 0, 'financial_metrics_updated': 0, 'indices_inserted': 0, 'sector_performance_inserted': 0, 'errors': 0, 'skipped': True, 'disabled': True, 'message': 'Startup sync is disabled. Set ENABLE_STARTUP_SYNC = True to enable.'}
2025-11-21 22:12:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/auth/login | Status: 200 | Duration: 2.52ms
2025-11-21 22:12:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:41 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 401: Invalid email or password
2025-11-21 22:12:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 401 | Duration: 1521.54ms
2025-11-21 22:12:43 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:44 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 22:12:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1520.35ms
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 7.00ms
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/window-functions | Status: 200 | Duration: 7.29ms
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/auto-refresh-config | Status: 200 | Duration: 10.00ms
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/last-updates | Status: 200 | Duration: 7.00ms
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:12:46 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 404 | Duration: 16.01ms
2025-11-21 22:12:46 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 404 | Duration: 18.00ms
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 2249.52ms
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 12.00ms
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 16.00ms
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 16.00ms
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 18.00ms
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 19.00ms
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:12:48 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 11.01ms
2025-11-21 22:12:48 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:12:48 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 22:12:52 - config.firestore - INFO - get_firestore_client:39 - Firestore client initialized for project: INF1005
2025-11-21 22:12:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:12:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:12:53 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 22:12:53 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 22:12:53 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:12:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:12:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 22:12:53 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:12:53 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 22:12:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:12:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:12:53 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 22:12:53 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 22:12:53 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 22:12:53 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:12:53 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 22:12:53 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 22:12:53 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:12:53 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 22:12:53 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 22:12:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 4949.33ms
2025-11-21 22:12:53 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 186.74ms
2025-11-21 22:12:53 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 7371.84ms
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/sector-performance | Status: 200 | Duration: 3.00ms
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:54 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 22:12:54 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 733.46ms
2025-11-21 22:12:54 - utils.live_stock_service - INFO - get_market_indices:447 - Cached live indices data
2025-11-21 22:12:54 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 6029.74ms
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 1254.17ms
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:12:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 6.53ms
2025-11-21 22:12:54 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 22:12:54 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 22:12:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1124.49ms
2025-11-21 22:12:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:55 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/analytics/rolling-aggregations | Status: 200 | Duration: 4.00ms
2025-11-21 22:12:55 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:12:55 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 22:12:56 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1292.88ms
2025-11-21 22:12:56 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 22:12:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 2169.45ms
2025-11-21 22:12:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 22:12:57 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.01ms
2025-11-21 22:12:57 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 22:12:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 22:12:57 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 22:12:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1325.94ms
2025-11-21 22:12:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 22:12:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 22:12:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 22:12:58 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 22:12:58 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 22:12:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1228.61ms
2025-11-21 22:12:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 22:12:59 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 22:12:59 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 22:12:59 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 22:13:00 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 22:13:00 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1305.39ms
2025-11-21 22:13:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10775.36ms
2025-11-21 22:13:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:13:06 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 4.00ms
2025-11-21 22:13:06 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:13:07 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 1377.81ms
2025-11-21 22:13:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:13:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/realtime/status | Status: 200 | Duration: 2.01ms
2025-11-21 22:13:17 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:13:17 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:13:17 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 404 | Duration: 8.02ms
2025-11-21 22:13:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:13:37 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/dashboard | Status: 200 | Duration: 2.00ms
2025-11-21 22:13:37 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1595.33ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.00ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/indices | Status: 200 | Duration: 3.00ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 5.00ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 4.02ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/sentiment | Status: 200 | Duration: 4.02ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/news | Status: 200 | Duration: 5.04ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:13:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/timeline | Status: 200 | Duration: 7.00ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:13:39 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 22:13:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 22:13:39 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 4.51ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:13:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 22:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:13:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 22:13:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 22:13:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 149.36ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:13:39 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 22:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:13:39 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 22:13:39 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '10', 'live': 'true'} | Query: {}
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/timeline | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:13:39 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 22:13:39 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:13:39 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 22:13:39 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 22:13:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:13:39 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 22:13:39 - routers.timeline - INFO - get_timeline_internal:44 - Generating live timeline for 7 days
2025-11-21 22:13:39 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 22:13:39 - routers.timeline - INFO - get_timeline_internal:73 - Live timeline service returned 4 events
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 46.62ms
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/timeline | Status: 200 | Duration: 46.62ms
2025-11-21 22:13:39 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 22:13:39 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 22:13:39 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:13:39 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 548.03ms
2025-11-21 22:13:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1166.86ms
2025-11-21 22:13:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:13:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 22:13:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 22:13:40 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.01ms
2025-11-21 22:13:40 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 22:13:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 22:13:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 22:13:40 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 22:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1126.95ms
2025-11-21 22:13:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 22:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 3.00ms
2025-11-21 22:13:41 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 22:13:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 22:13:41 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1182.57ms
2025-11-21 22:13:41 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 22:13:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1363.45ms
2025-11-21 22:13:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 22:13:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 22:13:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 22:13:42 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 22:13:43 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 22:13:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1265.83ms
2025-11-21 22:13:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: OPTIONS /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 22:13:44 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: OPTIONS /api/stock_analysis | Status: 200 | Duration: 2.00ms
2025-11-21 22:13:44 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 22:13:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 22:13:44 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 22:13:45 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1087.44ms
2025-11-21 22:14:24 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: POST /api/auth/login | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:14:25 - routers.auth - INFO - login:102 - User johnsmith123 (ID: 20) logged in successfully
2025-11-21 22:14:26 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: POST /api/auth/login | Status: 200 | Duration: 1370.87ms
2025-11-21 22:14:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/dashboard | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:14:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/window-functions | IP: 127.0.0.1 | Params: {'limit': '50'} | Query: {}
2025-11-21 22:14:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/last-updates | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:14:27 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/auto-refresh-config | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:14:27 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:14:27 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:14:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/last-updates | Status: 404 | Duration: 13.53ms
2025-11-21 22:14:27 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/auto-refresh-config | Status: 404 | Duration: 14.52ms
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/dashboard | Status: 200 | Duration: 1555.28ms
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/indices | IP: 127.0.0.1 | Params: {'days': '7'} | Query: {}
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:14:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/sentiment | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7', 'live': 'true'} | Query: {}
2025-11-21 22:14:29 - routers.indices - INFO - get_indices_internal:41 - Fetching live market indices for 7 days
2025-11-21 22:14:29 - utils.live_stock_service - INFO - get_market_indices:355 - Returning cached indices data
2025-11-21 22:14:29 - routers.indices - INFO - get_indices_internal:45 - Live indices service returned 5 indices
2025-11-21 22:14:29 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: , days: 7
2025-11-21 22:14:29 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:14:29 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:14:29 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 22:14:29 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: , days: 7
2025-11-21 22:14:29 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:14:29 - routers.sentiment - INFO - get_sentiment_internal:103 - Fetching sentiment data from Firestore for ticker: AAPL, days: 7
2025-11-21 22:14:29 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:14:29 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:14:29 - routers.sentiment - INFO - get_sentiment_internal:106 - Firestore returned stats: {'total_articles': 0, 'positive': 0, 'negative': 0, 'neutral': 0, 'average_sentiment': 0.0}, trends: 0
2025-11-21 22:14:29 - routers.sentiment - INFO - get_sentiment_internal:124 - Firestore empty, trying NewsAPI for ticker: AAPL, days: 7
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 119.89ms
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/indices | Status: 200 | Duration: 123.88ms
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/news | IP: 127.0.0.1 | Params: {'days': '7', 'limit': '20', 'live': 'true'} | Query: {}
2025-11-21 22:14:29 - routers.news - INFO - get_news_internal:45 - Fetching news from Firestore for ticker: , days: 7, sentiment: 
2025-11-21 22:14:29 - config.firestore - ERROR - get_articles_from_firestore:128 - Error getting articles from Firestore: 403 Permission denied on resource project INF1005. [reason: "CONSUMER_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "firestore.googleapis.com"
}
metadata {
  key: "containerInfo"
  value: "INF1005"
}
metadata {
  key: "consumer"
  value: "projects/INF1005"
}
, locale: "en-US"
message: "Permission denied on resource project INF1005."
, links {
  description: "Google developers console"
  url: "https://console.developers.google.com"
}
]
2025-11-21 22:14:29 - routers.news - INFO - get_news_internal:47 - Firestore returned 0 articles for ticker ''
2025-11-21 22:14:29 - routers.news - INFO - get_news_internal:59 - Firestore empty, fetching live news for ticker: , days: 7, sentiment: 
2025-11-21 22:14:29 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:14:29 - routers.news - INFO - get_news_internal:71 - Live news service returned 0 articles
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/news | Status: 200 | Duration: 35.22ms
2025-11-21 22:14:29 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 22:14:29 - utils.news_service - ERROR - get_company_info_from_db:329 - Database query failed for AAPL: 'Company' object has no attribute 'industry'
2025-11-21 22:14:29 - utils.news_service - WARNING - fetch_news_async:187 - NewsAPI client not available, no news data will be returned
2025-11-21 22:14:29 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/sentiment | Status: 200 | Duration: 665.39ms
2025-11-21 22:14:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1285.71ms
2025-11-21 22:14:30 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/window-functions | Status: 200 | Duration: 2530.68ms
2025-11-21 22:14:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AAPL', 'days': '7'} | Query: {}
2025-11-21 22:14:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AAPL for last 7 days from MySQL
2025-11-21 22:14:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'MSFT', 'days': '7'} | Query: {}
2025-11-21 22:14:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve MSFT for last 7 days from MySQL
2025-11-21 22:14:30 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:14:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 6 rows for AAPL from MySQL
2025-11-21 22:14:30 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for MSFT from MySQL
2025-11-21 22:14:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/sector-performance | Status: 200 | Duration: 1143.17ms
2025-11-21 22:14:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/analytics/rolling-aggregations | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:14:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1412.80ms
2025-11-21 22:14:31 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1418.43ms
2025-11-21 22:14:31 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'GOOGL', 'days': '7'} | Query: {}
2025-11-21 22:14:31 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve GOOGL for last 7 days from MySQL
2025-11-21 22:14:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for GOOGL from MySQL
2025-11-21 22:14:32 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1185.75ms
2025-11-21 22:14:32 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'AMZN', 'days': '7'} | Query: {}
2025-11-21 22:14:32 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve AMZN for last 7 days from MySQL
2025-11-21 22:14:33 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for AMZN from MySQL
2025-11-21 22:14:34 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1452.40ms
2025-11-21 22:14:34 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/stock_analysis | IP: 127.0.0.1 | Params: {'ticker': 'TSLA', 'days': '7'} | Query: {}
2025-11-21 22:14:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:68 - DB-first: attempting to serve TSLA for last 7 days from MySQL
2025-11-21 22:14:34 - routers.stock_analysis - INFO - get_stock_analysis_internal:98 - DB-first: serving 5 rows for TSLA from MySQL
2025-11-21 22:14:35 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/stock_analysis | Status: 200 | Duration: 1281.63ms
2025-11-21 22:14:42 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/analytics/rolling-aggregations | Status: 200 | Duration: 10912.99ms
2025-11-21 22:14:42 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/warehouse/materialized-view/sector-performance | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:14:43 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/warehouse/materialized-view/sector-performance | Status: 200 | Duration: 994.02ms
2025-11-21 22:14:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:14:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:14:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 404 | Duration: 11.84ms
2025-11-21 22:15:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:15:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:15:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 404 | Duration: 6.04ms
2025-11-21 22:15:58 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:15:58 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:15:58 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 404 | Duration: 7.01ms
2025-11-21 22:16:28 - middleware.logging_middleware - INFO - log_request:115 - REQUEST: GET /api/realtime/status | IP: 127.0.0.1 | Params: {} | Query: {}
2025-11-21 22:16:28 - middleware.error_handler - WARNING - handle_http_error:134 - HTTP error 404: Not Found
2025-11-21 22:16:28 - middleware.logging_middleware - INFO - log_response:123 - RESPONSE: GET /api/realtime/status | Status: 404 | Duration: 5.72ms
2025-11-21 22:16:45 - root - INFO - lifespan:52 - Shutting down MarketPulse API...
2025-11-21 22:16:45 - config.database - INFO - close_database:134 - MySQL primary connection closed
